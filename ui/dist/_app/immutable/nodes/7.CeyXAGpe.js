import{p as d}from"../chunks/index.XPQK783o.js";import{P as _}from"../chunks/_page.BX4DfuGk.js";const s=async({params:t,parent:a,fetch:c})=>{var r;const{collections:i}=await a(),e=i.find(o=>o.name===t.collectionName),l=((r=e==null?void 0:e.schema)==null?void 0:r.filter(o=>o.type==="relation").map(o=>o.name))||[];let n;return t.recordId!=="newRecord"&&(n=await d.collection(t.collectionName).getOne(t.recordId,{fetch:c,expand:l.join(",")})),{record:n,schema:(e==null?void 0:e.schema)||[]}},p=Object.freeze(Object.defineProperty({__proto__:null,load:s},Symbol.toStringTag,{value:"Module"}));export{_ as component,p as universal};
