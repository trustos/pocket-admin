import{a as Rt}from"../chunks/auth.PFQ9AtnQ.js";import{s as ie,r as L,u as fe,E as Re,H as Ie,I as Ae,J as Ne,ac as Qt,L as f,R as Zt,O as It,K as xt,q as en,D as Se,U as ke,p as K,k as x,a as Ve,g as $e,i as re,f as Z,e as st,c as at,b as lt,l as qe,F as _t,m as wt,n as At,t as Xe,d as Je,h as tn,j as nn}from"../chunks/scheduler.CqdvYHi_.js";import{S as le,i as ce,c as W,a as Y,m as q,t as A,b as N,d as X,k as Ee,e as on,g as rn}from"../chunks/index.ByeJd0xS.js";import{D as sn}from"../chunks/data-table-actions.CgyBDyXZ.js";import{f as vt,h as an,g as ln}from"../chunks/entry.CEeWAaqq.js";import{g as pe,e as De,b as Te}from"../chunks/events.FRsraPB8.js";import{d as Ce,w as Q,a as cn}from"../chunks/index.CpBNo5DZ.js";import{E as un}from"../chunks/index.CX_1uQ22.js";import{B as fn}from"../chunks/index.rMs0u1fK.js";import{D as dn,P as mn}from"../chunks/_page.y2IWwTJi.js";import{p as gn}from"../chunks/stores.CWcfJ79i.js";import{D as pn}from"../chunks/dialog-close.tXnJS_W8.js";import{b as hn,a as bn,D as _n}from"../chunks/Cross2.CJH4sObB.js";import{I as wn}from"../chunks/create.UQqxdDsG.js";function vn(t){let e;const o=t[2].default,n=Re(o,t,t[3],null);return{c(){n&&n.c()},l(i){n&&n.l(i)},m(i,r){n&&n.m(i,r),e=!0},p(i,r){n&&n.p&&(!e||r&8)&&Ie(n,o,i,i[3],e?Ne(o,i[3],r,null):Ae(i[3]),null)},i(i){e||(A(n,i),e=!0)},o(i){N(n,i),e=!1},d(i){n&&n.d(i)}}}function yn(t){let e,o;const n=[{name:"plus"},t[1],{iconNode:t[0]}];let i={$$slots:{default:[vn]},$$scope:{ctx:t}};for(let r=0;r<n.length;r+=1)i=L(i,n[r]);return e=new wn({props:i}),{c(){W(e.$$.fragment)},l(r){Y(e.$$.fragment,r)},m(r,a){q(e,r,a),o=!0},p(r,[a]){const s=a&3?pe(n,[n[0],a&2&&De(r[1]),a&1&&{iconNode:r[0]}]):{};a&8&&(s.$$scope={dirty:a,ctx:r}),e.$set(s)},i(r){o||(A(e.$$.fragment,r),o=!0)},o(r){N(e.$$.fragment,r),o=!1},d(r){X(e,r)}}}function Sn(t,e,o){let{$$slots:n={},$$scope:i}=e;const r=[["path",{d:"M5 12h14"}],["path",{d:"M12 5v14"}]];return t.$$set=a=>{o(1,e=L(L({},e),fe(a))),"$$scope"in a&&o(3,i=a.$$scope)},e=fe(e),[r,e,n,i]}class Tn extends le{constructor(e){super(),ce(this,e,Sn,yn,ie,{})}}const Dn=!1,Pn=async({params:t,fetch:e,parent:o,url:n})=>{var u;const{collections:i}=await o(),r=i.find(w=>w.name===t.collectionName),a=Number(n.searchParams.get("page"))||1,s=10,c=(((u=r==null?void 0:r.schema)==null?void 0:u.filter(w=>w.type==="relation").map(w=>w.name))||[]).join(",");try{const w=await Rt.pb.collection(t.collectionName).getList(a,s,{fetch:e,expand:c,sort:"-created"}),y=[{name:"id",type:"id"},...(r==null?void 0:r.schema)||[],{name:"created",type:"date"},{name:"updated",type:"date"}];return{collection:w,schema:[...y],title:r==null?void 0:r.name,collectionType:r==null?void 0:r.type,relationsToExpand:c,pagination:{page:a,perPage:s,totalPages:Math.ceil(w.totalItems/s),totalItems:w.totalItems}}}catch(w){return{error:w}}},sr=Object.freeze(Object.defineProperty({__proto__:null,load:Pn,prerender:Dn},Symbol.toStringTag,{value:"Module"}));function On(t){return function(e,o){if(o===void 0)return;const n=t[e];n&&n.set(o)}}const F={DURATION:.5,EASE:[.32,.72,0,1]},Nt=.4;function ae(t,e){if(typeof document>"u")return()=>{};const o=Cn(t,(n,i)=>({stores:n,onUnsubscribe:i})).subscribe(({stores:n,onUnsubscribe:i})=>{const r=e(n);r&&i(r)});return Ft(o),o}function Cn(t,e){let o=[];const n=s=>{o.push(s)},i=()=>{o.forEach(s=>s()),o=[]},r=Ce(t,s=>(i(),e(s,n)));return Ft(i),{...r,subscribe:(...s)=>{const l=r.subscribe(...s);return()=>{l(),i()}}}}const Ft=t=>{try{Qt(t)}catch{return t()}},yt=(t,e)=>{const o=(i,r)=>{t.update(a=>{const s=i(a);let l=s;return e&&(l=e({curr:a,next:s})),r==null||r(l),l})};return{...t,update:o,set:i=>{o(()=>i)}}};function kn(t){const e={};return Object.keys(t).forEach(o=>{const n=o,i=t[n];e[n]=Q(i)}),e}function En(t,...e){const o={};for(const n of Object.keys(t))e.includes(n)||(o[n]=t[n]);return o}function Rn(t){const e={};for(const o in t){const n=t[o];n!==void 0&&(e[o]=n)}return e}const Lt=new WeakMap;function B(t,e,o=!1){if(!t||!(t instanceof HTMLElement)||!e)return;const n={};Object.entries(e).forEach(([i,r])=>{if(i.startsWith("--")){t.style.setProperty(i,r);return}n[i]=t.style[i],t.style[i]=r}),!o&&Lt.set(t,n)}function Ue(t,e){if(!t||!(t instanceof HTMLElement))return;const o=Lt.get(t);o&&(e?t.style[e]=o[e]:Object.entries(o).forEach(([n,i])=>{t.style[n]=i}))}function We(t,e){const o=window.getComputedStyle(t),n=o.transform||o.webkitTransform||o.mozTransform;let i=n.match(/^matrix3d\((.+)\)$/);return i?parseFloat(i[1].split(", ")[z(e)?13:12]):(i=n.match(/^matrix\((.+)\)$/),i?parseFloat(i[1].split(", ")[z(e)?5:4]):null)}function In(t){return Object.keys(t).reduce((e,o)=>t[o]===void 0?e:e+`${o}:${t[o]};`,"")}function it(){}function ye(t,e,o,n){const i=Array.isArray(e)?e:[e];return i.forEach(r=>t.addEventListener(r,o,n)),()=>{i.forEach(r=>t.removeEventListener(r,o,n))}}const An=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]),Nn=typeof document<"u";function Ke(t){return t instanceof HTMLInputElement&&!An.has(t.type)||t instanceof HTMLTextAreaElement||t instanceof HTMLElement&&t.isContentEditable}function z(t){return t==="top"||t==="bottom"}function St(t){return t==="bottom"||t==="right"}function Ge(...t){return(...e)=>{for(const o of t)typeof o=="function"&&o(...e)}}function Fn(t){return new Promise(e=>setTimeout(e,t))}function Ln({activeSnapPoint:t,snapPoints:e,drawerRef:o,overlayRef:n,fadeFromIndex:i,openTime:r,direction:a}){const s=Ce([e,t],([h,b])=>b===(h==null?void 0:h[h.length-1])),l=Ce([e,i,t],([h,b,_])=>h&&h.length>0&&(b||b===0)&&!Number.isNaN(b)&&h[b]===_||!h),c=Ce([e,t],([h,b])=>(h==null?void 0:h.findIndex(_=>_===b))??null),u=Ce(e,h=>h?h.map(b=>{const _=typeof window<"u",I=typeof b=="string";let T=0;I&&(T=parseInt(b,10));const P=f(a);if(z(P)){const S=I?T:_?b*window.innerHeight:0;return _?P==="bottom"?window.innerHeight-S:window.innerHeight+S:S}const O=I?T:_?b*window.innerWidth:0;return _?P==="right"?window.innerWidth-O:window.innerWidth+O:O}):[]),w=Ce([u,c],([h,b])=>b!==null?h==null?void 0:h[b]:null);ae([t,o],([h,b])=>{if(h&&b){const _=f(e),I=f(u),T=(_==null?void 0:_.findIndex(P=>P===h))??-1;I&&T!==-1&&typeof I[T]=="number"&&y(I[T])}});function y(h){Zt().then(()=>{const b=f(u),_=(b==null?void 0:b.findIndex(S=>S===h))??null,I=f(o),T=f(a);U(_),B(I,{transition:`transform ${F.DURATION}s cubic-bezier(${F.EASE.join(",")})`,transform:z(T)?`translate3d(0, ${h}px, 0)`:`translate3d(${h}px, 0, 0)`});const P=f(i),O=f(n);u&&_!==b.length-1&&_!==P?B(O,{transition:`opacity ${F.DURATION}s cubic-bezier(${F.EASE.join(",")})`,opacity:"0"}):B(O,{transition:`opacity ${F.DURATION}s cubic-bezier(${F.EASE.join(",")})`,opacity:"1"}),t.update(()=>{const S=f(e);return _===null||!S?null:S[_]})})}function H({draggedDistance:h,closeDrawer:b,velocity:_,dismissible:I}){const T=f(i);if(T===void 0)return;const P=f(w),O=f(c),S=f(n),m=f(u),$=f(e),V=f(a),M=V==="bottom"||V==="right"?(P??0)-h:(P??0)+h,de=O===T-1,he=O===0,ue=h>0;if(de&&B(S,{transition:`opacity ${F.DURATION}s cubic-bezier(${F.EASE.join(",")})`}),_>2&&!ue){I?b():y(m[0]);return}if(_>2&&ue&&m&&$){y(m[$.length-1]);return}const me=m==null?void 0:m.reduce((J,ee)=>typeof J!="number"||typeof ee!="number"?J:Math.abs(ee-M)<Math.abs(J-M)?ee:J),be=z(V)?window.innerHeight:window.innerWidth;if(_>Nt&&Math.abs(h)<be*.4){const J=ue?1:-1;if(J>0&&f(s)&&$){y(m[$.length-1]);return}if(he&&J<0&&I&&b(),O===null)return;y(m[O+J]);return}y(me)}function E({draggedDistance:h}){const b=f(o),_=f(w);if(_===null)return;const I=f(u),T=f(a),P=T==="bottom"||T==="right"?_-h:_+h,O=I[I.length-1];St(T)&&P<O||!St(T)&&P>O||B(b,{transform:z(T)?`translate3d(0, ${P}px, 0)`:`translate3d(${P}px, 0, 0)`})}function C(h,b){const _=f(c),I=f(u),T=f(e),P=f(i);if(!T||typeof _!="number"||!I||P===void 0)return null;const O=_===P-1;if(_>=P&&b)return 0;if(O&&!b)return 1;if(!f(l)&&!O)return null;const m=O?_+1:_-1,$=O?I[m]-I[m-1]:I[m+1]-I[m],V=h/Math.abs($);return O?1-V:V}function U(h){const b=f(e),_=f(u);b&&h===_.length-1&&r.set(new Date)}return{isLastSnapPoint:s,shouldFade:l,getPercentageDragged:C,activeSnapPointIndex:c,onRelease:H,onDrag:E,snapPointsOffset:u}}function Mn(){return ct(/^Mac/)}function Bn(){return ct(/^iPhone/)}function Hn(){return ct(/^iPad/)||Mn()&&navigator.maxTouchPoints>1}function Mt(){return Bn()||Hn()}function ct(t){return typeof window<"u"&&window.navigator!=null?t.test(window.navigator.platform):void 0}const nt=typeof document<"u"&&window.visualViewport;function Tt(t){const e=window.getComputedStyle(t);return/(auto|scroll)/.test(e.overflow+e.overflowX+e.overflowY)}function Bt(t){for(Tt(t)&&(t=t.parentElement);t&&!Tt(t);)t=t.parentElement;return t||document.scrollingElement||document.documentElement}let Ye=0,ot;function Un(){return typeof document>"u"?()=>{}:(Ye++,Ye===1&&(Mt()?ot=zn():ot=jn()),()=>{Ye--,Ye===0&&ot()})}function Vn(t){const e=t.getBoundingClientRect().left;return Math.round(e)+t.scrollLeft?"paddingLeft":"paddingRight"}function $n(t,e,o){if(!t)return;const n=t.style.getPropertyValue(e);return t.style.setProperty(e,o),()=>{n?t.style.setProperty(e,n):t.style.removeProperty(e)}}function jn(){if(typeof document>"u")return()=>{};const t=document.defaultView??window,{documentElement:e,body:o}=document,n=t.innerWidth-e.clientWidth,i=()=>$n(e,"--scrollbar-width",`${n}px`),r=Vn(e),a=t.getComputedStyle(o)[r];return Ge(i(),Qe(o,r,`calc(${a} + ${n}px)`),Qe(o,"overflow","hidden"))}function zn(){let t,e=0;const{documentElement:o,body:n,activeElement:i}=document;function r(E){t=Bt(E.target),!(t===o&&t===n)&&(e=E.changedTouches[0].pageY)}function a(E){if(!t||t===o||t===n){E.preventDefault();return}const C=E.changedTouches[0].pageY,U=t.scrollTop,h=t.scrollHeight-t.clientHeight;h!==0&&((U<=0&&C>e||U>=h&&C<e)&&E.preventDefault(),e=C)}function s(E){const C=E.target;Ke(C)&&C!==i&&(E.preventDefault(),C.style.transform="translateY(-2000px)",C.focus(),requestAnimationFrame(()=>{C.style.transform=""}))}function l(E){const C=E.target;Ke(C)&&(C.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{C.style.transform="",nt&&(nt.height<window.innerHeight?requestAnimationFrame(()=>{Dt(C)}):nt.addEventListener("resize",()=>Dt(C),{once:!0}))}))}function c(){window.scrollTo(0,0)}const u=window.pageXOffset,w=window.pageYOffset,y=Ge(Qe(o,"paddingRight",`${window.innerWidth-o.clientWidth}px`),Qe(o,"overflow","hidden"));window.scrollTo(0,0);const H=Ge(ye(document,"touchstart",r,{passive:!1,capture:!0}),ye(document,"touchmove",a,{passive:!1,capture:!0}),ye(document,"touchend",s,{passive:!1,capture:!0}),ye(document,"focus",l,!0),ye(window,"scroll",c));return()=>{y(),H(),window.scrollTo(u,w)}}function Qe(t,e,o){const n=t.style[e];return t.style[e]=o,()=>{t.style[e]=n}}function Dt(t){const{documentElement:e,body:o,scrollingElement:n}=document,i=n||e;for(;t&&t!==i;){const r=Bt(t);if(r!==e&&r!==o&&r!==t){const a=r.getBoundingClientRect().top,s=t.getBoundingClientRect().top,l=t.getBoundingClientRect().bottom,c=r.getBoundingClientRect().bottom;l>c&&(r.scrollTop+=s-a)}t=r.parentElement}}const Wn=cn(void 0,t=>{function e(n){n&&n.key==="Escape"&&t(n),t(void 0)}return ye(document,"keydown",e,{passive:!1})});function Yn(t,e){let o=it;function n(i){o(),o=Ge(Wn.subscribe(r=>{if(!r)return;const a=r.target;!qn(a)||a.closest("[data-escapee]")!==t||(r.preventDefault(),i(r))})),t.setAttribute("data-escapee","")}return n(e),()=>{o(),t.removeAttribute("data-escapee")}}function qn(t){return t instanceof HTMLElement}let ve=null;function Xn({isOpen:t,modal:e,nested:o,hasBeenOpened:n}){const i=Q(typeof window<"u"?window.location.href:"");let r=0;function a(l){if(!(ve===null&&l))return;ve={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left,height:document.body.style.height};const{scrollX:c,innerHeight:u}=window;document.body.style.setProperty("position","fixed","important"),document.body.style.top=`${-r}px`,document.body.style.left=`${-c}px`,document.body.style.right="0px",document.body.style.height="auto",setTimeout(()=>requestAnimationFrame(()=>{const w=u-window.innerHeight;w&&r>=u&&(document.body.style.top=`${-(r+w)}px`)}),300)}function s(){if(ve===null)return;const l=f(i),c=-parseInt(document.body.style.top,10),u=-parseInt(document.body.style.left,10);document.body.style.position=ve.position,document.body.style.top=ve.top,document.body.style.left=ve.left,document.body.style.height=ve.height,document.body.style.right="unset",requestAnimationFrame(()=>{if(l!==window.location.href){i.set(window.location.href);return}window.scrollTo(u,c)}),ve=null}return It(()=>{function l(){r=window.scrollY}return l(),ye(window,"scroll",l),()=>{}}),ae([t,i],([l,c])=>{typeof document>"u"||f(o)||!f(n)||(l?(a(l),f(e)||setTimeout(()=>{s()},500)):s())}),{restorePositionSetting:s}}const Jn=.25,Kn=100,Pt=8,Oe=16,Ht=26,Ot="vaul-dragging",rt=Q([]),Gn={closeThreshold:Jn,shouldScaleBackground:!0,scrollLockTimeout:Kn,onDrag:void 0,onRelease:void 0,snapPoints:void 0,fadeFromIndex:void 0,defaultActiveSnapPoint:void 0,onActiveSnapPointChange:void 0,defaultOpen:!1,onOpenChange:void 0,fixed:void 0,dismissible:!0,modal:!0,nested:!1,onClose:void 0,direction:"bottom"},Qn=["defaultOpen","onOpenChange","defaultActiveSnapPoint","onActiveSnapPointChange","onDrag","onRelease","onClose"];function Zn(t){var pt;const{snapPoints:e,fadeFromIndex:o=e&&e.length-1,...n}={...Gn,...Rn(t)},i=kn(En({...n,snapPoints:e,fadeFromIndex:o},...Qn)),r=Q(void 0),{onDrag:a,onRelease:s,onClose:l,onOpenChange:c}=n,{snapPoints:u,fadeFromIndex:w,fixed:y,dismissible:H,modal:E,nested:C,shouldScaleBackground:U,scrollLockTimeout:h,closeThreshold:b,direction:_}=i,I=Q(n.defaultOpen),T=yt(I,n.onOpenChange),P=Q(!1),O=Q(!1),S=Q(!1),m=Q(void 0),$=Q(null),V=Q(!1),M=Q(void 0),de=Q(void 0);let he=!1,ue=null,me=!1,be=0,J=null,ee=null,_e=!1,ne=((pt=f(M))==null?void 0:pt.getBoundingClientRect().height)||0,je=0,Me=0,Be=null;const d=yt(Q(n.defaultActiveSnapPoint),n.onActiveSnapPointChange),{activeSnapPointIndex:ge,getPercentageDragged:ft,onDrag:Vt,onRelease:$t,shouldFade:dt,snapPointsOffset:Ze}=Ln({snapPoints:u,activeSnapPoint:d,drawerRef:M,fadeFromIndex:w,overlayRef:m,openTime:$,direction:_}),jt=Ce([Ze],([g])=>(p="")=>{if(g&&g.length>0){const v=In({"--snap-point-height":`${g[0]}px`});return p+v}return p});ae([M],([g])=>{g&&de.set(g.id)}),ae([T],([g])=>{Fn(100).then(()=>{const p=f(de);g&&p?rt.update(v=>(v.includes(p)||v.push(p),v)):rt.update(v=>v.filter(D=>D!==D))})}),ae([T],([g])=>{if(!g&&f(U)){const p=setTimeout(()=>{Ue(document.body,"background")},200);return()=>clearTimeout(p)}}),ae([T],([g])=>{let p=()=>{};return g&&(p=Un()),p});const{restorePositionSetting:zt}=Xn({isOpen:T,modal:E,nested:C,hasBeenOpened:P});ae([M],([g])=>{let p=it;return g&&(p=Yn(g,()=>{Fe(!0)})),()=>{p()}});function Wt(){me||(P.set(!0),T.set(!0))}function Yt(g){const p=f(M);!f(H)&&!f(u)||p&&!p.contains(g.target)||(ne=(p==null?void 0:p.getBoundingClientRect().height)||0,he=!0,ue=new Date,Mt()&&window.addEventListener("touchend",()=>_e=!1,{once:!0}),g.target.setPointerCapture(g.pointerId),be=z(f(_))?g.screenY:g.screenX)}function mt(g,p){var G;const v=f(M);let D=g;const k=(G=window.getSelection())==null?void 0:G.toString(),R=f(_),j=v?We(v,R):null,te=new Date;if(D.hasAttribute("data-vaul-no-drag")||D.closest("[data-vaul-no-drag]"))return!1;const oe=f($);if(oe&&te.getTime()-oe.getTime()<500)return!1;if(j!==null&&(R==="bottom"||R==="right"?j>0:j<0)||j!==null&&j>0)return!0;if(k&&k.length>0)return!1;const se=f(h);if(ee&&te.getTime()-ee.getTime()<se&&j===0||p)return ee=te,!1;for(;D;){if(D.scrollHeight>D.clientHeight){if(D.scrollTop!==0)return ee=new Date,!1;if(D.getAttribute("role")==="dialog")return!0}D=D.parentNode}return!0}function qt(g){const p=f(M);if(!p||!he)return;const v=f(_),D=kt(v),k=Ct(be,v,g)*D,R=k>0,j=f(ge),te=f(u);if(te&&j===0&&!f(H)||!_e&&!mt(g.target,R))return;p.classList.add(Ot),_e=!0,B(p,{transition:"none"});const oe=f(m);if(B(oe,{transition:"none"}),te&&Vt({draggedDistance:k}),R&&!te){const Pe=xn(k),ze=Math.min(Pe*-1,0)*D;B(p,{transform:z(v)?`translate3d(0, ${ze}px, 0)`:`translate3d(${ze}px, 0, 0)`});return}const se=Math.abs(k);let G=se/ne;const He=ft(se,R);He!==null&&(G=He);const et=1-G,we=f(w);(f(dt)||we&&j===we-1)&&(a==null||a(g,G),B(oe,{opacity:`${et}`,transition:"none"},!0));const ht=document.querySelector("[data-vaul-drawer-wrapper]");if(ht&&oe&&f(U)){const Pe=Math.min(Le()+G*(1-Le()),1),ze=8-G*8,bt=Math.max(0,14-G*14);B(ht,{borderRadius:`${ze}px`,transform:z(v)?`scale(${Pe}) translate3d(0, ${bt}px, 0)`:`scale(${Pe}) translate3d(${bt}px, 0, 0)`,transition:"none"},!0)}if(!te){const Pe=se*D;B(p,{transform:z(v)?`translate3d(0, ${Pe}px, 0)`:`translate3d(${Pe}px, 0, 0)`})}}function xe(g,p="black"){const v=document.querySelector("[data-vaul-drawer-wrapper]");if(!v||!f(U))return;const D=f(_);g?(B(document.body,{background:document.body.style.backgroundColor||document.body.style.background}),B(document.body,{background:p},!0),B(v,{borderRadius:`${Pt}px`,overflow:"hidden",...z(D)?{transform:`scale(${Le()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${Le()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"},transitionProperty:"transform, border-radius",transitionDuration:`${F.DURATION}s`,transitionTimingFunction:`cubic-bezier(${F.EASE.join(",")})`})):(Ue(v,"overflow"),Ue(v,"transform"),Ue(v,"borderRadius"),B(v,{transitionProperty:"transform, border-radius",transitionDuration:`${F.DURATION}s`,transitionTimingFunction:`cubic-bezier(${F.EASE.join(",")})`}))}ae([ge,u,Ze],([g,p,v])=>{function D(){var oe;const R=f(M);if(!R)return;const j=f(V),te=document.activeElement;if(Ke(te)||j){const se=((oe=window.visualViewport)==null?void 0:oe.height)||0;let G=window.innerHeight-se;const He=R.getBoundingClientRect().height||0;Me||(Me=He);const et=R.getBoundingClientRect().top;if(Math.abs(je-G)>60&&V.set(!j),p&&p.length>0&&v&&g){const we=v[g]||0;G+=we}if(je=G,He>se||j){const we=R.getBoundingClientRect().height;let tt=we;we>se&&(tt=se-Ht),f(y)?R.style.height=`${we-Math.max(G,0)}px`:R.style.height=`${Math.max(tt,se-et)}px`}else R.style.height=`${Me}px`;p&&p.length>0&&!j?R.style.bottom="0px":R.style.bottom=`${Math.max(G,0)}px`}}let k=it;return window.visualViewport&&(k=ye(window.visualViewport,"resize",D)),()=>{k()}});function Fe(g=!1){if(me)return;const p=f(M);if(!p)return;const v=f(_);l==null||l(),B(p,{transform:z(v)?`translate3d(0, ${v==="bottom"?"100%":"-100%"}, 0)`:`translate3d(${v==="right"?"100%":"-100%"}, 0, 0)`,transition:`transform ${F.DURATION}s cubic-bezier(${F.EASE.join(",")})`}),B(f(m),{opacity:"0",transition:`opacity ${F.DURATION}s cubic-bezier(${F.EASE.join(",")})`}),xe(!1),me=!0,setTimeout(()=>{var k;O.set(!1),T.set(!1),me=!1,g&&((k=f(r))==null||k.focus())},300);const D=f(u);setTimeout(()=>{Ue(document.documentElement,"scrollBehavior"),D&&d.set(D[0])},F.DURATION*1e3)}ae([T],([g])=>{g?P.set(!0):Fe()});function gt(){const g=f(M);if(!g)return;const p=f(m),v=document.querySelector("[data-vaul-drawer-wrapper]"),D=f(_),k=We(g,D);B(g,{transform:"translate3d(0, 0, 0)",transition:`transform ${F.DURATION}s cubic-bezier(${F.EASE.join(",")})`}),B(p,{transition:`opacity ${F.DURATION}s cubic-bezier(${F.EASE.join(",")})`,opacity:"1"});const R=f(U),j=f(T);R&&k&&k>0&&j&&B(v,{borderRadius:`${Pt}px`,overflow:"hidden",...z(D)?{transform:`scale(${Le()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${Le()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"},transitionProperty:"transform, border-radius",transitionDuration:`${F.DURATION}s`,transitionTimingFunction:`cubic-bezier(${F.EASE.join(",")})`},!0)}function Xt(g){var oe;const p=f(M);if(!he||!p)return;_e&&Ke(g.target)&&g.target.blur(),p.classList.remove(Ot),_e=!1,he=!1,J=new Date;const v=f(_),D=We(p,v);if(g.target&&!mt(g.target,!1)||!D||Number.isNaN(D)||ue===null)return;const k=J.getTime()-ue.getTime(),R=Ct(be,v,g),j=Math.abs(R)/k;if(j>.05&&(S.set(!0),setTimeout(()=>{S.set(!1)},200)),f(u)){$t({draggedDistance:R*kt(v),closeDrawer:Fe,velocity:j,dismissible:f(H)}),s==null||s(g,!0);return}if(v==="bottom"||v==="right"?R>0:R<0){gt(),s==null||s(g,!0);return}if(j>Nt){Fe(),s==null||s(g,!1);return}const te=Math.min(((oe=f(M))==null?void 0:oe.getBoundingClientRect().height)??0,window.innerHeight);if(D>=te*f(b)){Fe(),s==null||s(g,!1);return}s==null||s(g,!0),gt()}ae([T],([g])=>{g&&(Nn&&B(document.documentElement,{scrollBehavior:"auto"}),$.set(new Date),xe(!0,t.backgroundColor))}),ae([O],([g])=>{if(!g)return;const p=f(M);if(!p)return;p.querySelectorAll("*").forEach(D=>{const k=D;(k.scrollHeight>k.clientHeight||k.scrollWidth>k.clientWidth)&&k.classList.add("vaul-scrollable")})});function Jt(g){const p=f(M),v=g?(window.innerWidth-Oe)/window.innerWidth:1,D=g?-Oe:0;Be&&window.clearTimeout(Be),B(p,{transition:`transform ${F.DURATION}s cubic-bezier(${F.EASE.join(",")})`,transform:`scale(${v}) translate3d(0, ${D}px, 0)`}),!g&&p&&(Be=setTimeout(()=>{const k=f(_),R=We(p,k);B(p,{transition:"none",transform:z(k)?`translate3d(0, ${R}px, 0)`:`translate3d(${R}px, 0, 0)`})},500))}function Kt(g,p){if(p<0)return;const v=(window.innerWidth-Oe)/window.innerWidth,D=v+p*(1-v),k=-Oe+p*Oe,R=f(_);B(f(M),{transform:z(R)?`scale(${D}) translate3d(0, ${k}px, 0)`:`scale(${D}) translate3d(${k}px, 0, 0)`,transition:"none"})}function Gt(g,p){const v=f(_),D=z(v)?window.innerHeight:window.innerWidth,k=p?(D-Oe)/D:1,R=p?-Oe:0;p&&B(f(M),{transition:`transform ${F.DURATION}s cubic-bezier(${F.EASE.join(",")})`,transform:z(v)?`scale(${k}) translate3d(0, ${R}px, 0)`:`scale(${k}) translate3d(${R}px, 0, 0)`})}return{states:{isOpen:T,hasBeenOpened:P,snapPoints:u,activeSnapPoint:d,snapPointsOffset:Ze,keyboardIsOpen:V,shouldFade:dt,visible:O,drawerId:de,openDrawerIds:rt},helpers:{getContentStyle:jt},methods:{closeDrawer:Fe,onOpenChange:c,onPress:Yt,onRelease:Xt,onDrag:qt,scaleBackground:xe,onNestedDrag:Kt,onNestedOpenChange:Jt,onNestedRelease:Gt,restorePositionSetting:zt,openDrawer:Wt},refs:{drawerRef:M,overlayRef:m,triggerRef:r},options:i}}function xn(t){return 8*(Math.log(t+1)-2)}function Le(){return(window.innerWidth-Ht)/window.innerWidth}function Ct(t,e,o){return o.type.startsWith("touch")?to(t,e,o):eo(t,e,o)}function eo(t,e,o){return t-(z(e)?o.screenY:o.screenX)}function to(t,e,o){return t-(z(e)?o.changedTouches[0].screenY:o.changedTouches[0].screenX)}function kt(t){return t==="bottom"||t==="right"?1:-1}const Ut=Symbol("VAUL_ROOT");function no(t={}){const e=Zn(t),o=On(e.options);return xt(Ut,{...e,updateOption:o}),{...e,updateOption:o}}function ut(){return en(Ut)}function oo(t){let e;const o=t[30].default,n=Re(o,t,t[34],null);return{c(){n&&n.c()},l(i){n&&n.l(i)},m(i,r){n&&n.m(i,r),e=!0},p(i,r){n&&n.p&&(!e||r[1]&8)&&Ie(n,o,i,i[34],e?Ne(o,i[34],r,null):Ae(i[34]),null)},i(i){e||(A(n,i),e=!0)},o(i){N(n,i),e=!1},d(i){n&&n.d(i)}}}function ro(t){let e,o,n;const i=[{closeOnOutsideClick:t[3]},{closeOnEscape:!1},{preventScroll:!1},{onOpenChange:t[31]},{onOutsideClick:t[32]},t[13]];function r(s){t[33](s)}let a={$$slots:{default:[oo]},$$scope:{ctx:t}};for(let s=0;s<i.length;s+=1)a=L(a,i[s]);return t[0]!==void 0&&(a.open=t[0]),e=new pn({props:a}),Se.push(()=>Ee(e,"open",r)),{c(){W(e.$$.fragment)},l(s){Y(e.$$.fragment,s)},m(s,l){q(e,s,l),n=!0},p(s,l){const c=l[0]&11774?pe(i,[l[0]&8&&{closeOnOutsideClick:s[3]},i[1],i[2],l[0]&3074&&{onOpenChange:s[31]},l[0]&1534&&{onOutsideClick:s[32]},l[0]&8192&&De(s[13])]):{};l[1]&8&&(c.$$scope={dirty:l,ctx:s}),!o&&l[0]&1&&(o=!0,c.open=s[0],ke(()=>o=!1)),e.$set(c)},i(s){n||(A(e.$$.fragment,s),n=!0)},o(s){N(e.$$.fragment,s),n=!1},d(s){X(e,s)}}}function io(t,e,o){const n=["open","onOpenChange","closeThreshold","scrollLockTimeout","snapPoints","fadeFromIndex","openFocus","onOutsideClick","closeOnOutsideClick","backgroundColor","nested","shouldScaleBackground","activeSnapPoint","onActiveSnapPointChange","onRelease","onDrag","onClose","dismissible","direction"];let i=K(e,n),r,a,s,{$$slots:l={},$$scope:c}=e,{open:u=!1}=e,{onOpenChange:w=void 0}=e,{closeThreshold:y=void 0}=e,{scrollLockTimeout:H=void 0}=e,{snapPoints:E=void 0}=e,{fadeFromIndex:C=void 0}=e,{openFocus:U=void 0}=e,{onOutsideClick:h=void 0}=e,{closeOnOutsideClick:b=!0}=e,{backgroundColor:_="black"}=e,{nested:I=!1}=e,{shouldScaleBackground:T=!1}=e,{activeSnapPoint:P=void 0}=e,{onActiveSnapPointChange:O=void 0}=e,{onRelease:S=void 0}=e,{onDrag:m=void 0}=e,{onClose:$=void 0}=e,{dismissible:V=void 0}=e,{direction:M="bottom"}=e;const{states:{keyboardIsOpen:de,activeSnapPoint:he,drawerId:ue,openDrawerIds:me,isOpen:be},methods:{closeDrawer:J,openDrawer:ee},options:{dismissible:_e},updateOption:ne}=no({defaultOpen:u,defaultActiveSnapPoint:P,onOpenChange:({next:d})=>(u!==d&&(w==null||w(d),o(0,u=d)),d),onActiveSnapPointChange:({next:d})=>{if(d===void 0&&E&&P!==d){const ge=E[0];return O==null||O(ge),o(14,P=ge),ge}return P!==d&&(O==null||O(d),o(14,P=d)),d},closeThreshold:y,scrollLockTimeout:H,snapPoints:E,fadeFromIndex:C,nested:I,onDrag:m,onClose:$,onRelease:S,shouldScaleBackground:T,backgroundColor:_,dismissible:V,direction:M});x(t,de,d=>o(4,a=d)),x(t,be,d=>o(29,r=d)),x(t,_e,d=>o(5,s=d));const je=d=>{w==null||w(d),d?d&&ee():J()},Me=d=>{if(!b||(h==null||h(d),d!=null&&d.defaultPrevented)||(a&&de.set(!1),d.preventDefault(),!s))return;const ge=f(me);ge[ge.length-1]===f(ue)&&(w==null||w(!1),J())};function Be(d){u=d,o(0,u)}return t.$$set=d=>{e=L(L({},e),fe(d)),o(13,i=K(e,n)),"open"in d&&o(0,u=d.open),"onOpenChange"in d&&o(1,w=d.onOpenChange),"closeThreshold"in d&&o(15,y=d.closeThreshold),"scrollLockTimeout"in d&&o(16,H=d.scrollLockTimeout),"snapPoints"in d&&o(17,E=d.snapPoints),"fadeFromIndex"in d&&o(18,C=d.fadeFromIndex),"openFocus"in d&&o(19,U=d.openFocus),"onOutsideClick"in d&&o(2,h=d.onOutsideClick),"closeOnOutsideClick"in d&&o(3,b=d.closeOnOutsideClick),"backgroundColor"in d&&o(20,_=d.backgroundColor),"nested"in d&&o(21,I=d.nested),"shouldScaleBackground"in d&&o(22,T=d.shouldScaleBackground),"activeSnapPoint"in d&&o(14,P=d.activeSnapPoint),"onActiveSnapPointChange"in d&&o(23,O=d.onActiveSnapPointChange),"onRelease"in d&&o(24,S=d.onRelease),"onDrag"in d&&o(25,m=d.onDrag),"onClose"in d&&o(26,$=d.onClose),"dismissible"in d&&o(27,V=d.dismissible),"direction"in d&&o(28,M=d.direction),"$$scope"in d&&o(34,c=d.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&16384&&P!==void 0&&he.set(P),t.$$.dirty[0]&32768&&ne("closeThreshold",y),t.$$.dirty[0]&65536&&ne("scrollLockTimeout",H),t.$$.dirty[0]&131072&&ne("snapPoints",E),t.$$.dirty[0]&262144&&ne("fadeFromIndex",C),t.$$.dirty[0]&524288&&ne("openFocus",U),t.$$.dirty[0]&4194304&&ne("shouldScaleBackground",T),t.$$.dirty[0]&1048576&&ne("backgroundColor",_),t.$$.dirty[0]&134217728&&ne("dismissible",V),t.$$.dirty[0]&268435456&&ne("direction",M),t.$$.dirty[0]&536870913&&u&&!r&&ee(),t.$$.dirty[0]&536870913&&!u&&r&&J()},[u,w,h,b,a,s,de,ue,me,be,J,ee,_e,i,P,y,H,E,C,U,_,I,T,O,S,m,$,V,M,r,l,je,Me,Be,c]}class so extends le{constructor(e){super(),ce(this,e,io,ro,ie,{open:0,onOpenChange:1,closeThreshold:15,scrollLockTimeout:16,snapPoints:17,fadeFromIndex:18,openFocus:19,onOutsideClick:2,closeOnOutsideClick:3,backgroundColor:20,nested:21,shouldScaleBackground:22,activeSnapPoint:14,onActiveSnapPointChange:23,onRelease:24,onDrag:25,onClose:26,dismissible:27,direction:28},null,[-1,-1])}}function ao(t){const{states:{visible:e},methods:{scaleBackground:o,restorePositionSetting:n}}=ut();return It(()=>(e.set(!0),()=>{o(!1),n()})),[]}class lo extends le{constructor(e){super(),ce(this,e,ao,null,ie,{})}}function co(t){let e,o,n;e=new lo({});const i=t[13].default,r=Re(i,t,t[20],null);return{c(){W(e.$$.fragment),o=Ve(),r&&r.c()},l(a){Y(e.$$.fragment,a),o=$e(a),r&&r.l(a)},m(a,s){q(e,a,s),re(a,o,s),r&&r.m(a,s),n=!0},p(a,s){r&&r.p&&(!n||s&1048576)&&Ie(r,i,a,a[20],n?Ne(i,a[20],s,null):Ae(a[20]),null)},i(a){n||(A(e.$$.fragment,a),A(r,a),n=!0)},o(a){N(e.$$.fragment,a),N(r,a),n=!1},d(a){a&&Z(o),X(e,a),r&&r.d(a)}}}function uo(t){let e,o,n;const i=[{style:t[2](t[0])},{"data-vaul-drawer":""},{"data-vaul-drawer-direction":t[3]},{"data-vaul-drawer-visible":t[4]?"true":"false"},t[12]];function r(s){t[14](s)}let a={$$slots:{default:[co]},$$scope:{ctx:t}};for(let s=0;s<i.length;s+=1)a=L(a,i[s]);return t[1]!==void 0&&(a.el=t[1]),e=new hn({props:a}),Se.push(()=>Ee(e,"el",r)),e.$on("pointerdown",t[15]),e.$on("pointerup",t[16]),e.$on("pointermove",t[17]),e.$on("touchend",t[18]),e.$on("touchmove",t[19]),{c(){W(e.$$.fragment)},l(s){Y(e.$$.fragment,s)},m(s,l){q(e,s,l),n=!0},p(s,[l]){const c=l&4125?pe(i,[l&5&&{style:s[2](s[0])},i[1],l&8&&{"data-vaul-drawer-direction":s[3]},l&16&&{"data-vaul-drawer-visible":s[4]?"true":"false"},l&4096&&De(s[12])]):{};l&1048576&&(c.$$scope={dirty:l,ctx:s}),!o&&l&2&&(o=!0,c.el=s[1],ke(()=>o=!1)),e.$set(c)},i(s){n||(A(e.$$.fragment,s),n=!0)},o(s){N(e.$$.fragment,s),n=!1},d(s){X(e,s)}}}function fo(t,e,o){const n=["style"];let i=K(e,n),r,a,s,l,{$$slots:c={},$$scope:u}=e;const{refs:{drawerRef:w},states:{visible:y},helpers:{getContentStyle:H},methods:{onPress:E,onDrag:C,onRelease:U},options:{direction:h}}=ut();x(t,w,m=>o(1,r=m)),x(t,y,m=>o(4,l=m)),x(t,H,m=>o(2,a=m)),x(t,h,m=>o(3,s=m));let{style:b=""}=e;function _(m){r=m,w.set(r)}const I=m=>{E(m)},T=m=>{U(m)},P=m=>{C(m)},O=m=>{U(m)},S=m=>{C(m)};return t.$$set=m=>{e=L(L({},e),fe(m)),o(12,i=K(e,n)),"style"in m&&o(0,b=m.style),"$$scope"in m&&o(20,u=m.$$scope)},[b,r,a,s,l,w,y,H,E,C,U,h,i,c,_,I,T,P,O,S,u]}class mo extends le{constructor(e){super(),ce(this,e,fo,uo,ie,{style:0})}}function go(t){let e,o,n;const i=[{"data-vaul-drawer-visible":t[2]?"true":"false"},{"data-vaul-overlay":""},{"data-vaul-snap-points":t[3]&&t[0]?"true":"false"},{"data-vaul-snap-points-overlay":t[3]&&t[4]?"true":"false"},t[11]];function r(s){t[13](s)}let a={};for(let s=0;s<i.length;s+=1)a=L(a,i[s]);return t[1]!==void 0&&(a.el=t[1]),e=new bn({props:a}),Se.push(()=>Ee(e,"el",r)),e.$on("mouseup",t[10]),{c(){W(e.$$.fragment)},l(s){Y(e.$$.fragment,s)},m(s,l){q(e,s,l),n=!0},p(s,[l]){const c=l&2077?pe(i,[l&4&&{"data-vaul-drawer-visible":s[2]?"true":"false"},i[1],l&9&&{"data-vaul-snap-points":s[3]&&s[0]?"true":"false"},l&24&&{"data-vaul-snap-points-overlay":s[3]&&s[4]?"true":"false"},l&2048&&De(s[11])]):{};!o&&l&2&&(o=!0,c.el=s[1],ke(()=>o=!1)),e.$set(c)},i(s){n||(A(e.$$.fragment,s),n=!0)},o(s){N(e.$$.fragment,s),n=!1},d(s){X(e,s)}}}function po(t,e,o){let n;const i=[];let r=K(e,i),a,s,l,c,u;const{refs:{overlayRef:w},states:{isOpen:y,visible:H,snapPoints:E,shouldFade:C},methods:{onRelease:U}}=ut();x(t,w,b=>o(1,s=b)),x(t,y,b=>o(3,c=b)),x(t,H,b=>o(2,l=b)),x(t,E,b=>o(12,a=b)),x(t,C,b=>o(4,u=b));function h(b){s=b,w.set(s)}return t.$$set=b=>{e=L(L({},e),fe(b)),o(11,r=K(e,i))},t.$$.update=()=>{t.$$.dirty&4096&&o(0,n=a&&a.length>0)},[n,s,l,c,u,w,y,H,E,C,U,r,a,h]}class ho extends le{constructor(e){super(),ce(this,e,po,go,ie,{})}}const bo=_n,_o=dn;function wo(t){let e;const o=t[4].default,n=Re(o,t,t[7],null);return{c(){n&&n.c()},l(i){n&&n.l(i)},m(i,r){n&&n.m(i,r),e=!0},p(i,r){n&&n.p&&(!e||r&128)&&Ie(n,o,i,i[7],e?Ne(o,i[7],r,null):Ae(i[7]),null)},i(i){e||(A(n,i),e=!0)},o(i){N(n,i),e=!1},d(i){n&&n.d(i)}}}function vo(t){let e,o,n,i;const r=[{shouldScaleBackground:t[2]},t[3]];function a(c){t[5](c)}function s(c){t[6](c)}let l={$$slots:{default:[wo]},$$scope:{ctx:t}};for(let c=0;c<r.length;c+=1)l=L(l,r[c]);return t[0]!==void 0&&(l.open=t[0]),t[1]!==void 0&&(l.activeSnapPoint=t[1]),e=new so({props:l}),Se.push(()=>Ee(e,"open",a)),Se.push(()=>Ee(e,"activeSnapPoint",s)),{c(){W(e.$$.fragment)},l(c){Y(e.$$.fragment,c)},m(c,u){q(e,c,u),i=!0},p(c,[u]){const w=u&12?pe(r,[u&4&&{shouldScaleBackground:c[2]},u&8&&De(c[3])]):{};u&128&&(w.$$scope={dirty:u,ctx:c}),!o&&u&1&&(o=!0,w.open=c[0],ke(()=>o=!1)),!n&&u&2&&(n=!0,w.activeSnapPoint=c[1],ke(()=>n=!1)),e.$set(w)},i(c){i||(A(e.$$.fragment,c),i=!0)},o(c){N(e.$$.fragment,c),i=!1},d(c){X(e,c)}}}function yo(t,e,o){const n=["shouldScaleBackground","open","activeSnapPoint"];let i=K(e,n),{$$slots:r={},$$scope:a}=e,{shouldScaleBackground:s=!0}=e,{open:l=!1}=e,{activeSnapPoint:c=void 0}=e;function u(y){l=y,o(0,l)}function w(y){c=y,o(1,c)}return t.$$set=y=>{e=L(L({},e),fe(y)),o(3,i=K(e,n)),"shouldScaleBackground"in y&&o(2,s=y.shouldScaleBackground),"open"in y&&o(0,l=y.open),"activeSnapPoint"in y&&o(1,c=y.activeSnapPoint),"$$scope"in y&&o(7,a=y.$$scope)},[l,c,s,i,r,u,w,a]}class So extends le{constructor(e){super(),ce(this,e,yo,vo,ie,{shouldScaleBackground:2,open:0,activeSnapPoint:1})}}function To(t){let e,o,n;const i=[{class:Te("fixed inset-0 z-50 bg-black/80",t[1])},t[2]];function r(s){t[3](s)}let a={};for(let s=0;s<i.length;s+=1)a=L(a,i[s]);return t[0]!==void 0&&(a.el=t[0]),e=new ho({props:a}),Se.push(()=>Ee(e,"el",r)),{c(){W(e.$$.fragment)},l(s){Y(e.$$.fragment,s)},m(s,l){q(e,s,l),n=!0},p(s,[l]){const c=l&6?pe(i,[l&2&&{class:Te("fixed inset-0 z-50 bg-black/80",s[1])},l&4&&De(s[2])]):{};!o&&l&1&&(o=!0,c.el=s[0],ke(()=>o=!1)),e.$set(c)},i(s){n||(A(e.$$.fragment,s),n=!0)},o(s){N(e.$$.fragment,s),n=!1},d(s){X(e,s)}}}function Do(t,e,o){const n=["el","class"];let i=K(e,n),{el:r=void 0}=e,{class:a=void 0}=e;function s(l){r=l,o(0,r)}return t.$$set=l=>{e=L(L({},e),fe(l)),o(2,i=K(e,n)),"el"in l&&o(0,r=l.el),"class"in l&&o(1,a=l.class)},[r,a,i,s]}class Po extends le{constructor(e){super(),ce(this,e,Do,To,ie,{el:0,class:1})}}function Oo(t){let e,o,n;const i=t[2].default,r=Re(i,t,t[3],null);return{c(){e=st("div"),o=Ve(),r&&r.c(),this.h()},l(a){e=at(a,"DIV",{tabindex:!0,role:!0,class:!0}),lt(e).forEach(Z),o=$e(a),r&&r.l(a),this.h()},h(){qe(e,"tabindex","0"),qe(e,"role","button"),qe(e,"class","mx-auto mt-4 h-2 w-[100px] cursor-grab rounded-full bg-muted active:cursor-grabbing")},m(a,s){re(a,e,s),re(a,o,s),r&&r.m(a,s),n=!0},p(a,s){r&&r.p&&(!n||s&8)&&Ie(r,i,a,a[3],n?Ne(i,a[3],s,null):Ae(a[3]),null)},i(a){n||(A(r,a),n=!0)},o(a){N(r,a),n=!1},d(a){a&&(Z(e),Z(o)),r&&r.d(a)}}}function Co(t){let e,o,n,i;e=new Po({});const r=[{class:Te("fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background",t[0])},t[1]];let a={$$slots:{default:[Oo]},$$scope:{ctx:t}};for(let s=0;s<r.length;s+=1)a=L(a,r[s]);return n=new mo({props:a}),{c(){W(e.$$.fragment),o=Ve(),W(n.$$.fragment)},l(s){Y(e.$$.fragment,s),o=$e(s),Y(n.$$.fragment,s)},m(s,l){q(e,s,l),re(s,o,l),q(n,s,l),i=!0},p(s,l){const c=l&3?pe(r,[l&1&&{class:Te("fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background",s[0])},l&2&&De(s[1])]):{};l&8&&(c.$$scope={dirty:l,ctx:s}),n.$set(c)},i(s){i||(A(e.$$.fragment,s),A(n.$$.fragment,s),i=!0)},o(s){N(e.$$.fragment,s),N(n.$$.fragment,s),i=!1},d(s){s&&Z(o),X(e,s),X(n,s)}}}function ko(t){let e,o;return e=new bo({props:{$$slots:{default:[Co]},$$scope:{ctx:t}}}),{c(){W(e.$$.fragment)},l(n){Y(e.$$.fragment,n)},m(n,i){q(e,n,i),o=!0},p(n,[i]){const r={};i&11&&(r.$$scope={dirty:i,ctx:n}),e.$set(r)},i(n){o||(A(e.$$.fragment,n),o=!0)},o(n){N(e.$$.fragment,n),o=!1},d(n){X(e,n)}}}function Eo(t,e,o){const n=["class"];let i=K(e,n),{$$slots:r={},$$scope:a}=e,{class:s=void 0}=e;return t.$$set=l=>{e=L(L({},e),fe(l)),o(1,i=K(e,n)),"class"in l&&o(0,s=l.class),"$$scope"in l&&o(3,a=l.$$scope)},[s,i,r,a]}class Ro extends le{constructor(e){super(),ce(this,e,Eo,ko,ie,{class:0})}}function Io(t){let e,o,n;const i=t[4].default,r=Re(i,t,t[3],null);let a=[{class:o=Te("grid gap-1.5 p-4 text-center sm:text-left",t[1])},t[2]],s={};for(let l=0;l<a.length;l+=1)s=L(s,a[l]);return{c(){e=st("div"),r&&r.c(),this.h()},l(l){e=at(l,"DIV",{class:!0});var c=lt(e);r&&r.l(c),c.forEach(Z),this.h()},h(){_t(e,s)},m(l,c){re(l,e,c),r&&r.m(e,null),t[5](e),n=!0},p(l,[c]){r&&r.p&&(!n||c&8)&&Ie(r,i,l,l[3],n?Ne(i,l[3],c,null):Ae(l[3]),null),_t(e,s=pe(a,[(!n||c&2&&o!==(o=Te("grid gap-1.5 p-4 text-center sm:text-left",l[1])))&&{class:o},c&4&&l[2]]))},i(l){n||(A(r,l),n=!0)},o(l){N(r,l),n=!1},d(l){l&&Z(e),r&&r.d(l),t[5](null)}}}function Ao(t,e,o){const n=["el","class"];let i=K(e,n),{$$slots:r={},$$scope:a}=e,{el:s=void 0}=e,{class:l=void 0}=e;function c(u){Se[u?"unshift":"push"](()=>{s=u,o(0,s)})}return t.$$set=u=>{e=L(L({},e),fe(u)),o(2,i=K(e,n)),"el"in u&&o(0,s=u.el),"class"in u&&o(1,l=u.class),"$$scope"in u&&o(3,a=u.$$scope)},[s,l,i,a,r,c]}class No extends le{constructor(e){super(),ce(this,e,Ao,Io,ie,{el:0,class:1})}}function Fo(t){let e;const o=t[3].default,n=Re(o,t,t[5],null);return{c(){n&&n.c()},l(i){n&&n.l(i)},m(i,r){n&&n.m(i,r),e=!0},p(i,r){n&&n.p&&(!e||r&32)&&Ie(n,o,i,i[5],e?Ne(o,i[5],r,null):Ae(i[5]),null)},i(i){e||(A(n,i),e=!0)},o(i){N(n,i),e=!1},d(i){n&&n.d(i)}}}function Lo(t){let e,o,n;const i=[{class:Te("text-lg font-semibold leading-none tracking-tight",t[1])},t[2]];function r(s){t[4](s)}let a={$$slots:{default:[Fo]},$$scope:{ctx:t}};for(let s=0;s<i.length;s+=1)a=L(a,i[s]);return t[0]!==void 0&&(a.el=t[0]),e=new _o({props:a}),Se.push(()=>Ee(e,"el",r)),{c(){W(e.$$.fragment)},l(s){Y(e.$$.fragment,s)},m(s,l){q(e,s,l),n=!0},p(s,[l]){const c=l&6?pe(i,[l&2&&{class:Te("text-lg font-semibold leading-none tracking-tight",s[1])},l&4&&De(s[2])]):{};l&32&&(c.$$scope={dirty:l,ctx:s}),!o&&l&1&&(o=!0,c.el=s[0],ke(()=>o=!1)),e.$set(c)},i(s){n||(A(e.$$.fragment,s),n=!0)},o(s){N(e.$$.fragment,s),n=!1},d(s){X(e,s)}}}function Mo(t,e,o){const n=["el","class"];let i=K(e,n),{$$slots:r={},$$scope:a}=e,{el:s=void 0}=e,{class:l=void 0}=e;function c(u){s=u,o(0,s)}return t.$$set=u=>{e=L(L({},e),fe(u)),o(2,i=K(e,n)),"el"in u&&o(0,s=u.el),"class"in u&&o(1,l=u.class),"$$scope"in u&&o(5,a=u.$$scope)},[s,l,i,r,c,a]}class Bo extends le{constructor(e){super(),ce(this,e,Mo,Lo,ie,{el:0,class:1})}}function Ho(t){let e,o,n;return e=new Tn({props:{class:"mr-2 h-4 w-4"}}),{c(){W(e.$$.fragment),o=Xe(`
			New record`)},l(i){Y(e.$$.fragment,i),o=Je(i,`
			New record`)},m(i,r){q(e,i,r),re(i,o,r),n=!0},p:At,i(i){n||(A(e.$$.fragment,i),n=!0)},o(i){N(e.$$.fragment,i),n=!1},d(i){i&&Z(o),X(e,i)}}}function Uo(t){let e,o;return e=new fn({props:{slot:"action",class:"mt-6 self-end sm:mt-0",variant:"default",$$slots:{default:[Ho]},$$scope:{ctx:t}}}),e.$on("click",t[10]),{c(){W(e.$$.fragment)},l(n){Y(e.$$.fragment,n)},m(n,i){q(e,n,i),o=!0},p(n,i){const r={};i&2097152&&(r.$$scope={dirty:i,ctx:n}),e.$set(r)},i(n){o||(A(e.$$.fragment,n),o=!0)},o(n){N(e.$$.fragment,n),o=!1},d(n){X(e,n)}}}function Vo(t){let e,o,n,i;return{c(){e=Xe("Editing "),o=st("span"),n=Xe(t[6]),i=Xe(" record"),this.h()},l(r){e=Je(r,"Editing "),o=at(r,"SPAN",{class:!0});var a=lt(o);n=Je(a,t[6]),a.forEach(Z),i=Je(r," record"),this.h()},h(){qe(o,"class","font-bold")},m(r,a){re(r,e,a),re(r,o,a),tn(o,n),re(r,i,a)},p(r,a){a&64&&nn(n,r[6])},d(r){r&&(Z(e),Z(o),Z(i))}}}function $o(t){let e,o;return e=new Bo({props:{class:"font-normal",$$slots:{default:[Vo]},$$scope:{ctx:t}}}),{c(){W(e.$$.fragment)},l(n){Y(e.$$.fragment,n)},m(n,i){q(e,n,i),o=!0},p(n,i){const r={};i&2097216&&(r.$$scope={dirty:i,ctx:n}),e.$set(r)},i(n){o||(A(e.$$.fragment,n),o=!0)},o(n){N(e.$$.fragment,n),o=!1},d(n){X(e,n)}}}function jo(t){let e,o,n,i;return e=new No({props:{$$slots:{default:[$o]},$$scope:{ctx:t}}}),n=new mn({props:{destroyCallback:t[12],class:"mt-[15px] h-full pt-5",data:{...JSON.parse(JSON.stringify(t[2].state.recordPageData))},cancelCallback:t[12]}}),{c(){W(e.$$.fragment),o=Ve(),W(n.$$.fragment)},l(r){Y(e.$$.fragment,r),o=$e(r),Y(n.$$.fragment,r)},m(r,a){q(e,r,a),re(r,o,a),q(n,r,a),i=!0},p(r,a){const s={};a&2097216&&(s.$$scope={dirty:a,ctx:r}),e.$set(s);const l={};a&4&&(l.data={...JSON.parse(JSON.stringify(r[2].state.recordPageData))}),n.$set(l)},i(r){i||(A(e.$$.fragment,r),A(n.$$.fragment,r),i=!0)},o(r){N(e.$$.fragment,r),N(n.$$.fragment,r),i=!1},d(r){r&&Z(o),X(e,r),X(n,r)}}}function zo(t){let e,o;return e=new Ro({props:{class:"max-h-[95vh] min-h-[95vh]",$$slots:{default:[jo]},$$scope:{ctx:t}}}),{c(){W(e.$$.fragment)},l(n){Y(e.$$.fragment,n)},m(n,i){q(e,n,i),o=!0},p(n,i){const r={};i&2097220&&(r.$$scope={dirty:i,ctx:n}),e.$set(r)},i(n){o||(A(e.$$.fragment,n),o=!0)},o(n){N(e.$$.fragment,n),o=!1},d(n){X(e,n)}}}function Et(t){let e,o,n,i;return e=new sn({props:{filterPlaceholder:"Filter records on the current page",title:t[6],schema:t[1],data:t[5],description:`All available records for ${t[6]}`,rowClickCallback:t[11],pagination:t[4],onPageChange:t[13],loading:t[3],hiddenColumns:t[7],$$slots:{action:[Uo]},$$scope:{ctx:t}}}),e.$on("dataUpdate",t[16]),e.$on("columnVisibilityChange",t[17]),n=new So({props:{shouldScaleBackground:!0,open:!!t[2].state.recordPageData,onClose:t[12],backgroundColor:"black",$$slots:{default:[zo]},$$scope:{ctx:t}}}),{c(){W(e.$$.fragment),o=Ve(),W(n.$$.fragment)},l(r){Y(e.$$.fragment,r),o=$e(r),Y(n.$$.fragment,r)},m(r,a){q(e,r,a),re(r,o,a),q(n,r,a),i=!0},p(r,a){const s={};a&64&&(s.title=r[6]),a&2&&(s.schema=r[1]),a&32&&(s.data=r[5]),a&64&&(s.description=`All available records for ${r[6]}`),a&16&&(s.pagination=r[4]),a&8&&(s.loading=r[3]),a&128&&(s.hiddenColumns=r[7]),a&2097152&&(s.$$scope={dirty:a,ctx:r}),e.$set(s);const l={};a&4&&(l.open=!!r[2].state.recordPageData),a&2097220&&(l.$$scope={dirty:a,ctx:r}),n.$set(l)},i(r){i||(A(e.$$.fragment,r),A(n.$$.fragment,r),i=!0)},o(r){N(e.$$.fragment,r),N(n.$$.fragment,r),i=!1},d(r){r&&Z(o),X(e,r),X(n,r)}}}function Wo(t){let e=t[0],o,n,i=Et(t);return{c(){i.c(),o=wt()},l(r){i.l(r),o=wt()},m(r,a){i.m(r,a),re(r,o,a),n=!0},p(r,[a]){a&1&&ie(e,e=r[0])?(rn(),N(i,1,1,At),on(),i=Et(r),i.c(),A(i,1),i.m(o.parentNode,o)):i.p(r,a)},i(r){n||(A(i),n=!0)},o(r){N(i),n=!1},d(r){r&&Z(o),i.d(r)}}}function Yo(t,e,o){let n,i,r,a,s,l,c,u,w;x(t,gn,S=>o(2,u=S));let{data:y}=e;y.error&&(un(y.error.message),window.history.back());const H=Q([]);x(t,H,S=>o(7,w=S));let E=!1;const C=async S=>{const m=await Rt.pb.collection(r).getList(S,a.perPage,{expand:s,sort:"-created"});o(0,n=m),o(5,c=m.items),o(4,a={...a,page:S,totalPages:Math.ceil(m.totalItems/a.perPage),totalItems:m.totalItems})},U=S=>{o(0,n={...n,items:S})},h=async S=>{var V;const m=`${u.url.pathname}${S}`,$=await an(m);$.type==="loaded"&&$.status===200?((V=$.data)==null||delete V.menu,vt(m,{recordPageData:$.data})):ln(m)},b=()=>h("newRecord"),_=async(S,m)=>{var V;if(S.target.nodeName!=="TD"||!((V=S.target.closest("td"))!=null&&V.contains(S.target))){S.preventDefault(),S.stopPropagation();return}await h(m.id)},I=()=>{u.state.recordPageData&&setTimeout(()=>window.history.back(),200)},T=async S=>{o(3,E=!0);try{await C(S);const m=new URL(window.location.href);m.searchParams.set("page",S.toString()),vt(m.toString(),{hiddenColumns:w}),o(0,n={...n})}catch(m){console.error("Error fetching page",m)}finally{o(3,E=!1)}},P=({detail:S})=>U(S),O=({detail:S})=>H.set(S);return t.$$set=S=>{"data"in S&&o(14,y=S.data)},t.$$.update=()=>{t.$$.dirty&16384&&o(0,{collection:n,schema:i,title:r,pagination:a,relationsToExpand:s,collectionType:l}=y,n,(o(1,i),o(14,y)),(o(6,r),o(14,y)),(o(4,a),o(14,y)),(o(15,l),o(14,y))),t.$$.dirty&1&&o(5,c=(n==null?void 0:n.items)??[]),t.$$.dirty&32770&&l&&l==="auth"&&(i==null||i.splice(1,0,{name:"username",type:"text"}),i==null||i.splice(i.length-2,0,{name:"email",type:"email"}),i==null||i.splice(i.length-2,0,{name:"verified",type:"bool"})),t.$$.dirty&4&&u.state.hiddenColumns&&Array.isArray(u.state.hiddenColumns)&&H.set(u.state.hiddenColumns)},[n,i,u,E,a,c,r,w,H,U,b,_,I,T,y,l,P,O]}class ar extends le{constructor(e){super(),ce(this,e,Yo,Wo,ie,{data:14})}}export{ar as component,sr as universal};
