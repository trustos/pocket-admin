import{a as J}from"../chunks/auth.PFQ9AtnQ.js";import{s as A,e as $,c as b,b as y,f as h,l as g,i as I,o as x,k as ee,Q,a as T,t as te,g as j,d as se,h as w,j as ae,S as ne,r as k,u as D,E as O,H as F,I as H,J as L}from"../chunks/scheduler.CqdvYHi_.js";import{S as P,i as q,t as _,g as B,e as C,b as p,c as N,a as V,m as S,d as E,f as le,h as re}from"../chunks/index.ByeJd0xS.js";import{b as U,o as oe}from"../chunks/entry.CEeWAaqq.js";import{b as M,f as ie,g as X,e as Y}from"../chunks/events.FRsraPB8.js";import"../chunks/index.DWyTP67r.js";import{B as ce,a as fe}from"../chunks/index.rMs0u1fK.js";import{e as G}from"../chunks/each.DgCTUa9p.js";import{p as ue}from"../chunks/stores.CWcfJ79i.js";import{a as me,I as Z}from"../chunks/create.UQqxdDsG.js";function K(r,s,n){const a=r.slice();return a[6]=s[n],a}function R(r){let s,n,a,t;return{c(){s=$("div"),this.h()},l(e){s=b(e,"DIV",{class:!0}),y(s).forEach(h),this.h()},h(){g(s,"class","absolute inset-0 rounded-md bg-primary")},m(e,i){I(e,s,i),t=!0},i(e){t||(e&&ne(()=>{t&&(a&&a.end(1),n=le(s,r[3],{key:"active-sidebar-tab"}),n.start())}),t=!0)},o(e){n&&n.invalidate(),e&&(a=re(s,r[4],{key:"active-sidebar-tab"})),t=!1},d(e){e&&h(s),e&&a&&a.end()}}}function de(r){let s=r[2](r[6].href),n,a,t,e,i=r[6].title+"",o,f,l,c=s&&R(r);var m=r[6].icon;function v(u,d){return{props:{class:"inline w-5"}}}return m&&(t=Q(m,v())),{c(){c&&c.c(),n=T(),a=$("div"),t&&N(t.$$.fragment),e=T(),o=te(i),f=T(),this.h()},l(u){c&&c.l(u),n=j(u),a=b(u,"DIV",{class:!0});var d=y(a);t&&V(t.$$.fragment,d),e=j(d),o=se(d,i),d.forEach(h),f=j(u),this.h()},h(){g(a,"class","relative")},m(u,d){c&&c.m(u,d),I(u,n,d),I(u,a,d),t&&S(t,a,null),w(a,e),w(a,o),I(u,f,d),l=!0},p(u,d){if(d&6&&(s=u[2](u[6].href)),s?c?d&6&&_(c,1):(c=R(u),c.c(),_(c,1),c.m(n.parentNode,n)):c&&(B(),p(c,1,1,()=>{c=null}),C()),d&2&&m!==(m=u[6].icon)){if(t){B();const z=t;p(z.$$.fragment,1,0,()=>{E(z,1)}),C()}m?(t=Q(m,v()),N(t.$$.fragment),_(t.$$.fragment,1),S(t,a,e)):t=null}(!l||d&2)&&i!==(i=u[6].title+"")&&ae(o,i)},i(u){l||(_(c),t&&_(t.$$.fragment,u),l=!0)},o(u){p(c),t&&p(t.$$.fragment,u),l=!1},d(u){u&&(h(n),h(a),h(f)),c&&c.d(u),t&&E(t)}}}function W(r){let s,n;return s=new ce({props:{href:U+r[6].href,variant:"ghost",class:M(r[2](r[6].href)?"text-primary-foreground hover:text-primary-foreground":"","relative justify-start"),"data-sveltekit-noscroll":!0,$$slots:{default:[de]},$$scope:{ctx:r}}}),{c(){N(s.$$.fragment)},l(a){V(s.$$.fragment,a)},m(a,t){S(s,a,t),n=!0},p(a,t){const e={};t&2&&(e.href=U+a[6].href),t&6&&(e.class=M(a[2](a[6].href)?"text-primary-foreground hover:text-primary-foreground":"","relative justify-start")),t&518&&(e.$$scope={dirty:t,ctx:a}),s.$set(e)},i(a){n||(_(s.$$.fragment,a),n=!0)},o(a){p(s.$$.fragment,a),n=!1},d(a){E(s,a)}}}function _e(r){let s,n,a,t=G(r[1]),e=[];for(let o=0;o<t.length;o+=1)e[o]=W(K(r,t,o));const i=o=>p(e[o],1,1,()=>{e[o]=null});return{c(){s=$("nav");for(let o=0;o<e.length;o+=1)e[o].c();this.h()},l(o){s=b(o,"NAV",{class:!0});var f=y(s);for(let l=0;l<e.length;l+=1)e[l].l(f);f.forEach(h),this.h()},h(){g(s,"class",n=M("flex space-x-2 lg:flex-col lg:space-x-0 lg:space-y-1",r[0]))},m(o,f){I(o,s,f);for(let l=0;l<e.length;l+=1)e[l]&&e[l].m(s,null);a=!0},p(o,[f]){if(f&6){t=G(o[1]);let l;for(l=0;l<t.length;l+=1){const c=K(o,t,l);e[l]?(e[l].p(c,f),_(e[l],1)):(e[l]=W(c),e[l].c(),_(e[l],1),e[l].m(s,null))}for(B(),l=t.length;l<e.length;l+=1)i(l);C()}(!a||f&1&&n!==(n=M("flex space-x-2 lg:flex-col lg:space-x-0 lg:space-y-1",o[0])))&&g(s,"class",n)},i(o){if(!a){for(let f=0;f<t.length;f+=1)_(e[f]);a=!0}},o(o){e=e.filter(Boolean);for(let f=0;f<e.length;f+=1)p(e[f]);a=!1},d(o){o&&h(s),x(e,o)}}}function he(r,s,n){let a,t;ee(r,ue,l=>n(5,t=l));let{class:e=void 0}=s,{items:i}=s;const[o,f]=fe({duration:250,easing:ie});return r.$$set=l=>{"class"in l&&n(0,e=l.class),"items"in l&&n(1,i=l.items)},r.$$.update=()=>{r.$$.dirty&32&&n(2,a=l=>me(t.url.pathname,l))},[e,i,a,o,f,t]}class pe extends P{constructor(s){super(),q(this,s,he,_e,A,{class:0,items:1})}}const ge=async({fetch:r})=>{let n=(await J.pb.collection("admin_collections").getList(1,500,{fetch:r,sort:"name",filter:'type = "base" || type = "auth"'})).items;return J.isPocketAdmin||(n=n.filter(t=>t.type==="base"&&t.name!=="admin_roles")),n.sort((t,e)=>t.type==="auth"&&e.type!=="auth"?-1:t.type!=="auth"&&e.type==="auth"?1:t.name.localeCompare(e.name)),n.length?{collections:n,schema:[{name:"name",type:"text"},{name:"type",type:"text"}]}:{collections:[],schema:[]}},ve=!1,Fe=Object.freeze(Object.defineProperty({__proto__:null,load:ge,prerender:ve},Symbol.toStringTag,{value:"Module"}));function $e(r){let s;const n=r[2].default,a=O(n,r,r[3],null);return{c(){a&&a.c()},l(t){a&&a.l(t)},m(t,e){a&&a.m(t,e),s=!0},p(t,e){a&&a.p&&(!s||e&8)&&F(a,n,t,t[3],s?L(n,t[3],e,null):H(t[3]),null)},i(t){s||(_(a,t),s=!0)},o(t){p(a,t),s=!1},d(t){a&&a.d(t)}}}function be(r){let s,n;const a=[{name:"square-library"},r[1],{iconNode:r[0]}];let t={$$slots:{default:[$e]},$$scope:{ctx:r}};for(let e=0;e<a.length;e+=1)t=k(t,a[e]);return s=new Z({props:t}),{c(){N(s.$$.fragment)},l(e){V(s.$$.fragment,e)},m(e,i){S(s,e,i),n=!0},p(e,[i]){const o=i&3?X(a,[a[0],i&2&&Y(e[1]),i&1&&{iconNode:e[0]}]):{};i&8&&(o.$$scope={dirty:i,ctx:e}),s.$set(o)},i(e){n||(_(s.$$.fragment,e),n=!0)},o(e){p(s.$$.fragment,e),n=!1},d(e){E(s,e)}}}function ye(r,s,n){let{$$slots:a={},$$scope:t}=s;const e=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}],["path",{d:"M7 7v10"}],["path",{d:"M11 7v10"}],["path",{d:"m15 7 2 10"}]];return r.$$set=i=>{n(1,s=k(k({},s),D(i))),"$$scope"in i&&n(3,t=i.$$scope)},s=D(s),[e,s,a,t]}class we extends P{constructor(s){super(),q(this,s,ye,be,A,{})}}function Ie(r){let s;const n=r[2].default,a=O(n,r,r[3],null);return{c(){a&&a.c()},l(t){a&&a.l(t)},m(t,e){a&&a.m(t,e),s=!0},p(t,e){a&&a.p&&(!s||e&8)&&F(a,n,t,t[3],s?L(n,t[3],e,null):H(t[3]),null)},i(t){s||(_(a,t),s=!0)},o(t){p(a,t),s=!1},d(t){a&&a.d(t)}}}function ke(r){let s,n;const a=[{name:"users"},r[1],{iconNode:r[0]}];let t={$$slots:{default:[Ie]},$$scope:{ctx:r}};for(let e=0;e<a.length;e+=1)t=k(t,a[e]);return s=new Z({props:t}),{c(){N(s.$$.fragment)},l(e){V(s.$$.fragment,e)},m(e,i){S(s,e,i),n=!0},p(e,[i]){const o=i&3?X(a,[a[0],i&2&&Y(e[1]),i&1&&{iconNode:e[0]}]):{};i&8&&(o.$$scope={dirty:i,ctx:e}),s.$set(o)},i(e){n||(_(s.$$.fragment,e),n=!0)},o(e){p(s.$$.fragment,e),n=!1},d(e){E(s,e)}}}function Ne(r,s,n){let{$$slots:a={},$$scope:t}=s;const e=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}],["circle",{cx:"9",cy:"7",r:"4"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75"}]];return r.$$set=i=>{n(1,s=k(k({},s),D(i))),"$$scope"in i&&n(3,t=i.$$scope)},s=D(s),[e,s,a,t]}class Se extends P{constructor(s){super(),q(this,s,Ne,ke,A,{})}}function Ee(r){let s,n,a,t,e,i,o;t=new pe({props:{items:r[0]}});const f=r[3].default,l=O(f,r,r[2],null);return{c(){s=$("div"),n=$("aside"),a=$("div"),N(t.$$.fragment),e=T(),i=$("div"),l&&l.c(),this.h()},l(c){s=b(c,"DIV",{class:!0});var m=y(s);n=b(m,"ASIDE",{class:!0});var v=y(n);a=b(v,"DIV",{class:!0});var u=y(a);V(t.$$.fragment,u),u.forEach(h),v.forEach(h),e=j(m),i=b(m,"DIV",{class:!0});var d=y(i);l&&l.l(d),d.forEach(h),m.forEach(h),this.h()},h(){g(a,"class","sticky top-0 overflow-y-auto p-4"),g(n,"class","w-full lg:w-52"),g(i,"class","flex-1 overflow-y-auto p-4"),g(s,"class","flex h-full flex-col lg:flex-row")},m(c,m){I(c,s,m),w(s,n),w(n,a),S(t,a,null),w(s,e),w(s,i),l&&l.m(i,null),o=!0},p(c,[m]){l&&l.p&&(!o||m&4)&&F(l,f,c,c[2],o?L(f,c[2],m,null):H(c[2]),null)},i(c){o||(_(t.$$.fragment,c),_(l,c),o=!0)},o(c){p(t.$$.fragment,c),p(l,c),o=!1},d(c){c&&h(s),E(t),l&&l.d(c)}}}function Ve(r,s,n){let{$$slots:a={},$$scope:t}=s;oe(l=>{const c=document,m=c.startViewTransition;if(typeof m=="function")return new Promise(v=>{m.call(c,async()=>{v(),await l.complete})})});let{data:e}=s;const{collections:i}=e,o=l=>l=="base"?we:l=="auth"?Se:"",f=i.map(l=>({title:l.name,href:`/collections/${l.name}`,icon:o(l.type)}));return r.$$set=l=>{"data"in l&&n(1,e=l.data),"$$scope"in l&&n(2,t=l.$$scope)},[f,e,t,a]}class He extends P{constructor(s){super(),q(this,s,Ve,Ee,A,{data:1})}}export{He as component,Fe as universal};
