import{p as Rt,B as Qt}from"../chunks/index.XPQK783o.js";import{s as ie,w as L,x as fe,z as Re,D as Ie,E as Ae,F as Ne,aa as Zt,ab as u,O as xt,L as It,G as en,H as tn,y as Se,U as ke,v as J,k as x,a as Ve,g as $e,i as re,f as Z,e as st,c as at,b as lt,m as qe,A as _t,o as wt,n as At,t as Xe,d as Je,h as nn,j as on}from"../chunks/scheduler.CJbnQW4F.js";import{S as le,i as ce,c as j,a as z,m as Y,t as A,b as N,d as q,k as Ee,e as rn,g as sn}from"../chunks/index.BMuCI7Kc.js";import{D as an}from"../chunks/data-table-actions.C-u6rq-H.js";import{f as vt,h as ln,g as cn}from"../chunks/entry.BDTbVyTm.js";import{g as pe,d as De,b as Te}from"../chunks/events.BEg6mR46.js";import{d as Ce,w as Q,a as un}from"../chunks/index.DHpBs5s-.js";import"../chunks/editor.svelte_svelte_type_style_lang.BOkzC3cA.js";import{D as fn,P as dn}from"../chunks/_page.BX4DfuGk.js";import{p as mn}from"../chunks/stores.QwtFnJkV.js";import{D as gn}from"../chunks/dialog.DNUMvCKE.js";import{D as pn,a as hn,b as bn}from"../chunks/Cross2.CcVQs6jY.js";import{I as _n}from"../chunks/updater.DB4DGOD9.js";import{E as wn}from"../chunks/index.1h9I9lPX.js";function vn(t){let e;const o=t[2].default,n=Re(o,t,t[3],null);return{c(){n&&n.c()},l(i){n&&n.l(i)},m(i,r){n&&n.m(i,r),e=!0},p(i,r){n&&n.p&&(!e||r&8)&&Ie(n,o,i,i[3],e?Ne(o,i[3],r,null):Ae(i[3]),null)},i(i){e||(A(n,i),e=!0)},o(i){N(n,i),e=!1},d(i){n&&n.d(i)}}}function yn(t){let e,o;const n=[{name:"plus"},t[1],{iconNode:t[0]}];let i={$$slots:{default:[vn]},$$scope:{ctx:t}};for(let r=0;r<n.length;r+=1)i=L(i,n[r]);return e=new _n({props:i}),{c(){j(e.$$.fragment)},l(r){z(e.$$.fragment,r)},m(r,a){Y(e,r,a),o=!0},p(r,[a]){const s=a&3?pe(n,[n[0],a&2&&De(r[1]),a&1&&{iconNode:r[0]}]):{};a&8&&(s.$$scope={dirty:a,ctx:r}),e.$set(s)},i(r){o||(A(e.$$.fragment,r),o=!0)},o(r){N(e.$$.fragment,r),o=!1},d(r){q(e,r)}}}function Sn(t,e,o){let{$$slots:n={},$$scope:i}=e;const r=[["path",{d:"M5 12h14"}],["path",{d:"M12 5v14"}]];return t.$$set=a=>{o(1,e=L(L({},e),fe(a))),"$$scope"in a&&o(3,i=a.$$scope)},e=fe(e),[r,e,n,i]}class Tn extends le{constructor(e){super(),ce(this,e,Sn,yn,ie,{})}}const Dn=!1,Pn=async({params:t,fetch:e,parent:o,url:n})=>{var f;const{collections:i}=await o(),r=i.find(h=>h.name===t.collectionName),a=Number(n.searchParams.get("page"))||1,s=10,c=(((f=r==null?void 0:r.schema)==null?void 0:f.filter(h=>h.type==="relation").map(h=>h.name))||[]).join(",");try{const h=await Rt.collection(t.collectionName).getList(a,s,{fetch:e,expand:c,sort:"-created"}),S=[{name:"id",type:"id"},...(r==null?void 0:r.schema)||[],{name:"created",type:"date"},{name:"updated",type:"date"}];return{collection:h,schema:S,title:r==null?void 0:r.name,relationsToExpand:c,pagination:{page:a,perPage:s,totalPages:Math.ceil(h.totalItems/s),totalItems:h.totalItems}}}catch(h){return{error:h}}},sr=Object.freeze(Object.defineProperty({__proto__:null,load:Pn,prerender:Dn},Symbol.toStringTag,{value:"Module"}));function On(t){return function(e,o){if(o===void 0)return;const n=t[e];n&&n.set(o)}}const F={DURATION:.5,EASE:[.32,.72,0,1]},Nt=.4;function ae(t,e){if(typeof document>"u")return()=>{};const o=Cn(t,(n,i)=>({stores:n,onUnsubscribe:i})).subscribe(({stores:n,onUnsubscribe:i})=>{const r=e(n);r&&i(r)});return Ft(o),o}function Cn(t,e){let o=[];const n=s=>{o.push(s)},i=()=>{o.forEach(s=>s()),o=[]},r=Ce(t,s=>(i(),e(s,n)));return Ft(i),{...r,subscribe:(...s)=>{const l=r.subscribe(...s);return()=>{l(),i()}}}}const Ft=t=>{try{Zt(t)}catch{return t()}},yt=(t,e)=>{const o=(i,r)=>{t.update(a=>{const s=i(a);let l=s;return e&&(l=e({curr:a,next:s})),r==null||r(l),l})};return{...t,update:o,set:i=>{o(()=>i)}}};function kn(t){const e={};return Object.keys(t).forEach(o=>{const n=o,i=t[n];e[n]=Q(i)}),e}function En(t,...e){const o={};for(const n of Object.keys(t))e.includes(n)||(o[n]=t[n]);return o}function Rn(t){const e={};for(const o in t){const n=t[o];n!==void 0&&(e[o]=n)}return e}const Lt=new WeakMap;function B(t,e,o=!1){if(!t||!(t instanceof HTMLElement)||!e)return;const n={};Object.entries(e).forEach(([i,r])=>{if(i.startsWith("--")){t.style.setProperty(i,r);return}n[i]=t.style[i],t.style[i]=r}),!o&&Lt.set(t,n)}function Ue(t,e){if(!t||!(t instanceof HTMLElement))return;const o=Lt.get(t);o&&(e?t.style[e]=o[e]:Object.entries(o).forEach(([n,i])=>{t.style[n]=i}))}function ze(t,e){const o=window.getComputedStyle(t),n=o.transform||o.webkitTransform||o.mozTransform;let i=n.match(/^matrix3d\((.+)\)$/);return i?parseFloat(i[1].split(", ")[W(e)?13:12]):(i=n.match(/^matrix\((.+)\)$/),i?parseFloat(i[1].split(", ")[W(e)?5:4]):null)}function In(t){return Object.keys(t).reduce((e,o)=>t[o]===void 0?e:e+`${o}:${t[o]};`,"")}function it(){}function ye(t,e,o,n){const i=Array.isArray(e)?e:[e];return i.forEach(r=>t.addEventListener(r,o,n)),()=>{i.forEach(r=>t.removeEventListener(r,o,n))}}const An=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]),Nn=typeof document<"u";function Ke(t){return t instanceof HTMLInputElement&&!An.has(t.type)||t instanceof HTMLTextAreaElement||t instanceof HTMLElement&&t.isContentEditable}function W(t){return t==="top"||t==="bottom"}function St(t){return t==="bottom"||t==="right"}function Ge(...t){return(...e)=>{for(const o of t)typeof o=="function"&&o(...e)}}function Fn(t){return new Promise(e=>setTimeout(e,t))}function Ln({activeSnapPoint:t,snapPoints:e,drawerRef:o,overlayRef:n,fadeFromIndex:i,openTime:r,direction:a}){const s=Ce([e,t],([_,b])=>b===(_==null?void 0:_[_.length-1])),l=Ce([e,i,t],([_,b,w])=>_&&_.length>0&&(b||b===0)&&!Number.isNaN(b)&&_[b]===w||!_),c=Ce([e,t],([_,b])=>(_==null?void 0:_.findIndex(w=>w===b))??null),f=Ce(e,_=>_?_.map(b=>{const w=typeof window<"u",R=typeof b=="string";let T=0;R&&(T=parseInt(b,10));const P=u(a);if(W(P)){const O=R?T:w?b*window.innerHeight:0;return w?P==="bottom"?window.innerHeight-O:window.innerHeight+O:O}const m=R?T:w?b*window.innerWidth:0;return w?P==="right"?window.innerWidth-m:window.innerWidth+m:m}):[]),h=Ce([f,c],([_,b])=>b!==null?_==null?void 0:_[b]:null);ae([t,o],([_,b])=>{if(_&&b){const w=u(e),R=u(f),T=(w==null?void 0:w.findIndex(P=>P===_))??-1;R&&T!==-1&&typeof R[T]=="number"&&S(R[T])}});function S(_){xt().then(()=>{const b=u(f),w=(b==null?void 0:b.findIndex(O=>O===_))??null,R=u(o),T=u(a);U(w),B(R,{transition:`transform ${F.DURATION}s cubic-bezier(${F.EASE.join(",")})`,transform:W(T)?`translate3d(0, ${_}px, 0)`:`translate3d(${_}px, 0, 0)`});const P=u(i),m=u(n);f&&w!==b.length-1&&w!==P?B(m,{transition:`opacity ${F.DURATION}s cubic-bezier(${F.EASE.join(",")})`,opacity:"0"}):B(m,{transition:`opacity ${F.DURATION}s cubic-bezier(${F.EASE.join(",")})`,opacity:"1"}),t.update(()=>{const O=u(e);return w===null||!O?null:O[w]})})}function H({draggedDistance:_,closeDrawer:b,velocity:w,dismissible:R}){const T=u(i);if(T===void 0)return;const P=u(h),m=u(c),O=u(n),v=u(f),V=u(e),K=u(a),M=K==="bottom"||K==="right"?(P??0)-_:(P??0)+_,de=m===T-1,he=m===0,ue=_>0;if(de&&B(O,{transition:`opacity ${F.DURATION}s cubic-bezier(${F.EASE.join(",")})`}),w>2&&!ue){R?b():S(v[0]);return}if(w>2&&ue&&v&&V){S(v[V.length-1]);return}const me=v==null?void 0:v.reduce((X,ee)=>typeof X!="number"||typeof ee!="number"?X:Math.abs(ee-M)<Math.abs(X-M)?ee:X),be=W(K)?window.innerHeight:window.innerWidth;if(w>Nt&&Math.abs(_)<be*.4){const X=ue?1:-1;if(X>0&&u(s)&&V){S(v[V.length-1]);return}if(he&&X<0&&R&&b(),m===null)return;S(v[m+X]);return}S(me)}function I({draggedDistance:_}){const b=u(o),w=u(h);if(w===null)return;const R=u(f),T=u(a),P=T==="bottom"||T==="right"?w-_:w+_,m=R[R.length-1];St(T)&&P<m||!St(T)&&P>m||B(b,{transform:W(T)?`translate3d(0, ${P}px, 0)`:`translate3d(${P}px, 0, 0)`})}function C(_,b){const w=u(c),R=u(f),T=u(e),P=u(i);if(!T||typeof w!="number"||!R||P===void 0)return null;const m=w===P-1;if(w>=P&&b)return 0;if(m&&!b)return 1;if(!u(l)&&!m)return null;const v=m?w+1:w-1,V=m?R[v]-R[v-1]:R[v+1]-R[v],K=_/Math.abs(V);return m?1-K:K}function U(_){const b=u(e),w=u(f);b&&_===w.length-1&&r.set(new Date)}return{isLastSnapPoint:s,shouldFade:l,getPercentageDragged:C,activeSnapPointIndex:c,onRelease:H,onDrag:I,snapPointsOffset:f}}function Mn(){return ct(/^Mac/)}function Bn(){return ct(/^iPhone/)}function Hn(){return ct(/^iPad/)||Mn()&&navigator.maxTouchPoints>1}function Mt(){return Bn()||Hn()}function ct(t){return typeof window<"u"&&window.navigator!=null?t.test(window.navigator.platform):void 0}const nt=typeof document<"u"&&window.visualViewport;function Tt(t){const e=window.getComputedStyle(t);return/(auto|scroll)/.test(e.overflow+e.overflowX+e.overflowY)}function Bt(t){for(Tt(t)&&(t=t.parentElement);t&&!Tt(t);)t=t.parentElement;return t||document.scrollingElement||document.documentElement}let Ye=0,ot;function Un(){return typeof document>"u"?()=>{}:(Ye++,Ye===1&&(Mt()?ot=jn():ot=Wn()),()=>{Ye--,Ye===0&&ot()})}function Vn(t){const e=t.getBoundingClientRect().left;return Math.round(e)+t.scrollLeft?"paddingLeft":"paddingRight"}function $n(t,e,o){if(!t)return;const n=t.style.getPropertyValue(e);return t.style.setProperty(e,o),()=>{n?t.style.setProperty(e,n):t.style.removeProperty(e)}}function Wn(){if(typeof document>"u")return()=>{};const t=document.defaultView??window,{documentElement:e,body:o}=document,n=t.innerWidth-e.clientWidth,i=()=>$n(e,"--scrollbar-width",`${n}px`),r=Vn(e),a=t.getComputedStyle(o)[r];return Ge(i(),Qe(o,r,`calc(${a} + ${n}px)`),Qe(o,"overflow","hidden"))}function jn(){let t,e=0;const{documentElement:o,body:n,activeElement:i}=document;function r(I){t=Bt(I.target),!(t===o&&t===n)&&(e=I.changedTouches[0].pageY)}function a(I){if(!t||t===o||t===n){I.preventDefault();return}const C=I.changedTouches[0].pageY,U=t.scrollTop,_=t.scrollHeight-t.clientHeight;_!==0&&((U<=0&&C>e||U>=_&&C<e)&&I.preventDefault(),e=C)}function s(I){const C=I.target;Ke(C)&&C!==i&&(I.preventDefault(),C.style.transform="translateY(-2000px)",C.focus(),requestAnimationFrame(()=>{C.style.transform=""}))}function l(I){const C=I.target;Ke(C)&&(C.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{C.style.transform="",nt&&(nt.height<window.innerHeight?requestAnimationFrame(()=>{Dt(C)}):nt.addEventListener("resize",()=>Dt(C),{once:!0}))}))}function c(){window.scrollTo(0,0)}const f=window.pageXOffset,h=window.pageYOffset,S=Ge(Qe(o,"paddingRight",`${window.innerWidth-o.clientWidth}px`),Qe(o,"overflow","hidden"));window.scrollTo(0,0);const H=Ge(ye(document,"touchstart",r,{passive:!1,capture:!0}),ye(document,"touchmove",a,{passive:!1,capture:!0}),ye(document,"touchend",s,{passive:!1,capture:!0}),ye(document,"focus",l,!0),ye(window,"scroll",c));return()=>{S(),H(),window.scrollTo(f,h)}}function Qe(t,e,o){const n=t.style[e];return t.style[e]=o,()=>{t.style[e]=n}}function Dt(t){const{documentElement:e,body:o,scrollingElement:n}=document,i=n||e;for(;t&&t!==i;){const r=Bt(t);if(r!==e&&r!==o&&r!==t){const a=r.getBoundingClientRect().top,s=t.getBoundingClientRect().top,l=t.getBoundingClientRect().bottom,c=r.getBoundingClientRect().bottom;l>c&&(r.scrollTop+=s-a)}t=r.parentElement}}const zn=un(void 0,t=>{function e(n){n&&n.key==="Escape"&&t(n),t(void 0)}return ye(document,"keydown",e,{passive:!1})});function Yn(t,e){let o=it;function n(i){o(),o=Ge(zn.subscribe(r=>{if(!r)return;const a=r.target;!qn(a)||a.closest("[data-escapee]")!==t||(r.preventDefault(),i(r))})),t.setAttribute("data-escapee","")}return n(e),()=>{o(),t.removeAttribute("data-escapee")}}function qn(t){return t instanceof HTMLElement}let ve=null;function Xn({isOpen:t,modal:e,nested:o,hasBeenOpened:n}){const i=Q(typeof window<"u"?window.location.href:"");let r=0;function a(l){if(!(ve===null&&l))return;ve={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left,height:document.body.style.height};const{scrollX:c,innerHeight:f}=window;document.body.style.setProperty("position","fixed","important"),document.body.style.top=`${-r}px`,document.body.style.left=`${-c}px`,document.body.style.right="0px",document.body.style.height="auto",setTimeout(()=>requestAnimationFrame(()=>{const h=f-window.innerHeight;h&&r>=f&&(document.body.style.top=`${-(r+h)}px`)}),300)}function s(){if(ve===null)return;const l=u(i),c=-parseInt(document.body.style.top,10),f=-parseInt(document.body.style.left,10);document.body.style.position=ve.position,document.body.style.top=ve.top,document.body.style.left=ve.left,document.body.style.height=ve.height,document.body.style.right="unset",requestAnimationFrame(()=>{if(l!==window.location.href){i.set(window.location.href);return}window.scrollTo(f,c)}),ve=null}return It(()=>{function l(){r=window.scrollY}return l(),ye(window,"scroll",l),()=>{}}),ae([t,i],([l,c])=>{typeof document>"u"||u(o)||!u(n)||(l?(a(l),u(e)||setTimeout(()=>{s()},500)):s())}),{restorePositionSetting:s}}const Jn=.25,Kn=100,Pt=8,Oe=16,Ht=26,Ot="vaul-dragging",rt=Q([]),Gn={closeThreshold:Jn,shouldScaleBackground:!0,scrollLockTimeout:Kn,onDrag:void 0,onRelease:void 0,snapPoints:void 0,fadeFromIndex:void 0,defaultActiveSnapPoint:void 0,onActiveSnapPointChange:void 0,defaultOpen:!1,onOpenChange:void 0,fixed:void 0,dismissible:!0,modal:!0,nested:!1,onClose:void 0,direction:"bottom"},Qn=["defaultOpen","onOpenChange","defaultActiveSnapPoint","onActiveSnapPointChange","onDrag","onRelease","onClose"];function Zn(t){var pt;const{snapPoints:e,fadeFromIndex:o=e&&e.length-1,...n}={...Gn,...Rn(t)},i=kn(En({...n,snapPoints:e,fadeFromIndex:o},...Qn)),r=Q(void 0),{onDrag:a,onRelease:s,onClose:l,onOpenChange:c}=n,{snapPoints:f,fadeFromIndex:h,fixed:S,dismissible:H,modal:I,nested:C,shouldScaleBackground:U,scrollLockTimeout:_,closeThreshold:b,direction:w}=i,R=Q(n.defaultOpen),T=yt(R,n.onOpenChange),P=Q(!1),m=Q(!1),O=Q(!1),v=Q(void 0),V=Q(null),K=Q(!1),M=Q(void 0),de=Q(void 0);let he=!1,ue=null,me=!1,be=0,X=null,ee=null,_e=!1,ne=((pt=u(M))==null?void 0:pt.getBoundingClientRect().height)||0,We=0,Me=0,Be=null;const d=yt(Q(n.defaultActiveSnapPoint),n.onActiveSnapPointChange),{activeSnapPointIndex:ge,getPercentageDragged:ft,onDrag:Vt,onRelease:$t,shouldFade:dt,snapPointsOffset:Ze}=Ln({snapPoints:f,activeSnapPoint:d,drawerRef:M,fadeFromIndex:h,overlayRef:v,openTime:V,direction:w}),Wt=Ce([Ze],([g])=>(p="")=>{if(g&&g.length>0){const y=In({"--snap-point-height":`${g[0]}px`});return p+y}return p});ae([M],([g])=>{g&&de.set(g.id)}),ae([T],([g])=>{Fn(100).then(()=>{const p=u(de);g&&p?rt.update(y=>(y.includes(p)||y.push(p),y)):rt.update(y=>y.filter(D=>D!==D))})}),ae([T],([g])=>{if(!g&&u(U)){const p=setTimeout(()=>{Ue(document.body,"background")},200);return()=>clearTimeout(p)}}),ae([T],([g])=>{let p=()=>{};return g&&(p=Un()),p});const{restorePositionSetting:jt}=Xn({isOpen:T,modal:I,nested:C,hasBeenOpened:P});ae([M],([g])=>{let p=it;return g&&(p=Yn(g,()=>{Fe(!0)})),()=>{p()}});function zt(){me||(P.set(!0),T.set(!0))}function Yt(g){const p=u(M);!u(H)&&!u(f)||p&&!p.contains(g.target)||(ne=(p==null?void 0:p.getBoundingClientRect().height)||0,he=!0,ue=new Date,Mt()&&window.addEventListener("touchend",()=>_e=!1,{once:!0}),g.target.setPointerCapture(g.pointerId),be=W(u(w))?g.screenY:g.screenX)}function mt(g,p){var G;const y=u(M);let D=g;const k=(G=window.getSelection())==null?void 0:G.toString(),E=u(w),$=y?ze(y,E):null,te=new Date;if(D.hasAttribute("data-vaul-no-drag")||D.closest("[data-vaul-no-drag]"))return!1;const oe=u(V);if(oe&&te.getTime()-oe.getTime()<500)return!1;if($!==null&&(E==="bottom"||E==="right"?$>0:$<0)||$!==null&&$>0)return!0;if(k&&k.length>0)return!1;const se=u(_);if(ee&&te.getTime()-ee.getTime()<se&&$===0||p)return ee=te,!1;for(;D;){if(D.scrollHeight>D.clientHeight){if(D.scrollTop!==0)return ee=new Date,!1;if(D.getAttribute("role")==="dialog")return!0}D=D.parentNode}return!0}function qt(g){const p=u(M);if(!p||!he)return;const y=u(w),D=kt(y),k=Ct(be,y,g)*D,E=k>0,$=u(ge),te=u(f);if(te&&$===0&&!u(H)||!_e&&!mt(g.target,E))return;p.classList.add(Ot),_e=!0,B(p,{transition:"none"});const oe=u(v);if(B(oe,{transition:"none"}),te&&Vt({draggedDistance:k}),E&&!te){const Pe=xn(k),je=Math.min(Pe*-1,0)*D;B(p,{transform:W(y)?`translate3d(0, ${je}px, 0)`:`translate3d(${je}px, 0, 0)`});return}const se=Math.abs(k);let G=se/ne;const He=ft(se,E);He!==null&&(G=He);const et=1-G,we=u(h);(u(dt)||we&&$===we-1)&&(a==null||a(g,G),B(oe,{opacity:`${et}`,transition:"none"},!0));const ht=document.querySelector("[data-vaul-drawer-wrapper]");if(ht&&oe&&u(U)){const Pe=Math.min(Le()+G*(1-Le()),1),je=8-G*8,bt=Math.max(0,14-G*14);B(ht,{borderRadius:`${je}px`,transform:W(y)?`scale(${Pe}) translate3d(0, ${bt}px, 0)`:`scale(${Pe}) translate3d(${bt}px, 0, 0)`,transition:"none"},!0)}if(!te){const Pe=se*D;B(p,{transform:W(y)?`translate3d(0, ${Pe}px, 0)`:`translate3d(${Pe}px, 0, 0)`})}}function xe(g,p="black"){const y=document.querySelector("[data-vaul-drawer-wrapper]");if(!y||!u(U))return;const D=u(w);g?(B(document.body,{background:document.body.style.backgroundColor||document.body.style.background}),B(document.body,{background:p},!0),B(y,{borderRadius:`${Pt}px`,overflow:"hidden",...W(D)?{transform:`scale(${Le()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${Le()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"},transitionProperty:"transform, border-radius",transitionDuration:`${F.DURATION}s`,transitionTimingFunction:`cubic-bezier(${F.EASE.join(",")})`})):(Ue(y,"overflow"),Ue(y,"transform"),Ue(y,"borderRadius"),B(y,{transitionProperty:"transform, border-radius",transitionDuration:`${F.DURATION}s`,transitionTimingFunction:`cubic-bezier(${F.EASE.join(",")})`}))}ae([ge,f,Ze],([g,p,y])=>{function D(){var oe;const E=u(M);if(!E)return;const $=u(K),te=document.activeElement;if(Ke(te)||$){const se=((oe=window.visualViewport)==null?void 0:oe.height)||0;let G=window.innerHeight-se;const He=E.getBoundingClientRect().height||0;Me||(Me=He);const et=E.getBoundingClientRect().top;if(Math.abs(We-G)>60&&K.set(!$),p&&p.length>0&&y&&g){const we=y[g]||0;G+=we}if(We=G,He>se||$){const we=E.getBoundingClientRect().height;let tt=we;we>se&&(tt=se-Ht),u(S)?E.style.height=`${we-Math.max(G,0)}px`:E.style.height=`${Math.max(tt,se-et)}px`}else E.style.height=`${Me}px`;p&&p.length>0&&!$?E.style.bottom="0px":E.style.bottom=`${Math.max(G,0)}px`}}let k=it;return window.visualViewport&&(k=ye(window.visualViewport,"resize",D)),()=>{k()}});function Fe(g=!1){if(me)return;const p=u(M);if(!p)return;const y=u(w);l==null||l(),B(p,{transform:W(y)?`translate3d(0, ${y==="bottom"?"100%":"-100%"}, 0)`:`translate3d(${y==="right"?"100%":"-100%"}, 0, 0)`,transition:`transform ${F.DURATION}s cubic-bezier(${F.EASE.join(",")})`}),B(u(v),{opacity:"0",transition:`opacity ${F.DURATION}s cubic-bezier(${F.EASE.join(",")})`}),xe(!1),me=!0,setTimeout(()=>{var k;m.set(!1),T.set(!1),me=!1,g&&((k=u(r))==null||k.focus())},300);const D=u(f);setTimeout(()=>{Ue(document.documentElement,"scrollBehavior"),D&&d.set(D[0])},F.DURATION*1e3)}ae([T],([g])=>{g?P.set(!0):Fe()});function gt(){const g=u(M);if(!g)return;const p=u(v),y=document.querySelector("[data-vaul-drawer-wrapper]"),D=u(w),k=ze(g,D);B(g,{transform:"translate3d(0, 0, 0)",transition:`transform ${F.DURATION}s cubic-bezier(${F.EASE.join(",")})`}),B(p,{transition:`opacity ${F.DURATION}s cubic-bezier(${F.EASE.join(",")})`,opacity:"1"});const E=u(U),$=u(T);E&&k&&k>0&&$&&B(y,{borderRadius:`${Pt}px`,overflow:"hidden",...W(D)?{transform:`scale(${Le()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${Le()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"},transitionProperty:"transform, border-radius",transitionDuration:`${F.DURATION}s`,transitionTimingFunction:`cubic-bezier(${F.EASE.join(",")})`},!0)}function Xt(g){var oe;const p=u(M);if(!he||!p)return;_e&&Ke(g.target)&&g.target.blur(),p.classList.remove(Ot),_e=!1,he=!1,X=new Date;const y=u(w),D=ze(p,y);if(g.target&&!mt(g.target,!1)||!D||Number.isNaN(D)||ue===null)return;const k=X.getTime()-ue.getTime(),E=Ct(be,y,g),$=Math.abs(E)/k;if($>.05&&(O.set(!0),setTimeout(()=>{O.set(!1)},200)),u(f)){$t({draggedDistance:E*kt(y),closeDrawer:Fe,velocity:$,dismissible:u(H)}),s==null||s(g,!0);return}if(y==="bottom"||y==="right"?E>0:E<0){gt(),s==null||s(g,!0);return}if($>Nt){Fe(),s==null||s(g,!1);return}const te=Math.min(((oe=u(M))==null?void 0:oe.getBoundingClientRect().height)??0,window.innerHeight);if(D>=te*u(b)){Fe(),s==null||s(g,!1);return}s==null||s(g,!0),gt()}ae([T],([g])=>{g&&(Nn&&B(document.documentElement,{scrollBehavior:"auto"}),V.set(new Date),xe(!0,t.backgroundColor))}),ae([m],([g])=>{if(!g)return;const p=u(M);if(!p)return;p.querySelectorAll("*").forEach(D=>{const k=D;(k.scrollHeight>k.clientHeight||k.scrollWidth>k.clientWidth)&&k.classList.add("vaul-scrollable")})});function Jt(g){const p=u(M),y=g?(window.innerWidth-Oe)/window.innerWidth:1,D=g?-Oe:0;Be&&window.clearTimeout(Be),B(p,{transition:`transform ${F.DURATION}s cubic-bezier(${F.EASE.join(",")})`,transform:`scale(${y}) translate3d(0, ${D}px, 0)`}),!g&&p&&(Be=setTimeout(()=>{const k=u(w),E=ze(p,k);B(p,{transition:"none",transform:W(k)?`translate3d(0, ${E}px, 0)`:`translate3d(${E}px, 0, 0)`})},500))}function Kt(g,p){if(p<0)return;const y=(window.innerWidth-Oe)/window.innerWidth,D=y+p*(1-y),k=-Oe+p*Oe,E=u(w);B(u(M),{transform:W(E)?`scale(${D}) translate3d(0, ${k}px, 0)`:`scale(${D}) translate3d(${k}px, 0, 0)`,transition:"none"})}function Gt(g,p){const y=u(w),D=W(y)?window.innerHeight:window.innerWidth,k=p?(D-Oe)/D:1,E=p?-Oe:0;p&&B(u(M),{transition:`transform ${F.DURATION}s cubic-bezier(${F.EASE.join(",")})`,transform:W(y)?`scale(${k}) translate3d(0, ${E}px, 0)`:`scale(${k}) translate3d(${E}px, 0, 0)`})}return{states:{isOpen:T,hasBeenOpened:P,snapPoints:f,activeSnapPoint:d,snapPointsOffset:Ze,keyboardIsOpen:K,shouldFade:dt,visible:m,drawerId:de,openDrawerIds:rt},helpers:{getContentStyle:Wt},methods:{closeDrawer:Fe,onOpenChange:c,onPress:Yt,onRelease:Xt,onDrag:qt,scaleBackground:xe,onNestedDrag:Kt,onNestedOpenChange:Jt,onNestedRelease:Gt,restorePositionSetting:jt,openDrawer:zt},refs:{drawerRef:M,overlayRef:v,triggerRef:r},options:i}}function xn(t){return 8*(Math.log(t+1)-2)}function Le(){return(window.innerWidth-Ht)/window.innerWidth}function Ct(t,e,o){return o.type.startsWith("touch")?to(t,e,o):eo(t,e,o)}function eo(t,e,o){return t-(W(e)?o.screenY:o.screenX)}function to(t,e,o){return t-(W(e)?o.changedTouches[0].screenY:o.changedTouches[0].screenX)}function kt(t){return t==="bottom"||t==="right"?1:-1}const Ut=Symbol("VAUL_ROOT");function no(t={}){const e=Zn(t),o=On(e.options);return en(Ut,{...e,updateOption:o}),{...e,updateOption:o}}function ut(){return tn(Ut)}function oo(t){let e;const o=t[30].default,n=Re(o,t,t[34],null);return{c(){n&&n.c()},l(i){n&&n.l(i)},m(i,r){n&&n.m(i,r),e=!0},p(i,r){n&&n.p&&(!e||r[1]&8)&&Ie(n,o,i,i[34],e?Ne(o,i[34],r,null):Ae(i[34]),null)},i(i){e||(A(n,i),e=!0)},o(i){N(n,i),e=!1},d(i){n&&n.d(i)}}}function ro(t){let e,o,n;const i=[{closeOnOutsideClick:t[3]},{closeOnEscape:!1},{preventScroll:!1},{onOpenChange:t[31]},{onOutsideClick:t[32]},t[13]];function r(s){t[33](s)}let a={$$slots:{default:[oo]},$$scope:{ctx:t}};for(let s=0;s<i.length;s+=1)a=L(a,i[s]);return t[0]!==void 0&&(a.open=t[0]),e=new gn({props:a}),Se.push(()=>Ee(e,"open",r)),{c(){j(e.$$.fragment)},l(s){z(e.$$.fragment,s)},m(s,l){Y(e,s,l),n=!0},p(s,l){const c=l[0]&11774?pe(i,[l[0]&8&&{closeOnOutsideClick:s[3]},i[1],i[2],l[0]&3074&&{onOpenChange:s[31]},l[0]&1534&&{onOutsideClick:s[32]},l[0]&8192&&De(s[13])]):{};l[1]&8&&(c.$$scope={dirty:l,ctx:s}),!o&&l[0]&1&&(o=!0,c.open=s[0],ke(()=>o=!1)),e.$set(c)},i(s){n||(A(e.$$.fragment,s),n=!0)},o(s){N(e.$$.fragment,s),n=!1},d(s){q(e,s)}}}function io(t,e,o){const n=["open","onOpenChange","closeThreshold","scrollLockTimeout","snapPoints","fadeFromIndex","openFocus","onOutsideClick","closeOnOutsideClick","backgroundColor","nested","shouldScaleBackground","activeSnapPoint","onActiveSnapPointChange","onRelease","onDrag","onClose","dismissible","direction"];let i=J(e,n),r,a,s,{$$slots:l={},$$scope:c}=e,{open:f=!1}=e,{onOpenChange:h=void 0}=e,{closeThreshold:S=void 0}=e,{scrollLockTimeout:H=void 0}=e,{snapPoints:I=void 0}=e,{fadeFromIndex:C=void 0}=e,{openFocus:U=void 0}=e,{onOutsideClick:_=void 0}=e,{closeOnOutsideClick:b=!0}=e,{backgroundColor:w="black"}=e,{nested:R=!1}=e,{shouldScaleBackground:T=!1}=e,{activeSnapPoint:P=void 0}=e,{onActiveSnapPointChange:m=void 0}=e,{onRelease:O=void 0}=e,{onDrag:v=void 0}=e,{onClose:V=void 0}=e,{dismissible:K=void 0}=e,{direction:M="bottom"}=e;const{states:{keyboardIsOpen:de,activeSnapPoint:he,drawerId:ue,openDrawerIds:me,isOpen:be},methods:{closeDrawer:X,openDrawer:ee},options:{dismissible:_e},updateOption:ne}=no({defaultOpen:f,defaultActiveSnapPoint:P,onOpenChange:({next:d})=>(f!==d&&(h==null||h(d),o(0,f=d)),d),onActiveSnapPointChange:({next:d})=>{if(d===void 0&&I&&P!==d){const ge=I[0];return m==null||m(ge),o(14,P=ge),ge}return P!==d&&(m==null||m(d),o(14,P=d)),d},closeThreshold:S,scrollLockTimeout:H,snapPoints:I,fadeFromIndex:C,nested:R,onDrag:v,onClose:V,onRelease:O,shouldScaleBackground:T,backgroundColor:w,dismissible:K,direction:M});x(t,de,d=>o(4,a=d)),x(t,be,d=>o(29,r=d)),x(t,_e,d=>o(5,s=d));const We=d=>{h==null||h(d),d?d&&ee():X()},Me=d=>{if(!b||(_==null||_(d),d!=null&&d.defaultPrevented)||(a&&de.set(!1),d.preventDefault(),!s))return;const ge=u(me);ge[ge.length-1]===u(ue)&&(h==null||h(!1),X())};function Be(d){f=d,o(0,f)}return t.$$set=d=>{e=L(L({},e),fe(d)),o(13,i=J(e,n)),"open"in d&&o(0,f=d.open),"onOpenChange"in d&&o(1,h=d.onOpenChange),"closeThreshold"in d&&o(15,S=d.closeThreshold),"scrollLockTimeout"in d&&o(16,H=d.scrollLockTimeout),"snapPoints"in d&&o(17,I=d.snapPoints),"fadeFromIndex"in d&&o(18,C=d.fadeFromIndex),"openFocus"in d&&o(19,U=d.openFocus),"onOutsideClick"in d&&o(2,_=d.onOutsideClick),"closeOnOutsideClick"in d&&o(3,b=d.closeOnOutsideClick),"backgroundColor"in d&&o(20,w=d.backgroundColor),"nested"in d&&o(21,R=d.nested),"shouldScaleBackground"in d&&o(22,T=d.shouldScaleBackground),"activeSnapPoint"in d&&o(14,P=d.activeSnapPoint),"onActiveSnapPointChange"in d&&o(23,m=d.onActiveSnapPointChange),"onRelease"in d&&o(24,O=d.onRelease),"onDrag"in d&&o(25,v=d.onDrag),"onClose"in d&&o(26,V=d.onClose),"dismissible"in d&&o(27,K=d.dismissible),"direction"in d&&o(28,M=d.direction),"$$scope"in d&&o(34,c=d.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&16384&&P!==void 0&&he.set(P),t.$$.dirty[0]&32768&&ne("closeThreshold",S),t.$$.dirty[0]&65536&&ne("scrollLockTimeout",H),t.$$.dirty[0]&131072&&ne("snapPoints",I),t.$$.dirty[0]&262144&&ne("fadeFromIndex",C),t.$$.dirty[0]&524288&&ne("openFocus",U),t.$$.dirty[0]&4194304&&ne("shouldScaleBackground",T),t.$$.dirty[0]&1048576&&ne("backgroundColor",w),t.$$.dirty[0]&134217728&&ne("dismissible",K),t.$$.dirty[0]&268435456&&ne("direction",M),t.$$.dirty[0]&536870913&&f&&!r&&ee(),t.$$.dirty[0]&536870913&&!f&&r&&X()},[f,h,_,b,a,s,de,ue,me,be,X,ee,_e,i,P,S,H,I,C,U,w,R,T,m,O,v,V,K,M,r,l,We,Me,Be,c]}class so extends le{constructor(e){super(),ce(this,e,io,ro,ie,{open:0,onOpenChange:1,closeThreshold:15,scrollLockTimeout:16,snapPoints:17,fadeFromIndex:18,openFocus:19,onOutsideClick:2,closeOnOutsideClick:3,backgroundColor:20,nested:21,shouldScaleBackground:22,activeSnapPoint:14,onActiveSnapPointChange:23,onRelease:24,onDrag:25,onClose:26,dismissible:27,direction:28},null,[-1,-1])}}function ao(t){const{states:{visible:e},methods:{scaleBackground:o,restorePositionSetting:n}}=ut();return It(()=>(e.set(!0),()=>{o(!1),n()})),[]}class lo extends le{constructor(e){super(),ce(this,e,ao,null,ie,{})}}function co(t){let e,o,n;e=new lo({});const i=t[13].default,r=Re(i,t,t[20],null);return{c(){j(e.$$.fragment),o=Ve(),r&&r.c()},l(a){z(e.$$.fragment,a),o=$e(a),r&&r.l(a)},m(a,s){Y(e,a,s),re(a,o,s),r&&r.m(a,s),n=!0},p(a,s){r&&r.p&&(!n||s&1048576)&&Ie(r,i,a,a[20],n?Ne(i,a[20],s,null):Ae(a[20]),null)},i(a){n||(A(e.$$.fragment,a),A(r,a),n=!0)},o(a){N(e.$$.fragment,a),N(r,a),n=!1},d(a){a&&Z(o),q(e,a),r&&r.d(a)}}}function uo(t){let e,o,n;const i=[{style:t[2](t[0])},{"data-vaul-drawer":""},{"data-vaul-drawer-direction":t[3]},{"data-vaul-drawer-visible":t[4]?"true":"false"},t[12]];function r(s){t[14](s)}let a={$$slots:{default:[co]},$$scope:{ctx:t}};for(let s=0;s<i.length;s+=1)a=L(a,i[s]);return t[1]!==void 0&&(a.el=t[1]),e=new pn({props:a}),Se.push(()=>Ee(e,"el",r)),e.$on("pointerdown",t[15]),e.$on("pointerup",t[16]),e.$on("pointermove",t[17]),e.$on("touchend",t[18]),e.$on("touchmove",t[19]),{c(){j(e.$$.fragment)},l(s){z(e.$$.fragment,s)},m(s,l){Y(e,s,l),n=!0},p(s,[l]){const c=l&4125?pe(i,[l&5&&{style:s[2](s[0])},i[1],l&8&&{"data-vaul-drawer-direction":s[3]},l&16&&{"data-vaul-drawer-visible":s[4]?"true":"false"},l&4096&&De(s[12])]):{};l&1048576&&(c.$$scope={dirty:l,ctx:s}),!o&&l&2&&(o=!0,c.el=s[1],ke(()=>o=!1)),e.$set(c)},i(s){n||(A(e.$$.fragment,s),n=!0)},o(s){N(e.$$.fragment,s),n=!1},d(s){q(e,s)}}}function fo(t,e,o){const n=["style"];let i=J(e,n),r,a,s,l,{$$slots:c={},$$scope:f}=e;const{refs:{drawerRef:h},states:{visible:S},helpers:{getContentStyle:H},methods:{onPress:I,onDrag:C,onRelease:U},options:{direction:_}}=ut();x(t,h,v=>o(1,r=v)),x(t,S,v=>o(4,l=v)),x(t,H,v=>o(2,a=v)),x(t,_,v=>o(3,s=v));let{style:b=""}=e;function w(v){r=v,h.set(r)}const R=v=>{I(v)},T=v=>{U(v)},P=v=>{C(v)},m=v=>{U(v)},O=v=>{C(v)};return t.$$set=v=>{e=L(L({},e),fe(v)),o(12,i=J(e,n)),"style"in v&&o(0,b=v.style),"$$scope"in v&&o(20,f=v.$$scope)},[b,r,a,s,l,h,S,H,I,C,U,_,i,c,w,R,T,P,m,O,f]}class mo extends le{constructor(e){super(),ce(this,e,fo,uo,ie,{style:0})}}function go(t){let e,o,n;const i=[{"data-vaul-drawer-visible":t[2]?"true":"false"},{"data-vaul-overlay":""},{"data-vaul-snap-points":t[3]&&t[0]?"true":"false"},{"data-vaul-snap-points-overlay":t[3]&&t[4]?"true":"false"},t[11]];function r(s){t[13](s)}let a={};for(let s=0;s<i.length;s+=1)a=L(a,i[s]);return t[1]!==void 0&&(a.el=t[1]),e=new hn({props:a}),Se.push(()=>Ee(e,"el",r)),e.$on("mouseup",t[10]),{c(){j(e.$$.fragment)},l(s){z(e.$$.fragment,s)},m(s,l){Y(e,s,l),n=!0},p(s,[l]){const c=l&2077?pe(i,[l&4&&{"data-vaul-drawer-visible":s[2]?"true":"false"},i[1],l&9&&{"data-vaul-snap-points":s[3]&&s[0]?"true":"false"},l&24&&{"data-vaul-snap-points-overlay":s[3]&&s[4]?"true":"false"},l&2048&&De(s[11])]):{};!o&&l&2&&(o=!0,c.el=s[1],ke(()=>o=!1)),e.$set(c)},i(s){n||(A(e.$$.fragment,s),n=!0)},o(s){N(e.$$.fragment,s),n=!1},d(s){q(e,s)}}}function po(t,e,o){let n;const i=[];let r=J(e,i),a,s,l,c,f;const{refs:{overlayRef:h},states:{isOpen:S,visible:H,snapPoints:I,shouldFade:C},methods:{onRelease:U}}=ut();x(t,h,b=>o(1,s=b)),x(t,S,b=>o(3,c=b)),x(t,H,b=>o(2,l=b)),x(t,I,b=>o(12,a=b)),x(t,C,b=>o(4,f=b));function _(b){s=b,h.set(s)}return t.$$set=b=>{e=L(L({},e),fe(b)),o(11,r=J(e,i))},t.$$.update=()=>{t.$$.dirty&4096&&o(0,n=a&&a.length>0)},[n,s,l,c,f,h,S,H,I,C,U,r,a,_]}class ho extends le{constructor(e){super(),ce(this,e,po,go,ie,{})}}const bo=bn,_o=fn;function wo(t){let e;const o=t[4].default,n=Re(o,t,t[7],null);return{c(){n&&n.c()},l(i){n&&n.l(i)},m(i,r){n&&n.m(i,r),e=!0},p(i,r){n&&n.p&&(!e||r&128)&&Ie(n,o,i,i[7],e?Ne(o,i[7],r,null):Ae(i[7]),null)},i(i){e||(A(n,i),e=!0)},o(i){N(n,i),e=!1},d(i){n&&n.d(i)}}}function vo(t){let e,o,n,i;const r=[{shouldScaleBackground:t[2]},t[3]];function a(c){t[5](c)}function s(c){t[6](c)}let l={$$slots:{default:[wo]},$$scope:{ctx:t}};for(let c=0;c<r.length;c+=1)l=L(l,r[c]);return t[0]!==void 0&&(l.open=t[0]),t[1]!==void 0&&(l.activeSnapPoint=t[1]),e=new so({props:l}),Se.push(()=>Ee(e,"open",a)),Se.push(()=>Ee(e,"activeSnapPoint",s)),{c(){j(e.$$.fragment)},l(c){z(e.$$.fragment,c)},m(c,f){Y(e,c,f),i=!0},p(c,[f]){const h=f&12?pe(r,[f&4&&{shouldScaleBackground:c[2]},f&8&&De(c[3])]):{};f&128&&(h.$$scope={dirty:f,ctx:c}),!o&&f&1&&(o=!0,h.open=c[0],ke(()=>o=!1)),!n&&f&2&&(n=!0,h.activeSnapPoint=c[1],ke(()=>n=!1)),e.$set(h)},i(c){i||(A(e.$$.fragment,c),i=!0)},o(c){N(e.$$.fragment,c),i=!1},d(c){q(e,c)}}}function yo(t,e,o){const n=["shouldScaleBackground","open","activeSnapPoint"];let i=J(e,n),{$$slots:r={},$$scope:a}=e,{shouldScaleBackground:s=!0}=e,{open:l=!1}=e,{activeSnapPoint:c=void 0}=e;function f(S){l=S,o(0,l)}function h(S){c=S,o(1,c)}return t.$$set=S=>{e=L(L({},e),fe(S)),o(3,i=J(e,n)),"shouldScaleBackground"in S&&o(2,s=S.shouldScaleBackground),"open"in S&&o(0,l=S.open),"activeSnapPoint"in S&&o(1,c=S.activeSnapPoint),"$$scope"in S&&o(7,a=S.$$scope)},[l,c,s,i,r,f,h,a]}class So extends le{constructor(e){super(),ce(this,e,yo,vo,ie,{shouldScaleBackground:2,open:0,activeSnapPoint:1})}}function To(t){let e,o,n;const i=[{class:Te("fixed inset-0 z-50 bg-black/80",t[1])},t[2]];function r(s){t[3](s)}let a={};for(let s=0;s<i.length;s+=1)a=L(a,i[s]);return t[0]!==void 0&&(a.el=t[0]),e=new ho({props:a}),Se.push(()=>Ee(e,"el",r)),{c(){j(e.$$.fragment)},l(s){z(e.$$.fragment,s)},m(s,l){Y(e,s,l),n=!0},p(s,[l]){const c=l&6?pe(i,[l&2&&{class:Te("fixed inset-0 z-50 bg-black/80",s[1])},l&4&&De(s[2])]):{};!o&&l&1&&(o=!0,c.el=s[0],ke(()=>o=!1)),e.$set(c)},i(s){n||(A(e.$$.fragment,s),n=!0)},o(s){N(e.$$.fragment,s),n=!1},d(s){q(e,s)}}}function Do(t,e,o){const n=["el","class"];let i=J(e,n),{el:r=void 0}=e,{class:a=void 0}=e;function s(l){r=l,o(0,r)}return t.$$set=l=>{e=L(L({},e),fe(l)),o(2,i=J(e,n)),"el"in l&&o(0,r=l.el),"class"in l&&o(1,a=l.class)},[r,a,i,s]}class Po extends le{constructor(e){super(),ce(this,e,Do,To,ie,{el:0,class:1})}}function Oo(t){let e,o,n;const i=t[2].default,r=Re(i,t,t[3],null);return{c(){e=st("div"),o=Ve(),r&&r.c(),this.h()},l(a){e=at(a,"DIV",{tabindex:!0,role:!0,class:!0}),lt(e).forEach(Z),o=$e(a),r&&r.l(a),this.h()},h(){qe(e,"tabindex","0"),qe(e,"role","button"),qe(e,"class","mx-auto mt-4 h-2 w-[100px] cursor-grab rounded-full bg-muted active:cursor-grabbing")},m(a,s){re(a,e,s),re(a,o,s),r&&r.m(a,s),n=!0},p(a,s){r&&r.p&&(!n||s&8)&&Ie(r,i,a,a[3],n?Ne(i,a[3],s,null):Ae(a[3]),null)},i(a){n||(A(r,a),n=!0)},o(a){N(r,a),n=!1},d(a){a&&(Z(e),Z(o)),r&&r.d(a)}}}function Co(t){let e,o,n,i;e=new Po({});const r=[{class:Te("fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background",t[0])},t[1]];let a={$$slots:{default:[Oo]},$$scope:{ctx:t}};for(let s=0;s<r.length;s+=1)a=L(a,r[s]);return n=new mo({props:a}),{c(){j(e.$$.fragment),o=Ve(),j(n.$$.fragment)},l(s){z(e.$$.fragment,s),o=$e(s),z(n.$$.fragment,s)},m(s,l){Y(e,s,l),re(s,o,l),Y(n,s,l),i=!0},p(s,l){const c=l&3?pe(r,[l&1&&{class:Te("fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background",s[0])},l&2&&De(s[1])]):{};l&8&&(c.$$scope={dirty:l,ctx:s}),n.$set(c)},i(s){i||(A(e.$$.fragment,s),A(n.$$.fragment,s),i=!0)},o(s){N(e.$$.fragment,s),N(n.$$.fragment,s),i=!1},d(s){s&&Z(o),q(e,s),q(n,s)}}}function ko(t){let e,o;return e=new bo({props:{$$slots:{default:[Co]},$$scope:{ctx:t}}}),{c(){j(e.$$.fragment)},l(n){z(e.$$.fragment,n)},m(n,i){Y(e,n,i),o=!0},p(n,[i]){const r={};i&11&&(r.$$scope={dirty:i,ctx:n}),e.$set(r)},i(n){o||(A(e.$$.fragment,n),o=!0)},o(n){N(e.$$.fragment,n),o=!1},d(n){q(e,n)}}}function Eo(t,e,o){const n=["class"];let i=J(e,n),{$$slots:r={},$$scope:a}=e,{class:s=void 0}=e;return t.$$set=l=>{e=L(L({},e),fe(l)),o(1,i=J(e,n)),"class"in l&&o(0,s=l.class),"$$scope"in l&&o(3,a=l.$$scope)},[s,i,r,a]}class Ro extends le{constructor(e){super(),ce(this,e,Eo,ko,ie,{class:0})}}function Io(t){let e,o,n;const i=t[4].default,r=Re(i,t,t[3],null);let a=[{class:o=Te("grid gap-1.5 p-4 text-center sm:text-left",t[1])},t[2]],s={};for(let l=0;l<a.length;l+=1)s=L(s,a[l]);return{c(){e=st("div"),r&&r.c(),this.h()},l(l){e=at(l,"DIV",{class:!0});var c=lt(e);r&&r.l(c),c.forEach(Z),this.h()},h(){_t(e,s)},m(l,c){re(l,e,c),r&&r.m(e,null),t[5](e),n=!0},p(l,[c]){r&&r.p&&(!n||c&8)&&Ie(r,i,l,l[3],n?Ne(i,l[3],c,null):Ae(l[3]),null),_t(e,s=pe(a,[(!n||c&2&&o!==(o=Te("grid gap-1.5 p-4 text-center sm:text-left",l[1])))&&{class:o},c&4&&l[2]]))},i(l){n||(A(r,l),n=!0)},o(l){N(r,l),n=!1},d(l){l&&Z(e),r&&r.d(l),t[5](null)}}}function Ao(t,e,o){const n=["el","class"];let i=J(e,n),{$$slots:r={},$$scope:a}=e,{el:s=void 0}=e,{class:l=void 0}=e;function c(f){Se[f?"unshift":"push"](()=>{s=f,o(0,s)})}return t.$$set=f=>{e=L(L({},e),fe(f)),o(2,i=J(e,n)),"el"in f&&o(0,s=f.el),"class"in f&&o(1,l=f.class),"$$scope"in f&&o(3,a=f.$$scope)},[s,l,i,a,r,c]}class No extends le{constructor(e){super(),ce(this,e,Ao,Io,ie,{el:0,class:1})}}function Fo(t){let e;const o=t[3].default,n=Re(o,t,t[5],null);return{c(){n&&n.c()},l(i){n&&n.l(i)},m(i,r){n&&n.m(i,r),e=!0},p(i,r){n&&n.p&&(!e||r&32)&&Ie(n,o,i,i[5],e?Ne(o,i[5],r,null):Ae(i[5]),null)},i(i){e||(A(n,i),e=!0)},o(i){N(n,i),e=!1},d(i){n&&n.d(i)}}}function Lo(t){let e,o,n;const i=[{class:Te("text-lg font-semibold leading-none tracking-tight",t[1])},t[2]];function r(s){t[4](s)}let a={$$slots:{default:[Fo]},$$scope:{ctx:t}};for(let s=0;s<i.length;s+=1)a=L(a,i[s]);return t[0]!==void 0&&(a.el=t[0]),e=new _o({props:a}),Se.push(()=>Ee(e,"el",r)),{c(){j(e.$$.fragment)},l(s){z(e.$$.fragment,s)},m(s,l){Y(e,s,l),n=!0},p(s,[l]){const c=l&6?pe(i,[l&2&&{class:Te("text-lg font-semibold leading-none tracking-tight",s[1])},l&4&&De(s[2])]):{};l&32&&(c.$$scope={dirty:l,ctx:s}),!o&&l&1&&(o=!0,c.el=s[0],ke(()=>o=!1)),e.$set(c)},i(s){n||(A(e.$$.fragment,s),n=!0)},o(s){N(e.$$.fragment,s),n=!1},d(s){q(e,s)}}}function Mo(t,e,o){const n=["el","class"];let i=J(e,n),{$$slots:r={},$$scope:a}=e,{el:s=void 0}=e,{class:l=void 0}=e;function c(f){s=f,o(0,s)}return t.$$set=f=>{e=L(L({},e),fe(f)),o(2,i=J(e,n)),"el"in f&&o(0,s=f.el),"class"in f&&o(1,l=f.class),"$$scope"in f&&o(5,a=f.$$scope)},[s,l,i,r,c,a]}class Bo extends le{constructor(e){super(),ce(this,e,Mo,Lo,ie,{el:0,class:1})}}function Ho(t){let e,o,n;return e=new Tn({props:{class:"mr-2 h-4 w-4"}}),{c(){j(e.$$.fragment),o=Xe(`
			New record`)},l(i){z(e.$$.fragment,i),o=Je(i,`
			New record`)},m(i,r){Y(e,i,r),re(i,o,r),n=!0},p:At,i(i){n||(A(e.$$.fragment,i),n=!0)},o(i){N(e.$$.fragment,i),n=!1},d(i){i&&Z(o),q(e,i)}}}function Uo(t){let e,o;return e=new Qt({props:{slot:"action",class:"mt-6 self-end sm:mt-0",variant:"default",$$slots:{default:[Ho]},$$scope:{ctx:t}}}),e.$on("click",t[10]),{c(){j(e.$$.fragment)},l(n){z(e.$$.fragment,n)},m(n,i){Y(e,n,i),o=!0},p(n,i){const r={};i&1048576&&(r.$$scope={dirty:i,ctx:n}),e.$set(r)},i(n){o||(A(e.$$.fragment,n),o=!0)},o(n){N(e.$$.fragment,n),o=!1},d(n){q(e,n)}}}function Vo(t){let e,o,n,i;return{c(){e=Xe("Editing "),o=st("span"),n=Xe(t[5]),i=Xe(" record"),this.h()},l(r){e=Je(r,"Editing "),o=at(r,"SPAN",{class:!0});var a=lt(o);n=Je(a,t[5]),a.forEach(Z),i=Je(r," record"),this.h()},h(){qe(o,"class","font-bold")},m(r,a){re(r,e,a),re(r,o,a),nn(o,n),re(r,i,a)},p(r,a){a&32&&on(n,r[5])},d(r){r&&(Z(e),Z(o),Z(i))}}}function $o(t){let e,o;return e=new Bo({props:{class:"font-normal",$$slots:{default:[Vo]},$$scope:{ctx:t}}}),{c(){j(e.$$.fragment)},l(n){z(e.$$.fragment,n)},m(n,i){Y(e,n,i),o=!0},p(n,i){const r={};i&1048608&&(r.$$scope={dirty:i,ctx:n}),e.$set(r)},i(n){o||(A(e.$$.fragment,n),o=!0)},o(n){N(e.$$.fragment,n),o=!1},d(n){q(e,n)}}}function Wo(t){let e,o,n,i;return e=new No({props:{$$slots:{default:[$o]},$$scope:{ctx:t}}}),n=new dn({props:{destroyCallback:t[12],class:"mt-[15px] h-full pt-5",data:{...JSON.parse(JSON.stringify(t[1].state.recordPageData))},cancelCallback:t[12]}}),{c(){j(e.$$.fragment),o=Ve(),j(n.$$.fragment)},l(r){z(e.$$.fragment,r),o=$e(r),z(n.$$.fragment,r)},m(r,a){Y(e,r,a),re(r,o,a),Y(n,r,a),i=!0},p(r,a){const s={};a&1048608&&(s.$$scope={dirty:a,ctx:r}),e.$set(s);const l={};a&2&&(l.data={...JSON.parse(JSON.stringify(r[1].state.recordPageData))}),n.$set(l)},i(r){i||(A(e.$$.fragment,r),A(n.$$.fragment,r),i=!0)},o(r){N(e.$$.fragment,r),N(n.$$.fragment,r),i=!1},d(r){r&&Z(o),q(e,r),q(n,r)}}}function jo(t){let e,o;return e=new Ro({props:{class:"max-h-[95vh] min-h-[95vh]",$$slots:{default:[Wo]},$$scope:{ctx:t}}}),{c(){j(e.$$.fragment)},l(n){z(e.$$.fragment,n)},m(n,i){Y(e,n,i),o=!0},p(n,i){const r={};i&1048610&&(r.$$scope={dirty:i,ctx:n}),e.$set(r)},i(n){o||(A(e.$$.fragment,n),o=!0)},o(n){N(e.$$.fragment,n),o=!1},d(n){q(e,n)}}}function Et(t){let e,o,n,i;return e=new an({props:{filterPlaceholder:"Filter records on the current page",title:t[5],schema:t[6],data:t[4],description:`All available records for ${t[5]}`,rowClickCallback:t[11],pagination:t[3],onPageChange:t[13],loading:t[2],hiddenColumns:t[7],$$slots:{action:[Uo]},$$scope:{ctx:t}}}),e.$on("dataUpdate",t[15]),e.$on("columnVisibilityChange",t[16]),n=new So({props:{shouldScaleBackground:!0,open:!!t[1].state.recordPageData,onClose:t[12],backgroundColor:"black",$$slots:{default:[jo]},$$scope:{ctx:t}}}),{c(){j(e.$$.fragment),o=Ve(),j(n.$$.fragment)},l(r){z(e.$$.fragment,r),o=$e(r),z(n.$$.fragment,r)},m(r,a){Y(e,r,a),re(r,o,a),Y(n,r,a),i=!0},p(r,a){const s={};a&32&&(s.title=r[5]),a&64&&(s.schema=r[6]),a&16&&(s.data=r[4]),a&32&&(s.description=`All available records for ${r[5]}`),a&8&&(s.pagination=r[3]),a&4&&(s.loading=r[2]),a&128&&(s.hiddenColumns=r[7]),a&1048576&&(s.$$scope={dirty:a,ctx:r}),e.$set(s);const l={};a&2&&(l.open=!!r[1].state.recordPageData),a&1048610&&(l.$$scope={dirty:a,ctx:r}),n.$set(l)},i(r){i||(A(e.$$.fragment,r),A(n.$$.fragment,r),i=!0)},o(r){N(e.$$.fragment,r),N(n.$$.fragment,r),i=!1},d(r){r&&Z(o),q(e,r),q(n,r)}}}function zo(t){let e=t[0],o,n,i=Et(t);return{c(){i.c(),o=wt()},l(r){i.l(r),o=wt()},m(r,a){i.m(r,a),re(r,o,a),n=!0},p(r,[a]){a&1&&ie(e,e=r[0])?(sn(),N(i,1,1,At),rn(),i=Et(r),i.c(),A(i,1),i.m(o.parentNode,o)):i.p(r,a)},i(r){n||(A(i),n=!0)},o(r){N(i),n=!1},d(r){r&&Z(o),i.d(r)}}}function Yo(t,e,o){let n,i,r,a,s,l,c,f;x(t,mn,m=>o(1,c=m));let{data:h}=e;h.error&&(wn(h.error.message),window.history.back());const S=Q([]);x(t,S,m=>o(7,f=m));let H=!1;const I=async m=>{const O=await Rt.collection(r).getList(m,a.perPage,{expand:s,sort:"-created"});o(0,n=O),o(4,l=O.items),o(3,a={...a,page:m,totalPages:Math.ceil(O.totalItems/a.perPage),totalItems:O.totalItems})},C=m=>{o(0,n={...n,items:m})},U=async m=>{var V;const O=`${c.url.pathname}${m}`,v=await ln(O);v.type==="loaded"&&v.status===200?((V=v.data)==null||delete V.menu,vt(O,{recordPageData:v.data})):cn(O)},_=()=>U("newRecord"),b=async(m,O)=>{var V;if(m.target.nodeName!=="TD"||!((V=m.target.closest("td"))!=null&&V.contains(m.target))){m.preventDefault(),m.stopPropagation();return}await U(O.id)},w=()=>{c.state.recordPageData&&setTimeout(()=>window.history.back(),200)},R=async m=>{o(2,H=!0);try{await I(m);const O=new URL(window.location.href);O.searchParams.set("page",m.toString()),vt(O.toString(),{hiddenColumns:f}),o(0,n={...n})}catch(O){console.error("Error fetching page",O)}finally{o(2,H=!1)}},T=({detail:m})=>C(m),P=({detail:m})=>S.set(m);return t.$$set=m=>{"data"in m&&o(14,h=m.data)},t.$$.update=()=>{t.$$.dirty&16384&&o(0,{collection:n,schema:i,title:r,pagination:a,relationsToExpand:s}=h,n,(o(6,i),o(14,h)),(o(5,r),o(14,h)),(o(3,a),o(14,h))),t.$$.dirty&1&&o(4,l=(n==null?void 0:n.items)??[]),t.$$.dirty&2&&c.state.hiddenColumns&&Array.isArray(c.state.hiddenColumns)&&S.set(c.state.hiddenColumns)},[n,c,H,a,l,r,i,f,S,C,_,b,w,R,h,T,P]}class ar extends le{constructor(e){super(),ce(this,e,Yo,zo,ie,{data:14})}}export{ar as component,sr as universal};
