import{p as Rt,B as Qt}from"../chunks/index.BHplDji8.js";import{s as ie,w as M,x as fe,z as Re,D as Ie,E as Ae,F as Ne,aa as Zt,ab as u,O as xt,L as It,G as en,H as tn,y as Se,U as ke,v as J,k as x,a as Ve,g as $e,i as re,f as Z,e as st,c as at,b as lt,m as qe,A as _t,o as wt,n as At,t as Xe,d as Je,h as nn,j as on}from"../chunks/scheduler.CJbnQW4F.js";import{S as le,i as ce,c as j,a as z,m as Y,t as N,b as F,d as q,k as Ee,e as rn,g as sn}from"../chunks/index.BMuCI7Kc.js";import{D as an}from"../chunks/data-table-actions.UXkF3JQv.js";import{f as vt,h as ln,g as cn}from"../chunks/entry.B4TdngOS.js";import{g as pe,f as De,b as Te}from"../chunks/events.DwFK5ZIp.js";import{d as Ce,w as Q,a as un}from"../chunks/index.DHpBs5s-.js";import"../chunks/editor.svelte_svelte_type_style_lang.DSEdMZqU.js";import{D as fn,P as dn}from"../chunks/_page.DPwbqyo4.js";import{p as mn}from"../chunks/stores.CAKeC0cK.js";import{D as gn}from"../chunks/dialog.DxaXqTu2.js";import{D as pn,a as hn,b as bn}from"../chunks/Cross2.BMOMqtzx.js";import{I as _n}from"../chunks/updater.D2OxBVVQ.js";function wn(t){let e;const o=t[2].default,n=Re(o,t,t[3],null);return{c(){n&&n.c()},l(i){n&&n.l(i)},m(i,r){n&&n.m(i,r),e=!0},p(i,r){n&&n.p&&(!e||r&8)&&Ie(n,o,i,i[3],e?Ne(o,i[3],r,null):Ae(i[3]),null)},i(i){e||(N(n,i),e=!0)},o(i){F(n,i),e=!1},d(i){n&&n.d(i)}}}function vn(t){let e,o;const n=[{name:"plus"},t[1],{iconNode:t[0]}];let i={$$slots:{default:[wn]},$$scope:{ctx:t}};for(let r=0;r<n.length;r+=1)i=M(i,n[r]);return e=new _n({props:i}),{c(){j(e.$$.fragment)},l(r){z(e.$$.fragment,r)},m(r,a){Y(e,r,a),o=!0},p(r,[a]){const s=a&3?pe(n,[n[0],a&2&&De(r[1]),a&1&&{iconNode:r[0]}]):{};a&8&&(s.$$scope={dirty:a,ctx:r}),e.$set(s)},i(r){o||(N(e.$$.fragment,r),o=!0)},o(r){F(e.$$.fragment,r),o=!1},d(r){q(e,r)}}}function yn(t,e,o){let{$$slots:n={},$$scope:i}=e;const r=[["path",{d:"M5 12h14"}],["path",{d:"M12 5v14"}]];return t.$$set=a=>{o(1,e=M(M({},e),fe(a))),"$$scope"in a&&o(3,i=a.$$scope)},e=fe(e),[r,e,n,i]}class Sn extends le{constructor(e){super(),ce(this,e,yn,vn,ie,{})}}const Tn=!1,Dn=async({params:t,fetch:e,parent:o,url:n})=>{var S;const{collections:i}=await o(),r=i.find(A=>A.name===t.collectionName),a=Number(n.searchParams.get("page"))||1,s=10,c=(((S=r==null?void 0:r.schema)==null?void 0:S.filter(A=>A.type==="relation").map(A=>A.name))||[]).join(","),f=await Rt.collection(t.collectionName).getList(a,s,{fetch:e,expand:c,sort:"-created"}),y=[{name:"id",type:"id"},...(r==null?void 0:r.schema)||[],{name:"created",type:"date"},{name:"updated",type:"date"}];return{collection:f,schema:y,title:r==null?void 0:r.name,relationsToExpand:c,pagination:{page:a,perPage:s,totalPages:Math.ceil(f.totalItems/s),totalItems:f.totalItems}}},rr=Object.freeze(Object.defineProperty({__proto__:null,load:Dn,prerender:Tn},Symbol.toStringTag,{value:"Module"}));function Pn(t){return function(e,o){if(o===void 0)return;const n=t[e];n&&n.set(o)}}const L={DURATION:.5,EASE:[.32,.72,0,1]},Nt=.4;function ae(t,e){if(typeof document>"u")return()=>{};const o=On(t,(n,i)=>({stores:n,onUnsubscribe:i})).subscribe(({stores:n,onUnsubscribe:i})=>{const r=e(n);r&&i(r)});return Ft(o),o}function On(t,e){let o=[];const n=s=>{o.push(s)},i=()=>{o.forEach(s=>s()),o=[]},r=Ce(t,s=>(i(),e(s,n)));return Ft(i),{...r,subscribe:(...s)=>{const l=r.subscribe(...s);return()=>{l(),i()}}}}const Ft=t=>{try{Zt(t)}catch{return t()}},yt=(t,e)=>{const o=(i,r)=>{t.update(a=>{const s=i(a);let l=s;return e&&(l=e({curr:a,next:s})),r==null||r(l),l})};return{...t,update:o,set:i=>{o(()=>i)}}};function Cn(t){const e={};return Object.keys(t).forEach(o=>{const n=o,i=t[n];e[n]=Q(i)}),e}function kn(t,...e){const o={};for(const n of Object.keys(t))e.includes(n)||(o[n]=t[n]);return o}function En(t){const e={};for(const o in t){const n=t[o];n!==void 0&&(e[o]=n)}return e}const Lt=new WeakMap;function H(t,e,o=!1){if(!t||!(t instanceof HTMLElement)||!e)return;const n={};Object.entries(e).forEach(([i,r])=>{if(i.startsWith("--")){t.style.setProperty(i,r);return}n[i]=t.style[i],t.style[i]=r}),!o&&Lt.set(t,n)}function Ue(t,e){if(!t||!(t instanceof HTMLElement))return;const o=Lt.get(t);o&&(e?t.style[e]=o[e]:Object.entries(o).forEach(([n,i])=>{t.style[n]=i}))}function ze(t,e){const o=window.getComputedStyle(t),n=o.transform||o.webkitTransform||o.mozTransform;let i=n.match(/^matrix3d\((.+)\)$/);return i?parseFloat(i[1].split(", ")[W(e)?13:12]):(i=n.match(/^matrix\((.+)\)$/),i?parseFloat(i[1].split(", ")[W(e)?5:4]):null)}function Rn(t){return Object.keys(t).reduce((e,o)=>t[o]===void 0?e:e+`${o}:${t[o]};`,"")}function it(){}function ye(t,e,o,n){const i=Array.isArray(e)?e:[e];return i.forEach(r=>t.addEventListener(r,o,n)),()=>{i.forEach(r=>t.removeEventListener(r,o,n))}}const In=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]),An=typeof document<"u";function Ke(t){return t instanceof HTMLInputElement&&!In.has(t.type)||t instanceof HTMLTextAreaElement||t instanceof HTMLElement&&t.isContentEditable}function W(t){return t==="top"||t==="bottom"}function St(t){return t==="bottom"||t==="right"}function Ge(...t){return(...e)=>{for(const o of t)typeof o=="function"&&o(...e)}}function Nn(t){return new Promise(e=>setTimeout(e,t))}function Fn({activeSnapPoint:t,snapPoints:e,drawerRef:o,overlayRef:n,fadeFromIndex:i,openTime:r,direction:a}){const s=Ce([e,t],([b,h])=>h===(b==null?void 0:b[b.length-1])),l=Ce([e,i,t],([b,h,_])=>b&&b.length>0&&(h||h===0)&&!Number.isNaN(h)&&b[h]===_||!b),c=Ce([e,t],([b,h])=>(b==null?void 0:b.findIndex(_=>_===h))??null),f=Ce(e,b=>b?b.map(h=>{const _=typeof window<"u",R=typeof h=="string";let T=0;R&&(T=parseInt(h,10));const P=u(a);if(W(P)){const O=R?T:_?h*window.innerHeight:0;return _?P==="bottom"?window.innerHeight-O:window.innerHeight+O:O}const m=R?T:_?h*window.innerWidth:0;return _?P==="right"?window.innerWidth-m:window.innerWidth+m:m}):[]),y=Ce([f,c],([b,h])=>h!==null?b==null?void 0:b[h]:null);ae([t,o],([b,h])=>{if(b&&h){const _=u(e),R=u(f),T=(_==null?void 0:_.findIndex(P=>P===b))??-1;R&&T!==-1&&typeof R[T]=="number"&&S(R[T])}});function S(b){xt().then(()=>{const h=u(f),_=(h==null?void 0:h.findIndex(O=>O===b))??null,R=u(o),T=u(a);U(_),H(R,{transition:`transform ${L.DURATION}s cubic-bezier(${L.EASE.join(",")})`,transform:W(T)?`translate3d(0, ${b}px, 0)`:`translate3d(${b}px, 0, 0)`});const P=u(i),m=u(n);f&&_!==h.length-1&&_!==P?H(m,{transition:`opacity ${L.DURATION}s cubic-bezier(${L.EASE.join(",")})`,opacity:"0"}):H(m,{transition:`opacity ${L.DURATION}s cubic-bezier(${L.EASE.join(",")})`,opacity:"1"}),t.update(()=>{const O=u(e);return _===null||!O?null:O[_]})})}function A({draggedDistance:b,closeDrawer:h,velocity:_,dismissible:R}){const T=u(i);if(T===void 0)return;const P=u(y),m=u(c),O=u(n),w=u(f),V=u(e),K=u(a),B=K==="bottom"||K==="right"?(P??0)-b:(P??0)+b,de=m===T-1,he=m===0,ue=b>0;if(de&&H(O,{transition:`opacity ${L.DURATION}s cubic-bezier(${L.EASE.join(",")})`}),_>2&&!ue){R?h():S(w[0]);return}if(_>2&&ue&&w&&V){S(w[V.length-1]);return}const me=w==null?void 0:w.reduce((X,ee)=>typeof X!="number"||typeof ee!="number"?X:Math.abs(ee-B)<Math.abs(X-B)?ee:X),be=W(K)?window.innerHeight:window.innerWidth;if(_>Nt&&Math.abs(b)<be*.4){const X=ue?1:-1;if(X>0&&u(s)&&V){S(w[V.length-1]);return}if(he&&X<0&&R&&h(),m===null)return;S(w[m+X]);return}S(me)}function I({draggedDistance:b}){const h=u(o),_=u(y);if(_===null)return;const R=u(f),T=u(a),P=T==="bottom"||T==="right"?_-b:_+b,m=R[R.length-1];St(T)&&P<m||!St(T)&&P>m||H(h,{transform:W(T)?`translate3d(0, ${P}px, 0)`:`translate3d(${P}px, 0, 0)`})}function C(b,h){const _=u(c),R=u(f),T=u(e),P=u(i);if(!T||typeof _!="number"||!R||P===void 0)return null;const m=_===P-1;if(_>=P&&h)return 0;if(m&&!h)return 1;if(!u(l)&&!m)return null;const w=m?_+1:_-1,V=m?R[w]-R[w-1]:R[w+1]-R[w],K=b/Math.abs(V);return m?1-K:K}function U(b){const h=u(e),_=u(f);h&&b===_.length-1&&r.set(new Date)}return{isLastSnapPoint:s,shouldFade:l,getPercentageDragged:C,activeSnapPointIndex:c,onRelease:A,onDrag:I,snapPointsOffset:f}}function Ln(){return ct(/^Mac/)}function Mn(){return ct(/^iPhone/)}function Bn(){return ct(/^iPad/)||Ln()&&navigator.maxTouchPoints>1}function Mt(){return Mn()||Bn()}function ct(t){return typeof window<"u"&&window.navigator!=null?t.test(window.navigator.platform):void 0}const nt=typeof document<"u"&&window.visualViewport;function Tt(t){const e=window.getComputedStyle(t);return/(auto|scroll)/.test(e.overflow+e.overflowX+e.overflowY)}function Bt(t){for(Tt(t)&&(t=t.parentElement);t&&!Tt(t);)t=t.parentElement;return t||document.scrollingElement||document.documentElement}let Ye=0,ot;function Hn(){return typeof document>"u"?()=>{}:(Ye++,Ye===1&&(Mt()?ot=Wn():ot=$n()),()=>{Ye--,Ye===0&&ot()})}function Un(t){const e=t.getBoundingClientRect().left;return Math.round(e)+t.scrollLeft?"paddingLeft":"paddingRight"}function Vn(t,e,o){if(!t)return;const n=t.style.getPropertyValue(e);return t.style.setProperty(e,o),()=>{n?t.style.setProperty(e,n):t.style.removeProperty(e)}}function $n(){if(typeof document>"u")return()=>{};const t=document.defaultView??window,{documentElement:e,body:o}=document,n=t.innerWidth-e.clientWidth,i=()=>Vn(e,"--scrollbar-width",`${n}px`),r=Un(e),a=t.getComputedStyle(o)[r];return Ge(i(),Qe(o,r,`calc(${a} + ${n}px)`),Qe(o,"overflow","hidden"))}function Wn(){let t,e=0;const{documentElement:o,body:n,activeElement:i}=document;function r(I){t=Bt(I.target),!(t===o&&t===n)&&(e=I.changedTouches[0].pageY)}function a(I){if(!t||t===o||t===n){I.preventDefault();return}const C=I.changedTouches[0].pageY,U=t.scrollTop,b=t.scrollHeight-t.clientHeight;b!==0&&((U<=0&&C>e||U>=b&&C<e)&&I.preventDefault(),e=C)}function s(I){const C=I.target;Ke(C)&&C!==i&&(I.preventDefault(),C.style.transform="translateY(-2000px)",C.focus(),requestAnimationFrame(()=>{C.style.transform=""}))}function l(I){const C=I.target;Ke(C)&&(C.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{C.style.transform="",nt&&(nt.height<window.innerHeight?requestAnimationFrame(()=>{Dt(C)}):nt.addEventListener("resize",()=>Dt(C),{once:!0}))}))}function c(){window.scrollTo(0,0)}const f=window.pageXOffset,y=window.pageYOffset,S=Ge(Qe(o,"paddingRight",`${window.innerWidth-o.clientWidth}px`),Qe(o,"overflow","hidden"));window.scrollTo(0,0);const A=Ge(ye(document,"touchstart",r,{passive:!1,capture:!0}),ye(document,"touchmove",a,{passive:!1,capture:!0}),ye(document,"touchend",s,{passive:!1,capture:!0}),ye(document,"focus",l,!0),ye(window,"scroll",c));return()=>{S(),A(),window.scrollTo(f,y)}}function Qe(t,e,o){const n=t.style[e];return t.style[e]=o,()=>{t.style[e]=n}}function Dt(t){const{documentElement:e,body:o,scrollingElement:n}=document,i=n||e;for(;t&&t!==i;){const r=Bt(t);if(r!==e&&r!==o&&r!==t){const a=r.getBoundingClientRect().top,s=t.getBoundingClientRect().top,l=t.getBoundingClientRect().bottom,c=r.getBoundingClientRect().bottom;l>c&&(r.scrollTop+=s-a)}t=r.parentElement}}const jn=un(void 0,t=>{function e(n){n&&n.key==="Escape"&&t(n),t(void 0)}return ye(document,"keydown",e,{passive:!1})});function zn(t,e){let o=it;function n(i){o(),o=Ge(jn.subscribe(r=>{if(!r)return;const a=r.target;!Yn(a)||a.closest("[data-escapee]")!==t||(r.preventDefault(),i(r))})),t.setAttribute("data-escapee","")}return n(e),()=>{o(),t.removeAttribute("data-escapee")}}function Yn(t){return t instanceof HTMLElement}let ve=null;function qn({isOpen:t,modal:e,nested:o,hasBeenOpened:n}){const i=Q(typeof window<"u"?window.location.href:"");let r=0;function a(l){if(!(ve===null&&l))return;ve={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left,height:document.body.style.height};const{scrollX:c,innerHeight:f}=window;document.body.style.setProperty("position","fixed","important"),document.body.style.top=`${-r}px`,document.body.style.left=`${-c}px`,document.body.style.right="0px",document.body.style.height="auto",setTimeout(()=>requestAnimationFrame(()=>{const y=f-window.innerHeight;y&&r>=f&&(document.body.style.top=`${-(r+y)}px`)}),300)}function s(){if(ve===null)return;const l=u(i),c=-parseInt(document.body.style.top,10),f=-parseInt(document.body.style.left,10);document.body.style.position=ve.position,document.body.style.top=ve.top,document.body.style.left=ve.left,document.body.style.height=ve.height,document.body.style.right="unset",requestAnimationFrame(()=>{if(l!==window.location.href){i.set(window.location.href);return}window.scrollTo(f,c)}),ve=null}return It(()=>{function l(){r=window.scrollY}return l(),ye(window,"scroll",l),()=>{}}),ae([t,i],([l,c])=>{typeof document>"u"||u(o)||!u(n)||(l?(a(l),u(e)||setTimeout(()=>{s()},500)):s())}),{restorePositionSetting:s}}const Xn=.25,Jn=100,Pt=8,Oe=16,Ht=26,Ot="vaul-dragging",rt=Q([]),Kn={closeThreshold:Xn,shouldScaleBackground:!0,scrollLockTimeout:Jn,onDrag:void 0,onRelease:void 0,snapPoints:void 0,fadeFromIndex:void 0,defaultActiveSnapPoint:void 0,onActiveSnapPointChange:void 0,defaultOpen:!1,onOpenChange:void 0,fixed:void 0,dismissible:!0,modal:!0,nested:!1,onClose:void 0,direction:"bottom"},Gn=["defaultOpen","onOpenChange","defaultActiveSnapPoint","onActiveSnapPointChange","onDrag","onRelease","onClose"];function Qn(t){var pt;const{snapPoints:e,fadeFromIndex:o=e&&e.length-1,...n}={...Kn,...En(t)},i=Cn(kn({...n,snapPoints:e,fadeFromIndex:o},...Gn)),r=Q(void 0),{onDrag:a,onRelease:s,onClose:l,onOpenChange:c}=n,{snapPoints:f,fadeFromIndex:y,fixed:S,dismissible:A,modal:I,nested:C,shouldScaleBackground:U,scrollLockTimeout:b,closeThreshold:h,direction:_}=i,R=Q(n.defaultOpen),T=yt(R,n.onOpenChange),P=Q(!1),m=Q(!1),O=Q(!1),w=Q(void 0),V=Q(null),K=Q(!1),B=Q(void 0),de=Q(void 0);let he=!1,ue=null,me=!1,be=0,X=null,ee=null,_e=!1,ne=((pt=u(B))==null?void 0:pt.getBoundingClientRect().height)||0,We=0,Me=0,Be=null;const d=yt(Q(n.defaultActiveSnapPoint),n.onActiveSnapPointChange),{activeSnapPointIndex:ge,getPercentageDragged:ft,onDrag:Vt,onRelease:$t,shouldFade:dt,snapPointsOffset:Ze}=Fn({snapPoints:f,activeSnapPoint:d,drawerRef:B,fadeFromIndex:y,overlayRef:w,openTime:V,direction:_}),Wt=Ce([Ze],([g])=>(p="")=>{if(g&&g.length>0){const v=Rn({"--snap-point-height":`${g[0]}px`});return p+v}return p});ae([B],([g])=>{g&&de.set(g.id)}),ae([T],([g])=>{Nn(100).then(()=>{const p=u(de);g&&p?rt.update(v=>(v.includes(p)||v.push(p),v)):rt.update(v=>v.filter(D=>D!==D))})}),ae([T],([g])=>{if(!g&&u(U)){const p=setTimeout(()=>{Ue(document.body,"background")},200);return()=>clearTimeout(p)}}),ae([T],([g])=>{let p=()=>{};return g&&(p=Hn()),p});const{restorePositionSetting:jt}=qn({isOpen:T,modal:I,nested:C,hasBeenOpened:P});ae([B],([g])=>{let p=it;return g&&(p=zn(g,()=>{Fe(!0)})),()=>{p()}});function zt(){me||(P.set(!0),T.set(!0))}function Yt(g){const p=u(B);!u(A)&&!u(f)||p&&!p.contains(g.target)||(ne=(p==null?void 0:p.getBoundingClientRect().height)||0,he=!0,ue=new Date,Mt()&&window.addEventListener("touchend",()=>_e=!1,{once:!0}),g.target.setPointerCapture(g.pointerId),be=W(u(_))?g.screenY:g.screenX)}function mt(g,p){var G;const v=u(B);let D=g;const k=(G=window.getSelection())==null?void 0:G.toString(),E=u(_),$=v?ze(v,E):null,te=new Date;if(D.hasAttribute("data-vaul-no-drag")||D.closest("[data-vaul-no-drag]"))return!1;const oe=u(V);if(oe&&te.getTime()-oe.getTime()<500)return!1;if($!==null&&(E==="bottom"||E==="right"?$>0:$<0)||$!==null&&$>0)return!0;if(k&&k.length>0)return!1;const se=u(b);if(ee&&te.getTime()-ee.getTime()<se&&$===0||p)return ee=te,!1;for(;D;){if(D.scrollHeight>D.clientHeight){if(D.scrollTop!==0)return ee=new Date,!1;if(D.getAttribute("role")==="dialog")return!0}D=D.parentNode}return!0}function qt(g){const p=u(B);if(!p||!he)return;const v=u(_),D=kt(v),k=Ct(be,v,g)*D,E=k>0,$=u(ge),te=u(f);if(te&&$===0&&!u(A)||!_e&&!mt(g.target,E))return;p.classList.add(Ot),_e=!0,H(p,{transition:"none"});const oe=u(w);if(H(oe,{transition:"none"}),te&&Vt({draggedDistance:k}),E&&!te){const Pe=Zn(k),je=Math.min(Pe*-1,0)*D;H(p,{transform:W(v)?`translate3d(0, ${je}px, 0)`:`translate3d(${je}px, 0, 0)`});return}const se=Math.abs(k);let G=se/ne;const He=ft(se,E);He!==null&&(G=He);const et=1-G,we=u(y);(u(dt)||we&&$===we-1)&&(a==null||a(g,G),H(oe,{opacity:`${et}`,transition:"none"},!0));const ht=document.querySelector("[data-vaul-drawer-wrapper]");if(ht&&oe&&u(U)){const Pe=Math.min(Le()+G*(1-Le()),1),je=8-G*8,bt=Math.max(0,14-G*14);H(ht,{borderRadius:`${je}px`,transform:W(v)?`scale(${Pe}) translate3d(0, ${bt}px, 0)`:`scale(${Pe}) translate3d(${bt}px, 0, 0)`,transition:"none"},!0)}if(!te){const Pe=se*D;H(p,{transform:W(v)?`translate3d(0, ${Pe}px, 0)`:`translate3d(${Pe}px, 0, 0)`})}}function xe(g,p="black"){const v=document.querySelector("[data-vaul-drawer-wrapper]");if(!v||!u(U))return;const D=u(_);g?(H(document.body,{background:document.body.style.backgroundColor||document.body.style.background}),H(document.body,{background:p},!0),H(v,{borderRadius:`${Pt}px`,overflow:"hidden",...W(D)?{transform:`scale(${Le()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${Le()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"},transitionProperty:"transform, border-radius",transitionDuration:`${L.DURATION}s`,transitionTimingFunction:`cubic-bezier(${L.EASE.join(",")})`})):(Ue(v,"overflow"),Ue(v,"transform"),Ue(v,"borderRadius"),H(v,{transitionProperty:"transform, border-radius",transitionDuration:`${L.DURATION}s`,transitionTimingFunction:`cubic-bezier(${L.EASE.join(",")})`}))}ae([ge,f,Ze],([g,p,v])=>{function D(){var oe;const E=u(B);if(!E)return;const $=u(K),te=document.activeElement;if(Ke(te)||$){const se=((oe=window.visualViewport)==null?void 0:oe.height)||0;let G=window.innerHeight-se;const He=E.getBoundingClientRect().height||0;Me||(Me=He);const et=E.getBoundingClientRect().top;if(Math.abs(We-G)>60&&K.set(!$),p&&p.length>0&&v&&g){const we=v[g]||0;G+=we}if(We=G,He>se||$){const we=E.getBoundingClientRect().height;let tt=we;we>se&&(tt=se-Ht),u(S)?E.style.height=`${we-Math.max(G,0)}px`:E.style.height=`${Math.max(tt,se-et)}px`}else E.style.height=`${Me}px`;p&&p.length>0&&!$?E.style.bottom="0px":E.style.bottom=`${Math.max(G,0)}px`}}let k=it;return window.visualViewport&&(k=ye(window.visualViewport,"resize",D)),()=>{k()}});function Fe(g=!1){if(me)return;const p=u(B);if(!p)return;const v=u(_);l==null||l(),H(p,{transform:W(v)?`translate3d(0, ${v==="bottom"?"100%":"-100%"}, 0)`:`translate3d(${v==="right"?"100%":"-100%"}, 0, 0)`,transition:`transform ${L.DURATION}s cubic-bezier(${L.EASE.join(",")})`}),H(u(w),{opacity:"0",transition:`opacity ${L.DURATION}s cubic-bezier(${L.EASE.join(",")})`}),xe(!1),me=!0,setTimeout(()=>{var k;m.set(!1),T.set(!1),me=!1,g&&((k=u(r))==null||k.focus())},300);const D=u(f);setTimeout(()=>{Ue(document.documentElement,"scrollBehavior"),D&&d.set(D[0])},L.DURATION*1e3)}ae([T],([g])=>{g?P.set(!0):Fe()});function gt(){const g=u(B);if(!g)return;const p=u(w),v=document.querySelector("[data-vaul-drawer-wrapper]"),D=u(_),k=ze(g,D);H(g,{transform:"translate3d(0, 0, 0)",transition:`transform ${L.DURATION}s cubic-bezier(${L.EASE.join(",")})`}),H(p,{transition:`opacity ${L.DURATION}s cubic-bezier(${L.EASE.join(",")})`,opacity:"1"});const E=u(U),$=u(T);E&&k&&k>0&&$&&H(v,{borderRadius:`${Pt}px`,overflow:"hidden",...W(D)?{transform:`scale(${Le()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${Le()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"},transitionProperty:"transform, border-radius",transitionDuration:`${L.DURATION}s`,transitionTimingFunction:`cubic-bezier(${L.EASE.join(",")})`},!0)}function Xt(g){var oe;const p=u(B);if(!he||!p)return;_e&&Ke(g.target)&&g.target.blur(),p.classList.remove(Ot),_e=!1,he=!1,X=new Date;const v=u(_),D=ze(p,v);if(g.target&&!mt(g.target,!1)||!D||Number.isNaN(D)||ue===null)return;const k=X.getTime()-ue.getTime(),E=Ct(be,v,g),$=Math.abs(E)/k;if($>.05&&(O.set(!0),setTimeout(()=>{O.set(!1)},200)),u(f)){$t({draggedDistance:E*kt(v),closeDrawer:Fe,velocity:$,dismissible:u(A)}),s==null||s(g,!0);return}if(v==="bottom"||v==="right"?E>0:E<0){gt(),s==null||s(g,!0);return}if($>Nt){Fe(),s==null||s(g,!1);return}const te=Math.min(((oe=u(B))==null?void 0:oe.getBoundingClientRect().height)??0,window.innerHeight);if(D>=te*u(h)){Fe(),s==null||s(g,!1);return}s==null||s(g,!0),gt()}ae([T],([g])=>{g&&(An&&H(document.documentElement,{scrollBehavior:"auto"}),V.set(new Date),xe(!0,t.backgroundColor))}),ae([m],([g])=>{if(!g)return;const p=u(B);if(!p)return;p.querySelectorAll("*").forEach(D=>{const k=D;(k.scrollHeight>k.clientHeight||k.scrollWidth>k.clientWidth)&&k.classList.add("vaul-scrollable")})});function Jt(g){const p=u(B),v=g?(window.innerWidth-Oe)/window.innerWidth:1,D=g?-Oe:0;Be&&window.clearTimeout(Be),H(p,{transition:`transform ${L.DURATION}s cubic-bezier(${L.EASE.join(",")})`,transform:`scale(${v}) translate3d(0, ${D}px, 0)`}),!g&&p&&(Be=setTimeout(()=>{const k=u(_),E=ze(p,k);H(p,{transition:"none",transform:W(k)?`translate3d(0, ${E}px, 0)`:`translate3d(${E}px, 0, 0)`})},500))}function Kt(g,p){if(p<0)return;const v=(window.innerWidth-Oe)/window.innerWidth,D=v+p*(1-v),k=-Oe+p*Oe,E=u(_);H(u(B),{transform:W(E)?`scale(${D}) translate3d(0, ${k}px, 0)`:`scale(${D}) translate3d(${k}px, 0, 0)`,transition:"none"})}function Gt(g,p){const v=u(_),D=W(v)?window.innerHeight:window.innerWidth,k=p?(D-Oe)/D:1,E=p?-Oe:0;p&&H(u(B),{transition:`transform ${L.DURATION}s cubic-bezier(${L.EASE.join(",")})`,transform:W(v)?`scale(${k}) translate3d(0, ${E}px, 0)`:`scale(${k}) translate3d(${E}px, 0, 0)`})}return{states:{isOpen:T,hasBeenOpened:P,snapPoints:f,activeSnapPoint:d,snapPointsOffset:Ze,keyboardIsOpen:K,shouldFade:dt,visible:m,drawerId:de,openDrawerIds:rt},helpers:{getContentStyle:Wt},methods:{closeDrawer:Fe,onOpenChange:c,onPress:Yt,onRelease:Xt,onDrag:qt,scaleBackground:xe,onNestedDrag:Kt,onNestedOpenChange:Jt,onNestedRelease:Gt,restorePositionSetting:jt,openDrawer:zt},refs:{drawerRef:B,overlayRef:w,triggerRef:r},options:i}}function Zn(t){return 8*(Math.log(t+1)-2)}function Le(){return(window.innerWidth-Ht)/window.innerWidth}function Ct(t,e,o){return o.type.startsWith("touch")?eo(t,e,o):xn(t,e,o)}function xn(t,e,o){return t-(W(e)?o.screenY:o.screenX)}function eo(t,e,o){return t-(W(e)?o.changedTouches[0].screenY:o.changedTouches[0].screenX)}function kt(t){return t==="bottom"||t==="right"?1:-1}const Ut=Symbol("VAUL_ROOT");function to(t={}){const e=Qn(t),o=Pn(e.options);return en(Ut,{...e,updateOption:o}),{...e,updateOption:o}}function ut(){return tn(Ut)}function no(t){let e;const o=t[30].default,n=Re(o,t,t[34],null);return{c(){n&&n.c()},l(i){n&&n.l(i)},m(i,r){n&&n.m(i,r),e=!0},p(i,r){n&&n.p&&(!e||r[1]&8)&&Ie(n,o,i,i[34],e?Ne(o,i[34],r,null):Ae(i[34]),null)},i(i){e||(N(n,i),e=!0)},o(i){F(n,i),e=!1},d(i){n&&n.d(i)}}}function oo(t){let e,o,n;const i=[{closeOnOutsideClick:t[3]},{closeOnEscape:!1},{preventScroll:!1},{onOpenChange:t[31]},{onOutsideClick:t[32]},t[13]];function r(s){t[33](s)}let a={$$slots:{default:[no]},$$scope:{ctx:t}};for(let s=0;s<i.length;s+=1)a=M(a,i[s]);return t[0]!==void 0&&(a.open=t[0]),e=new gn({props:a}),Se.push(()=>Ee(e,"open",r)),{c(){j(e.$$.fragment)},l(s){z(e.$$.fragment,s)},m(s,l){Y(e,s,l),n=!0},p(s,l){const c=l[0]&11774?pe(i,[l[0]&8&&{closeOnOutsideClick:s[3]},i[1],i[2],l[0]&3074&&{onOpenChange:s[31]},l[0]&1534&&{onOutsideClick:s[32]},l[0]&8192&&De(s[13])]):{};l[1]&8&&(c.$$scope={dirty:l,ctx:s}),!o&&l[0]&1&&(o=!0,c.open=s[0],ke(()=>o=!1)),e.$set(c)},i(s){n||(N(e.$$.fragment,s),n=!0)},o(s){F(e.$$.fragment,s),n=!1},d(s){q(e,s)}}}function ro(t,e,o){const n=["open","onOpenChange","closeThreshold","scrollLockTimeout","snapPoints","fadeFromIndex","openFocus","onOutsideClick","closeOnOutsideClick","backgroundColor","nested","shouldScaleBackground","activeSnapPoint","onActiveSnapPointChange","onRelease","onDrag","onClose","dismissible","direction"];let i=J(e,n),r,a,s,{$$slots:l={},$$scope:c}=e,{open:f=!1}=e,{onOpenChange:y=void 0}=e,{closeThreshold:S=void 0}=e,{scrollLockTimeout:A=void 0}=e,{snapPoints:I=void 0}=e,{fadeFromIndex:C=void 0}=e,{openFocus:U=void 0}=e,{onOutsideClick:b=void 0}=e,{closeOnOutsideClick:h=!0}=e,{backgroundColor:_="black"}=e,{nested:R=!1}=e,{shouldScaleBackground:T=!1}=e,{activeSnapPoint:P=void 0}=e,{onActiveSnapPointChange:m=void 0}=e,{onRelease:O=void 0}=e,{onDrag:w=void 0}=e,{onClose:V=void 0}=e,{dismissible:K=void 0}=e,{direction:B="bottom"}=e;const{states:{keyboardIsOpen:de,activeSnapPoint:he,drawerId:ue,openDrawerIds:me,isOpen:be},methods:{closeDrawer:X,openDrawer:ee},options:{dismissible:_e},updateOption:ne}=to({defaultOpen:f,defaultActiveSnapPoint:P,onOpenChange:({next:d})=>(f!==d&&(y==null||y(d),o(0,f=d)),d),onActiveSnapPointChange:({next:d})=>{if(d===void 0&&I&&P!==d){const ge=I[0];return m==null||m(ge),o(14,P=ge),ge}return P!==d&&(m==null||m(d),o(14,P=d)),d},closeThreshold:S,scrollLockTimeout:A,snapPoints:I,fadeFromIndex:C,nested:R,onDrag:w,onClose:V,onRelease:O,shouldScaleBackground:T,backgroundColor:_,dismissible:K,direction:B});x(t,de,d=>o(4,a=d)),x(t,be,d=>o(29,r=d)),x(t,_e,d=>o(5,s=d));const We=d=>{y==null||y(d),d?d&&ee():X()},Me=d=>{if(!h||(b==null||b(d),d!=null&&d.defaultPrevented)||(a&&de.set(!1),d.preventDefault(),!s))return;const ge=u(me);ge[ge.length-1]===u(ue)&&(y==null||y(!1),X())};function Be(d){f=d,o(0,f)}return t.$$set=d=>{e=M(M({},e),fe(d)),o(13,i=J(e,n)),"open"in d&&o(0,f=d.open),"onOpenChange"in d&&o(1,y=d.onOpenChange),"closeThreshold"in d&&o(15,S=d.closeThreshold),"scrollLockTimeout"in d&&o(16,A=d.scrollLockTimeout),"snapPoints"in d&&o(17,I=d.snapPoints),"fadeFromIndex"in d&&o(18,C=d.fadeFromIndex),"openFocus"in d&&o(19,U=d.openFocus),"onOutsideClick"in d&&o(2,b=d.onOutsideClick),"closeOnOutsideClick"in d&&o(3,h=d.closeOnOutsideClick),"backgroundColor"in d&&o(20,_=d.backgroundColor),"nested"in d&&o(21,R=d.nested),"shouldScaleBackground"in d&&o(22,T=d.shouldScaleBackground),"activeSnapPoint"in d&&o(14,P=d.activeSnapPoint),"onActiveSnapPointChange"in d&&o(23,m=d.onActiveSnapPointChange),"onRelease"in d&&o(24,O=d.onRelease),"onDrag"in d&&o(25,w=d.onDrag),"onClose"in d&&o(26,V=d.onClose),"dismissible"in d&&o(27,K=d.dismissible),"direction"in d&&o(28,B=d.direction),"$$scope"in d&&o(34,c=d.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&16384&&P!==void 0&&he.set(P),t.$$.dirty[0]&32768&&ne("closeThreshold",S),t.$$.dirty[0]&65536&&ne("scrollLockTimeout",A),t.$$.dirty[0]&131072&&ne("snapPoints",I),t.$$.dirty[0]&262144&&ne("fadeFromIndex",C),t.$$.dirty[0]&524288&&ne("openFocus",U),t.$$.dirty[0]&4194304&&ne("shouldScaleBackground",T),t.$$.dirty[0]&1048576&&ne("backgroundColor",_),t.$$.dirty[0]&134217728&&ne("dismissible",K),t.$$.dirty[0]&268435456&&ne("direction",B),t.$$.dirty[0]&536870913&&f&&!r&&ee(),t.$$.dirty[0]&536870913&&!f&&r&&X()},[f,y,b,h,a,s,de,ue,me,be,X,ee,_e,i,P,S,A,I,C,U,_,R,T,m,O,w,V,K,B,r,l,We,Me,Be,c]}class io extends le{constructor(e){super(),ce(this,e,ro,oo,ie,{open:0,onOpenChange:1,closeThreshold:15,scrollLockTimeout:16,snapPoints:17,fadeFromIndex:18,openFocus:19,onOutsideClick:2,closeOnOutsideClick:3,backgroundColor:20,nested:21,shouldScaleBackground:22,activeSnapPoint:14,onActiveSnapPointChange:23,onRelease:24,onDrag:25,onClose:26,dismissible:27,direction:28},null,[-1,-1])}}function so(t){const{states:{visible:e},methods:{scaleBackground:o,restorePositionSetting:n}}=ut();return It(()=>(e.set(!0),()=>{o(!1),n()})),[]}class ao extends le{constructor(e){super(),ce(this,e,so,null,ie,{})}}function lo(t){let e,o,n;e=new ao({});const i=t[13].default,r=Re(i,t,t[20],null);return{c(){j(e.$$.fragment),o=Ve(),r&&r.c()},l(a){z(e.$$.fragment,a),o=$e(a),r&&r.l(a)},m(a,s){Y(e,a,s),re(a,o,s),r&&r.m(a,s),n=!0},p(a,s){r&&r.p&&(!n||s&1048576)&&Ie(r,i,a,a[20],n?Ne(i,a[20],s,null):Ae(a[20]),null)},i(a){n||(N(e.$$.fragment,a),N(r,a),n=!0)},o(a){F(e.$$.fragment,a),F(r,a),n=!1},d(a){a&&Z(o),q(e,a),r&&r.d(a)}}}function co(t){let e,o,n;const i=[{style:t[2](t[0])},{"data-vaul-drawer":""},{"data-vaul-drawer-direction":t[3]},{"data-vaul-drawer-visible":t[4]?"true":"false"},t[12]];function r(s){t[14](s)}let a={$$slots:{default:[lo]},$$scope:{ctx:t}};for(let s=0;s<i.length;s+=1)a=M(a,i[s]);return t[1]!==void 0&&(a.el=t[1]),e=new pn({props:a}),Se.push(()=>Ee(e,"el",r)),e.$on("pointerdown",t[15]),e.$on("pointerup",t[16]),e.$on("pointermove",t[17]),e.$on("touchend",t[18]),e.$on("touchmove",t[19]),{c(){j(e.$$.fragment)},l(s){z(e.$$.fragment,s)},m(s,l){Y(e,s,l),n=!0},p(s,[l]){const c=l&4125?pe(i,[l&5&&{style:s[2](s[0])},i[1],l&8&&{"data-vaul-drawer-direction":s[3]},l&16&&{"data-vaul-drawer-visible":s[4]?"true":"false"},l&4096&&De(s[12])]):{};l&1048576&&(c.$$scope={dirty:l,ctx:s}),!o&&l&2&&(o=!0,c.el=s[1],ke(()=>o=!1)),e.$set(c)},i(s){n||(N(e.$$.fragment,s),n=!0)},o(s){F(e.$$.fragment,s),n=!1},d(s){q(e,s)}}}function uo(t,e,o){const n=["style"];let i=J(e,n),r,a,s,l,{$$slots:c={},$$scope:f}=e;const{refs:{drawerRef:y},states:{visible:S},helpers:{getContentStyle:A},methods:{onPress:I,onDrag:C,onRelease:U},options:{direction:b}}=ut();x(t,y,w=>o(1,r=w)),x(t,S,w=>o(4,l=w)),x(t,A,w=>o(2,a=w)),x(t,b,w=>o(3,s=w));let{style:h=""}=e;function _(w){r=w,y.set(r)}const R=w=>{I(w)},T=w=>{U(w)},P=w=>{C(w)},m=w=>{U(w)},O=w=>{C(w)};return t.$$set=w=>{e=M(M({},e),fe(w)),o(12,i=J(e,n)),"style"in w&&o(0,h=w.style),"$$scope"in w&&o(20,f=w.$$scope)},[h,r,a,s,l,y,S,A,I,C,U,b,i,c,_,R,T,P,m,O,f]}class fo extends le{constructor(e){super(),ce(this,e,uo,co,ie,{style:0})}}function mo(t){let e,o,n;const i=[{"data-vaul-drawer-visible":t[2]?"true":"false"},{"data-vaul-overlay":""},{"data-vaul-snap-points":t[3]&&t[0]?"true":"false"},{"data-vaul-snap-points-overlay":t[3]&&t[4]?"true":"false"},t[11]];function r(s){t[13](s)}let a={};for(let s=0;s<i.length;s+=1)a=M(a,i[s]);return t[1]!==void 0&&(a.el=t[1]),e=new hn({props:a}),Se.push(()=>Ee(e,"el",r)),e.$on("mouseup",t[10]),{c(){j(e.$$.fragment)},l(s){z(e.$$.fragment,s)},m(s,l){Y(e,s,l),n=!0},p(s,[l]){const c=l&2077?pe(i,[l&4&&{"data-vaul-drawer-visible":s[2]?"true":"false"},i[1],l&9&&{"data-vaul-snap-points":s[3]&&s[0]?"true":"false"},l&24&&{"data-vaul-snap-points-overlay":s[3]&&s[4]?"true":"false"},l&2048&&De(s[11])]):{};!o&&l&2&&(o=!0,c.el=s[1],ke(()=>o=!1)),e.$set(c)},i(s){n||(N(e.$$.fragment,s),n=!0)},o(s){F(e.$$.fragment,s),n=!1},d(s){q(e,s)}}}function go(t,e,o){let n;const i=[];let r=J(e,i),a,s,l,c,f;const{refs:{overlayRef:y},states:{isOpen:S,visible:A,snapPoints:I,shouldFade:C},methods:{onRelease:U}}=ut();x(t,y,h=>o(1,s=h)),x(t,S,h=>o(3,c=h)),x(t,A,h=>o(2,l=h)),x(t,I,h=>o(12,a=h)),x(t,C,h=>o(4,f=h));function b(h){s=h,y.set(s)}return t.$$set=h=>{e=M(M({},e),fe(h)),o(11,r=J(e,i))},t.$$.update=()=>{t.$$.dirty&4096&&o(0,n=a&&a.length>0)},[n,s,l,c,f,y,S,A,I,C,U,r,a,b]}class po extends le{constructor(e){super(),ce(this,e,go,mo,ie,{})}}const ho=bn,bo=fn;function _o(t){let e;const o=t[4].default,n=Re(o,t,t[7],null);return{c(){n&&n.c()},l(i){n&&n.l(i)},m(i,r){n&&n.m(i,r),e=!0},p(i,r){n&&n.p&&(!e||r&128)&&Ie(n,o,i,i[7],e?Ne(o,i[7],r,null):Ae(i[7]),null)},i(i){e||(N(n,i),e=!0)},o(i){F(n,i),e=!1},d(i){n&&n.d(i)}}}function wo(t){let e,o,n,i;const r=[{shouldScaleBackground:t[2]},t[3]];function a(c){t[5](c)}function s(c){t[6](c)}let l={$$slots:{default:[_o]},$$scope:{ctx:t}};for(let c=0;c<r.length;c+=1)l=M(l,r[c]);return t[0]!==void 0&&(l.open=t[0]),t[1]!==void 0&&(l.activeSnapPoint=t[1]),e=new io({props:l}),Se.push(()=>Ee(e,"open",a)),Se.push(()=>Ee(e,"activeSnapPoint",s)),{c(){j(e.$$.fragment)},l(c){z(e.$$.fragment,c)},m(c,f){Y(e,c,f),i=!0},p(c,[f]){const y=f&12?pe(r,[f&4&&{shouldScaleBackground:c[2]},f&8&&De(c[3])]):{};f&128&&(y.$$scope={dirty:f,ctx:c}),!o&&f&1&&(o=!0,y.open=c[0],ke(()=>o=!1)),!n&&f&2&&(n=!0,y.activeSnapPoint=c[1],ke(()=>n=!1)),e.$set(y)},i(c){i||(N(e.$$.fragment,c),i=!0)},o(c){F(e.$$.fragment,c),i=!1},d(c){q(e,c)}}}function vo(t,e,o){const n=["shouldScaleBackground","open","activeSnapPoint"];let i=J(e,n),{$$slots:r={},$$scope:a}=e,{shouldScaleBackground:s=!0}=e,{open:l=!1}=e,{activeSnapPoint:c=void 0}=e;function f(S){l=S,o(0,l)}function y(S){c=S,o(1,c)}return t.$$set=S=>{e=M(M({},e),fe(S)),o(3,i=J(e,n)),"shouldScaleBackground"in S&&o(2,s=S.shouldScaleBackground),"open"in S&&o(0,l=S.open),"activeSnapPoint"in S&&o(1,c=S.activeSnapPoint),"$$scope"in S&&o(7,a=S.$$scope)},[l,c,s,i,r,f,y,a]}class yo extends le{constructor(e){super(),ce(this,e,vo,wo,ie,{shouldScaleBackground:2,open:0,activeSnapPoint:1})}}function So(t){let e,o,n;const i=[{class:Te("fixed inset-0 z-50 bg-black/80",t[1])},t[2]];function r(s){t[3](s)}let a={};for(let s=0;s<i.length;s+=1)a=M(a,i[s]);return t[0]!==void 0&&(a.el=t[0]),e=new po({props:a}),Se.push(()=>Ee(e,"el",r)),{c(){j(e.$$.fragment)},l(s){z(e.$$.fragment,s)},m(s,l){Y(e,s,l),n=!0},p(s,[l]){const c=l&6?pe(i,[l&2&&{class:Te("fixed inset-0 z-50 bg-black/80",s[1])},l&4&&De(s[2])]):{};!o&&l&1&&(o=!0,c.el=s[0],ke(()=>o=!1)),e.$set(c)},i(s){n||(N(e.$$.fragment,s),n=!0)},o(s){F(e.$$.fragment,s),n=!1},d(s){q(e,s)}}}function To(t,e,o){const n=["el","class"];let i=J(e,n),{el:r=void 0}=e,{class:a=void 0}=e;function s(l){r=l,o(0,r)}return t.$$set=l=>{e=M(M({},e),fe(l)),o(2,i=J(e,n)),"el"in l&&o(0,r=l.el),"class"in l&&o(1,a=l.class)},[r,a,i,s]}class Do extends le{constructor(e){super(),ce(this,e,To,So,ie,{el:0,class:1})}}function Po(t){let e,o,n;const i=t[2].default,r=Re(i,t,t[3],null);return{c(){e=st("div"),o=Ve(),r&&r.c(),this.h()},l(a){e=at(a,"DIV",{tabindex:!0,role:!0,class:!0}),lt(e).forEach(Z),o=$e(a),r&&r.l(a),this.h()},h(){qe(e,"tabindex","0"),qe(e,"role","button"),qe(e,"class","mx-auto mt-4 h-2 w-[100px] cursor-grab rounded-full bg-muted active:cursor-grabbing")},m(a,s){re(a,e,s),re(a,o,s),r&&r.m(a,s),n=!0},p(a,s){r&&r.p&&(!n||s&8)&&Ie(r,i,a,a[3],n?Ne(i,a[3],s,null):Ae(a[3]),null)},i(a){n||(N(r,a),n=!0)},o(a){F(r,a),n=!1},d(a){a&&(Z(e),Z(o)),r&&r.d(a)}}}function Oo(t){let e,o,n,i;e=new Do({});const r=[{class:Te("fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background",t[0])},t[1]];let a={$$slots:{default:[Po]},$$scope:{ctx:t}};for(let s=0;s<r.length;s+=1)a=M(a,r[s]);return n=new fo({props:a}),{c(){j(e.$$.fragment),o=Ve(),j(n.$$.fragment)},l(s){z(e.$$.fragment,s),o=$e(s),z(n.$$.fragment,s)},m(s,l){Y(e,s,l),re(s,o,l),Y(n,s,l),i=!0},p(s,l){const c=l&3?pe(r,[l&1&&{class:Te("fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background",s[0])},l&2&&De(s[1])]):{};l&8&&(c.$$scope={dirty:l,ctx:s}),n.$set(c)},i(s){i||(N(e.$$.fragment,s),N(n.$$.fragment,s),i=!0)},o(s){F(e.$$.fragment,s),F(n.$$.fragment,s),i=!1},d(s){s&&Z(o),q(e,s),q(n,s)}}}function Co(t){let e,o;return e=new ho({props:{$$slots:{default:[Oo]},$$scope:{ctx:t}}}),{c(){j(e.$$.fragment)},l(n){z(e.$$.fragment,n)},m(n,i){Y(e,n,i),o=!0},p(n,[i]){const r={};i&11&&(r.$$scope={dirty:i,ctx:n}),e.$set(r)},i(n){o||(N(e.$$.fragment,n),o=!0)},o(n){F(e.$$.fragment,n),o=!1},d(n){q(e,n)}}}function ko(t,e,o){const n=["class"];let i=J(e,n),{$$slots:r={},$$scope:a}=e,{class:s=void 0}=e;return t.$$set=l=>{e=M(M({},e),fe(l)),o(1,i=J(e,n)),"class"in l&&o(0,s=l.class),"$$scope"in l&&o(3,a=l.$$scope)},[s,i,r,a]}class Eo extends le{constructor(e){super(),ce(this,e,ko,Co,ie,{class:0})}}function Ro(t){let e,o,n;const i=t[4].default,r=Re(i,t,t[3],null);let a=[{class:o=Te("grid gap-1.5 p-4 text-center sm:text-left",t[1])},t[2]],s={};for(let l=0;l<a.length;l+=1)s=M(s,a[l]);return{c(){e=st("div"),r&&r.c(),this.h()},l(l){e=at(l,"DIV",{class:!0});var c=lt(e);r&&r.l(c),c.forEach(Z),this.h()},h(){_t(e,s)},m(l,c){re(l,e,c),r&&r.m(e,null),t[5](e),n=!0},p(l,[c]){r&&r.p&&(!n||c&8)&&Ie(r,i,l,l[3],n?Ne(i,l[3],c,null):Ae(l[3]),null),_t(e,s=pe(a,[(!n||c&2&&o!==(o=Te("grid gap-1.5 p-4 text-center sm:text-left",l[1])))&&{class:o},c&4&&l[2]]))},i(l){n||(N(r,l),n=!0)},o(l){F(r,l),n=!1},d(l){l&&Z(e),r&&r.d(l),t[5](null)}}}function Io(t,e,o){const n=["el","class"];let i=J(e,n),{$$slots:r={},$$scope:a}=e,{el:s=void 0}=e,{class:l=void 0}=e;function c(f){Se[f?"unshift":"push"](()=>{s=f,o(0,s)})}return t.$$set=f=>{e=M(M({},e),fe(f)),o(2,i=J(e,n)),"el"in f&&o(0,s=f.el),"class"in f&&o(1,l=f.class),"$$scope"in f&&o(3,a=f.$$scope)},[s,l,i,a,r,c]}class Ao extends le{constructor(e){super(),ce(this,e,Io,Ro,ie,{el:0,class:1})}}function No(t){let e;const o=t[3].default,n=Re(o,t,t[5],null);return{c(){n&&n.c()},l(i){n&&n.l(i)},m(i,r){n&&n.m(i,r),e=!0},p(i,r){n&&n.p&&(!e||r&32)&&Ie(n,o,i,i[5],e?Ne(o,i[5],r,null):Ae(i[5]),null)},i(i){e||(N(n,i),e=!0)},o(i){F(n,i),e=!1},d(i){n&&n.d(i)}}}function Fo(t){let e,o,n;const i=[{class:Te("text-lg font-semibold leading-none tracking-tight",t[1])},t[2]];function r(s){t[4](s)}let a={$$slots:{default:[No]},$$scope:{ctx:t}};for(let s=0;s<i.length;s+=1)a=M(a,i[s]);return t[0]!==void 0&&(a.el=t[0]),e=new bo({props:a}),Se.push(()=>Ee(e,"el",r)),{c(){j(e.$$.fragment)},l(s){z(e.$$.fragment,s)},m(s,l){Y(e,s,l),n=!0},p(s,[l]){const c=l&6?pe(i,[l&2&&{class:Te("text-lg font-semibold leading-none tracking-tight",s[1])},l&4&&De(s[2])]):{};l&32&&(c.$$scope={dirty:l,ctx:s}),!o&&l&1&&(o=!0,c.el=s[0],ke(()=>o=!1)),e.$set(c)},i(s){n||(N(e.$$.fragment,s),n=!0)},o(s){F(e.$$.fragment,s),n=!1},d(s){q(e,s)}}}function Lo(t,e,o){const n=["el","class"];let i=J(e,n),{$$slots:r={},$$scope:a}=e,{el:s=void 0}=e,{class:l=void 0}=e;function c(f){s=f,o(0,s)}return t.$$set=f=>{e=M(M({},e),fe(f)),o(2,i=J(e,n)),"el"in f&&o(0,s=f.el),"class"in f&&o(1,l=f.class),"$$scope"in f&&o(5,a=f.$$scope)},[s,l,i,r,c,a]}class Mo extends le{constructor(e){super(),ce(this,e,Lo,Fo,ie,{el:0,class:1})}}function Bo(t){let e,o,n;return e=new Sn({props:{class:"mr-2 h-4 w-4"}}),{c(){j(e.$$.fragment),o=Xe(`
			New record`)},l(i){z(e.$$.fragment,i),o=Je(i,`
			New record`)},m(i,r){Y(e,i,r),re(i,o,r),n=!0},p:At,i(i){n||(N(e.$$.fragment,i),n=!0)},o(i){F(e.$$.fragment,i),n=!1},d(i){i&&Z(o),q(e,i)}}}function Ho(t){let e,o;return e=new Qt({props:{slot:"action",class:"mt-6 self-end sm:mt-0",variant:"default",$$slots:{default:[Bo]},$$scope:{ctx:t}}}),e.$on("click",t[10]),{c(){j(e.$$.fragment)},l(n){z(e.$$.fragment,n)},m(n,i){Y(e,n,i),o=!0},p(n,i){const r={};i&1048576&&(r.$$scope={dirty:i,ctx:n}),e.$set(r)},i(n){o||(N(e.$$.fragment,n),o=!0)},o(n){F(e.$$.fragment,n),o=!1},d(n){q(e,n)}}}function Uo(t){let e,o,n,i;return{c(){e=Xe("Editing "),o=st("span"),n=Xe(t[5]),i=Xe(" record"),this.h()},l(r){e=Je(r,"Editing "),o=at(r,"SPAN",{class:!0});var a=lt(o);n=Je(a,t[5]),a.forEach(Z),i=Je(r," record"),this.h()},h(){qe(o,"class","font-bold")},m(r,a){re(r,e,a),re(r,o,a),nn(o,n),re(r,i,a)},p(r,a){a&32&&on(n,r[5])},d(r){r&&(Z(e),Z(o),Z(i))}}}function Vo(t){let e,o;return e=new Mo({props:{class:"font-normal",$$slots:{default:[Uo]},$$scope:{ctx:t}}}),{c(){j(e.$$.fragment)},l(n){z(e.$$.fragment,n)},m(n,i){Y(e,n,i),o=!0},p(n,i){const r={};i&1048608&&(r.$$scope={dirty:i,ctx:n}),e.$set(r)},i(n){o||(N(e.$$.fragment,n),o=!0)},o(n){F(e.$$.fragment,n),o=!1},d(n){q(e,n)}}}function $o(t){let e,o,n,i;return e=new Ao({props:{$$slots:{default:[Vo]},$$scope:{ctx:t}}}),n=new dn({props:{destroyCallback:t[12],class:"mt-[15px] h-full pt-5",data:{...JSON.parse(JSON.stringify(t[1].state.recordPageData))},cancelCallback:t[12]}}),{c(){j(e.$$.fragment),o=Ve(),j(n.$$.fragment)},l(r){z(e.$$.fragment,r),o=$e(r),z(n.$$.fragment,r)},m(r,a){Y(e,r,a),re(r,o,a),Y(n,r,a),i=!0},p(r,a){const s={};a&1048608&&(s.$$scope={dirty:a,ctx:r}),e.$set(s);const l={};a&2&&(l.data={...JSON.parse(JSON.stringify(r[1].state.recordPageData))}),n.$set(l)},i(r){i||(N(e.$$.fragment,r),N(n.$$.fragment,r),i=!0)},o(r){F(e.$$.fragment,r),F(n.$$.fragment,r),i=!1},d(r){r&&Z(o),q(e,r),q(n,r)}}}function Wo(t){let e,o;return e=new Eo({props:{class:"max-h-[95vh] min-h-[95vh]",$$slots:{default:[$o]},$$scope:{ctx:t}}}),{c(){j(e.$$.fragment)},l(n){z(e.$$.fragment,n)},m(n,i){Y(e,n,i),o=!0},p(n,i){const r={};i&1048610&&(r.$$scope={dirty:i,ctx:n}),e.$set(r)},i(n){o||(N(e.$$.fragment,n),o=!0)},o(n){F(e.$$.fragment,n),o=!1},d(n){q(e,n)}}}function Et(t){let e,o,n,i;return e=new an({props:{filterPlaceholder:"Filter records on the current page",title:t[5],schema:t[6],data:t[4],description:`All available records for ${t[5]}`,rowClickCallback:t[11],pagination:t[3],onPageChange:t[13],loading:t[2],hiddenColumns:t[7],$$slots:{action:[Ho]},$$scope:{ctx:t}}}),e.$on("dataUpdate",t[15]),e.$on("columnVisibilityChange",t[16]),n=new yo({props:{shouldScaleBackground:!0,open:!!t[1].state.recordPageData,onClose:t[12],backgroundColor:"black",$$slots:{default:[Wo]},$$scope:{ctx:t}}}),{c(){j(e.$$.fragment),o=Ve(),j(n.$$.fragment)},l(r){z(e.$$.fragment,r),o=$e(r),z(n.$$.fragment,r)},m(r,a){Y(e,r,a),re(r,o,a),Y(n,r,a),i=!0},p(r,a){const s={};a&32&&(s.title=r[5]),a&64&&(s.schema=r[6]),a&16&&(s.data=r[4]),a&32&&(s.description=`All available records for ${r[5]}`),a&8&&(s.pagination=r[3]),a&4&&(s.loading=r[2]),a&128&&(s.hiddenColumns=r[7]),a&1048576&&(s.$$scope={dirty:a,ctx:r}),e.$set(s);const l={};a&2&&(l.open=!!r[1].state.recordPageData),a&1048610&&(l.$$scope={dirty:a,ctx:r}),n.$set(l)},i(r){i||(N(e.$$.fragment,r),N(n.$$.fragment,r),i=!0)},o(r){F(e.$$.fragment,r),F(n.$$.fragment,r),i=!1},d(r){r&&Z(o),q(e,r),q(n,r)}}}function jo(t){let e=t[0],o,n,i=Et(t);return{c(){i.c(),o=wt()},l(r){i.l(r),o=wt()},m(r,a){i.m(r,a),re(r,o,a),n=!0},p(r,[a]){a&1&&ie(e,e=r[0])?(sn(),F(i,1,1,At),rn(),i=Et(r),i.c(),N(i,1),i.m(o.parentNode,o)):i.p(r,a)},i(r){n||(N(i),n=!0)},o(r){F(i),n=!1},d(r){r&&Z(o),i.d(r)}}}function zo(t,e,o){let n,i,r,a,s,l,c,f;x(t,mn,m=>o(1,c=m));let{data:y}=e;const S=Q([]);x(t,S,m=>o(7,f=m));let A=!1;const I=async m=>{const O=await Rt.collection(r).getList(m,a.perPage,{expand:s,sort:"-created"});o(0,n=O),o(4,l=O.items),o(3,a={...a,page:m,totalPages:Math.ceil(O.totalItems/a.perPage),totalItems:O.totalItems})},C=m=>{o(0,n={...n,items:m})},U=async m=>{var V;const O=`${c.url.pathname}${m}`,w=await ln(O);w.type==="loaded"&&w.status===200?((V=w.data)==null||delete V.menu,vt(O,{recordPageData:w.data})):cn(O)},b=()=>U("newRecord"),h=async(m,O)=>{var V;if(m.target.nodeName!=="TD"||!((V=m.target.closest("td"))!=null&&V.contains(m.target))){m.preventDefault(),m.stopPropagation();return}await U(O.id)},_=()=>{c.state.recordPageData&&setTimeout(()=>window.history.back(),200)},R=async m=>{o(2,A=!0);try{await I(m);const O=new URL(window.location.href);O.searchParams.set("page",m.toString()),vt(O.toString(),{hiddenColumns:f}),o(0,n={...n})}catch(O){console.error("Error fetching page",O)}finally{o(2,A=!1)}},T=({detail:m})=>C(m),P=({detail:m})=>S.set(m);return t.$$set=m=>{"data"in m&&o(14,y=m.data)},t.$$.update=()=>{t.$$.dirty&16384&&o(0,{collection:n,schema:i,title:r,pagination:a,relationsToExpand:s}=y,n,(o(6,i),o(14,y)),(o(5,r),o(14,y)),(o(3,a),o(14,y))),t.$$.dirty&1&&o(4,l=(n==null?void 0:n.items)??[]),t.$$.dirty&2&&c.state.hiddenColumns&&Array.isArray(c.state.hiddenColumns)&&S.set(c.state.hiddenColumns)},[n,c,A,a,l,r,i,f,S,C,b,h,_,R,y,T,P]}class ir extends le{constructor(e){super(),ce(this,e,zo,jo,ie,{data:14})}}export{ir as component,rr as universal};
