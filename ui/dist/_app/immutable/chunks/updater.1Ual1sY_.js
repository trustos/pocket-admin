import{s as Ae,F as Ze,r as X,a5 as Re,o as Y,a6 as Le,b as _e,f as q,a7 as H,i as ce,h as Je,H as Qe,I as $e,J as et,p as tt,A as me,B as pe,L as Be}from"./scheduler.Ch08FvRr.js";import{S as rt,i as nt,t as at,b as it}from"./index.BhaZ9Ew-.js";import{e as ge}from"./each.BdZxddNF.js";import{g as Me,w as Ke,n as G,i as Z,x as ot,y as fe,e as ye,z as A}from"./events.3g1COGhw.js";import{b as z}from"./entry.R3-HADBB.js";import{n as st}from"./index.CMiQGNHB.js";import{w as ue,r as we}from"./index.DVwkszYu.js";/**
 * @license lucide-svelte v0.438.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Te={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};function Ne(r,e,t){const n=r.slice();return n[11]=e[t][0],n[12]=e[t][1],n}function ae(r){let e,t=[r[12]],n={};for(let a=0;a<t.length;a+=1)n=X(n,t[a]);return{c(){e=Re(r[11]),this.h()},l(a){e=Le(a,r[11],{}),_e(e).forEach(q),this.h()},h(){H(e,n)},m(a,o){ce(a,e,o)},p(a,o){H(e,n=Me(t,[o&32&&a[12]]))},d(a){a&&q(e)}}}function Se(r){let e=r[11],t,n=r[11]&&ae(r);return{c(){n&&n.c(),t=Y()},l(a){n&&n.l(a),t=Y()},m(a,o){n&&n.m(a,o),ce(a,t,o)},p(a,o){a[11]?e?Ae(e,a[11])?(n.d(1),n=ae(a),e=a[11],n.c(),n.m(t.parentNode,t)):n.p(a,o):(n=ae(a),e=a[11],n.c(),n.m(t.parentNode,t)):e&&(n.d(1),n=null,e=a[11])},d(a){a&&q(t),n&&n.d(a)}}}function ut(r){let e,t,n,a,o,i=ge(r[5]),f=[];for(let l=0;l<i.length;l+=1)f[l]=Se(Ne(r,i,l));const b=r[10].default,v=Ze(b,r,r[9],null);let p=[Te,r[7],{width:r[2]},{height:r[2]},{stroke:r[1]},{"stroke-width":n=r[4]?Number(r[3])*24/Number(r[2]):r[3]},{class:a=r[6]("lucide-icon","lucide",r[0]?`lucide-${r[0]}`:"",r[8].class)}],h={};for(let l=0;l<p.length;l+=1)h=X(h,p[l]);return{c(){e=Re("svg");for(let l=0;l<f.length;l+=1)f[l].c();t=Y(),v&&v.c(),this.h()},l(l){e=Le(l,"svg",{width:!0,height:!0,stroke:!0,"stroke-width":!0,class:!0});var m=_e(e);for(let c=0;c<f.length;c+=1)f[c].l(m);t=Y(),v&&v.l(m),m.forEach(q),this.h()},h(){H(e,h)},m(l,m){ce(l,e,m);for(let c=0;c<f.length;c+=1)f[c]&&f[c].m(e,null);Je(e,t),v&&v.m(e,null),o=!0},p(l,[m]){if(m&32){i=ge(l[5]);let c;for(c=0;c<i.length;c+=1){const T=Ne(l,i,c);f[c]?f[c].p(T,m):(f[c]=Se(T),f[c].c(),f[c].m(e,t))}for(;c<f.length;c+=1)f[c].d(1);f.length=i.length}v&&v.p&&(!o||m&512)&&Qe(v,b,l,l[9],o?et(b,l[9],m,null):$e(l[9]),null),H(e,h=Me(p,[Te,m&128&&l[7],(!o||m&4)&&{width:l[2]},(!o||m&4)&&{height:l[2]},(!o||m&2)&&{stroke:l[1]},(!o||m&28&&n!==(n=l[4]?Number(l[3])*24/Number(l[2]):l[3]))&&{"stroke-width":n},(!o||m&257&&a!==(a=l[6]("lucide-icon","lucide",l[0]?`lucide-${l[0]}`:"",l[8].class)))&&{class:a}]))},i(l){o||(at(v,l),o=!0)},o(l){it(v,l),o=!1},d(l){l&&q(e),tt(f,l),v&&v.d(l)}}}function lt(r,e,t){const n=["name","color","size","strokeWidth","absoluteStrokeWidth","iconNode"];let a=me(e,n),{$$slots:o={},$$scope:i}=e,{name:f=void 0}=e,{color:b="currentColor"}=e,{size:v=24}=e,{strokeWidth:p=2}=e,{absoluteStrokeWidth:h=!1}=e,{iconNode:l=[]}=e;const m=(...c)=>c.filter((T,P,E)=>!!T&&E.indexOf(T)===P).join(" ");return r.$$set=c=>{t(8,e=X(X({},e),pe(c))),t(7,a=me(e,n)),"name"in c&&t(0,f=c.name),"color"in c&&t(1,b=c.color),"size"in c&&t(2,v=c.size),"strokeWidth"in c&&t(3,p=c.strokeWidth),"absoluteStrokeWidth"in c&&t(4,h=c.absoluteStrokeWidth),"iconNode"in c&&t(5,l=c.iconNode),"$$scope"in c&&t(9,i=c.$$scope)},e=pe(e),[f,b,v,p,h,l,m,a,e,i,o]}class tr extends rt{constructor(e){super(),nt(this,e,lt,ut,Ae,{name:0,color:1,size:2,strokeWidth:3,absoluteStrokeWidth:4,iconNode:5})}}const ie=r=>r.replace(/\/$/,""),rr=(r,e)=>{const t=ie(r),n=e.includes(z)?ie(e):ie(`${z}${e}`);return n==z?t==z:t.includes(n)},nr=r=>r[0].toUpperCase()+r.slice(1);function ct(r){return r[r.length-1]}function ar(r,e){return r.map((t,n)=>r[(e+n)%r.length])}const ir=(r,e)=>{const t=Ke(r),n=(o,i)=>{t.update(f=>{const b=o(f);let v=b;return e&&(v=e({curr:f,next:b})),i==null||i(v),v})};return{...t,update:n,set:o=>{n(()=>o)}}};function je(r){return new Promise(e=>setTimeout(e,r))}function ft(){return st(10)}function or(r){return r.reduce((e,t)=>(e[t]=ft(),e),{})}const We=()=>typeof window<"u";function dt(){const r=navigator.userAgentData;return(r==null?void 0:r.platform)??navigator.platform}const Ue=r=>We()&&r.test(dt().toLowerCase()),vt=()=>We()&&!!navigator.maxTouchPoints,bt=()=>Ue(/^mac/)&&!vt(),ht=()=>Ue(/mac|iphone|ipad|ipod/i),mt=()=>ht()&&!bt(),oe="data-melt-scroll-lock";function Ee(r,e){if(!r)return;const t=r.style.cssText;return Object.assign(r.style,e),()=>{r.style.cssText=t}}function pt(r,e,t){if(!r)return;const n=r.style.getPropertyValue(e);return r.style.setProperty(e,t),()=>{n?r.style.setProperty(e,n):r.style.removeProperty(e)}}function gt(r){const e=r.getBoundingClientRect().left;return Math.round(e)+r.scrollLeft?"paddingLeft":"paddingRight"}function sr(r){const e=document,t=e.defaultView??window,{documentElement:n,body:a}=e;if(a.hasAttribute(oe))return G;a.setAttribute(oe,"");const i=t.innerWidth-n.clientWidth,f=()=>pt(n,"--scrollbar-width",`${i}px`),b=gt(n),v=t.getComputedStyle(a)[b],p=()=>Ee(a,{overflow:"hidden",[b]:`calc(${v} + ${i}px)`}),h=()=>{const{scrollX:m,scrollY:c,visualViewport:T}=t,P=(T==null?void 0:T.offsetLeft)??0,E=(T==null?void 0:T.offsetTop)??0,D=Ee(a,{position:"fixed",overflow:"hidden",top:`${-(c-Math.floor(E))}px`,left:`${-(m-Math.floor(P))}px`,right:"0",[b]:`calc(${v} + ${i}px)`});return()=>{D==null||D(),t.scrollTo(m,c)}},l=[f(),mt()?h():p()];return()=>{l.forEach(m=>m==null?void 0:m()),a.removeAttribute(oe)}}function ur(r){const e={};return Object.keys(r).forEach(t=>{const n=t,a=r[n];e[n]=Ke(ue(a))}),e}function yt(r){let e=r.parentElement;for(;Z(e)&&!e.hasAttribute("data-portal");)e=e.parentElement;return e||"body"}function lr(r,e){return e!==void 0?e:yt(r)==="body"?document.body:null}async function cr(r){const{prop:e,defaultEl:t}=r;if(await Promise.all([je(1),Be]),e===void 0){t==null||t.focus();return}const n=ot(e)?e(t):e;if(typeof n=="string"){const a=document.querySelector(n);if(!Z(a))return;a.focus()}else Z(n)&&n.focus()}/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var qe=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],J=qe.join(","),Ge=typeof Element>"u",L=Ge?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,Q=!Ge&&Element.prototype.getRootNode?function(r){var e;return r==null||(e=r.getRootNode)===null||e===void 0?void 0:e.call(r)}:function(r){return r==null?void 0:r.ownerDocument},$=function r(e,t){var n;t===void 0&&(t=!0);var a=e==null||(n=e.getAttribute)===null||n===void 0?void 0:n.call(e,"inert"),o=a===""||a==="true",i=o||t&&e&&r(e.parentNode);return i},wt=function(e){var t,n=e==null||(t=e.getAttribute)===null||t===void 0?void 0:t.call(e,"contenteditable");return n===""||n==="true"},ze=function(e,t,n){if($(e))return[];var a=Array.prototype.slice.apply(e.querySelectorAll(J));return t&&L.call(e,J)&&a.unshift(e),a=a.filter(n),a},xe=function r(e,t,n){for(var a=[],o=Array.from(e);o.length;){var i=o.shift();if(!$(i,!1))if(i.tagName==="SLOT"){var f=i.assignedElements(),b=f.length?f:i.children,v=r(b,!0,n);n.flatten?a.push.apply(a,v):a.push({scopeParent:i,candidates:v})}else{var p=L.call(i,J);p&&n.filter(i)&&(t||!e.includes(i))&&a.push(i);var h=i.shadowRoot||typeof n.getShadowRoot=="function"&&n.getShadowRoot(i),l=!$(h,!1)&&(!n.shadowRootFilter||n.shadowRootFilter(i));if(h&&l){var m=r(h===!0?i.children:h.children,!0,n);n.flatten?a.push.apply(a,m):a.push({scopeParent:i,candidates:m})}else o.unshift.apply(o,i.children)}}return a},Ve=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},R=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||wt(e))&&!Ve(e)?0:e.tabIndex},Tt=function(e,t){var n=R(e);return n<0&&t&&!Ve(e)?0:n},Nt=function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex},Xe=function(e){return e.tagName==="INPUT"},St=function(e){return Xe(e)&&e.type==="hidden"},Et=function(e){var t=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(n){return n.tagName==="SUMMARY"});return t},Ft=function(e,t){for(var n=0;n<e.length;n++)if(e[n].checked&&e[n].form===t)return e[n]},kt=function(e){if(!e.name)return!0;var t=e.form||Q(e),n=function(f){return t.querySelectorAll('input[type="radio"][name="'+f+'"]')},a;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")a=n(window.CSS.escape(e.name));else try{a=n(e.name)}catch(i){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",i.message),!1}var o=Ft(a,e.form);return!o||o===e},Pt=function(e){return Xe(e)&&e.type==="radio"},Dt=function(e){return Pt(e)&&!kt(e)},It=function(e){var t,n=e&&Q(e),a=(t=n)===null||t===void 0?void 0:t.host,o=!1;if(n&&n!==e){var i,f,b;for(o=!!((i=a)!==null&&i!==void 0&&(f=i.ownerDocument)!==null&&f!==void 0&&f.contains(a)||e!=null&&(b=e.ownerDocument)!==null&&b!==void 0&&b.contains(e));!o&&a;){var v,p,h;n=Q(a),a=(v=n)===null||v===void 0?void 0:v.host,o=!!((p=a)!==null&&p!==void 0&&(h=p.ownerDocument)!==null&&h!==void 0&&h.contains(a))}}return o},Fe=function(e){var t=e.getBoundingClientRect(),n=t.width,a=t.height;return n===0&&a===0},Ot=function(e,t){var n=t.displayCheck,a=t.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var o=L.call(e,"details>summary:first-of-type"),i=o?e.parentElement:e;if(L.call(i,"details:not([open]) *"))return!0;if(!n||n==="full"||n==="legacy-full"){if(typeof a=="function"){for(var f=e;e;){var b=e.parentElement,v=Q(e);if(b&&!b.shadowRoot&&a(b)===!0)return Fe(e);e.assignedSlot?e=e.assignedSlot:!b&&v!==e.ownerDocument?e=v.host:e=b}e=f}if(It(e))return!e.getClientRects().length;if(n!=="legacy-full")return!0}else if(n==="non-zero-area")return Fe(e);return!1},Ct=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var t=e.parentElement;t;){if(t.tagName==="FIELDSET"&&t.disabled){for(var n=0;n<t.children.length;n++){var a=t.children.item(n);if(a.tagName==="LEGEND")return L.call(t,"fieldset[disabled] *")?!0:!a.contains(e)}return!0}t=t.parentElement}return!1},ee=function(e,t){return!(t.disabled||$(t)||St(t)||Ot(t,e)||Et(t)||Ct(t))},le=function(e,t){return!(Dt(t)||R(t)<0||!ee(e,t))},At=function(e){var t=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(t)||t>=0)},Rt=function r(e){var t=[],n=[];return e.forEach(function(a,o){var i=!!a.scopeParent,f=i?a.scopeParent:a,b=Tt(f,i),v=i?r(a.candidates):f;b===0?i?t.push.apply(t,v):t.push(f):n.push({documentOrder:o,tabIndex:b,item:a,isScope:i,content:v})}),n.sort(Nt).reduce(function(a,o){return o.isScope?a.push.apply(a,o.content):a.push(o.content),a},[]).concat(t)},Lt=function(e,t){t=t||{};var n;return t.getShadowRoot?n=xe([e],t.includeContainer,{filter:le.bind(null,t),flatten:!1,getShadowRoot:t.getShadowRoot,shadowRootFilter:At}):n=ze(e,t.includeContainer,le.bind(null,t)),Rt(n)},_t=function(e,t){t=t||{};var n;return t.getShadowRoot?n=xe([e],t.includeContainer,{filter:ee.bind(null,t),flatten:!0,getShadowRoot:t.getShadowRoot}):n=ze(e,t.includeContainer,ee.bind(null,t)),n},_=function(e,t){if(t=t||{},!e)throw new Error("No node provided");return L.call(e,J)===!1?!1:le(t,e)},Bt=qe.concat("iframe").join(","),se=function(e,t){if(t=t||{},!e)throw new Error("No node provided");return L.call(e,Bt)===!1?!1:ee(t,e)};/*!
* focus-trap 7.5.4
* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
*/function ke(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function Pe(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?ke(Object(t),!0).forEach(function(n){Mt(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):ke(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Mt(r,e,t){return e=jt(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Kt(r,e){if(typeof r!="object"||r===null)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function jt(r){var e=Kt(r,"string");return typeof e=="symbol"?e:String(e)}var De={activateTrap:function(e,t){if(e.length>0){var n=e[e.length-1];n!==t&&n.pause()}var a=e.indexOf(t);a===-1||e.splice(a,1),e.push(t)},deactivateTrap:function(e,t){var n=e.indexOf(t);n!==-1&&e.splice(n,1),e.length>0&&e[e.length-1].unpause()}},Wt=function(e){return e.tagName&&e.tagName.toLowerCase()==="input"&&typeof e.select=="function"},Ut=function(e){return(e==null?void 0:e.key)==="Escape"||(e==null?void 0:e.key)==="Esc"||(e==null?void 0:e.keyCode)===27},U=function(e){return(e==null?void 0:e.key)==="Tab"||(e==null?void 0:e.keyCode)===9},qt=function(e){return U(e)&&!e.shiftKey},Gt=function(e){return U(e)&&e.shiftKey},Ie=function(e){return setTimeout(e,0)},Oe=function(e,t){var n=-1;return e.every(function(a,o){return t(a)?(n=o,!1):!0}),n},W=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return typeof e=="function"?e.apply(void 0,n):e},x=function(e){return e.target.shadowRoot&&typeof e.composedPath=="function"?e.composedPath()[0]:e.target},zt=[],xt=function(e,t){var n=(t==null?void 0:t.document)||document,a=(t==null?void 0:t.trapStack)||zt,o=Pe({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:qt,isKeyBackward:Gt},t),i={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},f,b=function(u,s,d){return u&&u[s]!==void 0?u[s]:o[d||s]},v=function(u,s){var d=typeof(s==null?void 0:s.composedPath)=="function"?s.composedPath():void 0;return i.containerGroups.findIndex(function(g){var y=g.container,N=g.tabbableNodes;return y.contains(u)||(d==null?void 0:d.includes(y))||N.find(function(S){return S===u})})},p=function(u){var s=o[u];if(typeof s=="function"){for(var d=arguments.length,g=new Array(d>1?d-1:0),y=1;y<d;y++)g[y-1]=arguments[y];s=s.apply(void 0,g)}if(s===!0&&(s=void 0),!s){if(s===void 0||s===!1)return s;throw new Error("`".concat(u,"` was specified but was not a node, or did not return a node"))}var N=s;if(typeof s=="string"&&(N=n.querySelector(s),!N))throw new Error("`".concat(u,"` as selector refers to no known node"));return N},h=function(){var u=p("initialFocus");if(u===!1)return!1;if(u===void 0||!se(u,o.tabbableOptions))if(v(n.activeElement)>=0)u=n.activeElement;else{var s=i.tabbableGroups[0],d=s&&s.firstTabbableNode;u=d||p("fallbackFocus")}if(!u)throw new Error("Your focus-trap needs to have at least one focusable element");return u},l=function(){if(i.containerGroups=i.containers.map(function(u){var s=Lt(u,o.tabbableOptions),d=_t(u,o.tabbableOptions),g=s.length>0?s[0]:void 0,y=s.length>0?s[s.length-1]:void 0,N=d.find(function(F){return _(F)}),S=d.slice().reverse().find(function(F){return _(F)}),k=!!s.find(function(F){return R(F)>0});return{container:u,tabbableNodes:s,focusableNodes:d,posTabIndexesFound:k,firstTabbableNode:g,lastTabbableNode:y,firstDomTabbableNode:N,lastDomTabbableNode:S,nextTabbableNode:function(C){var K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,O=s.indexOf(C);return O<0?K?d.slice(d.indexOf(C)+1).find(function(j){return _(j)}):d.slice(0,d.indexOf(C)).reverse().find(function(j){return _(j)}):s[O+(K?1:-1)]}}}),i.tabbableGroups=i.containerGroups.filter(function(u){return u.tabbableNodes.length>0}),i.tabbableGroups.length<=0&&!p("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(i.containerGroups.find(function(u){return u.posTabIndexesFound})&&i.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},m=function w(u){var s=u.activeElement;if(s)return s.shadowRoot&&s.shadowRoot.activeElement!==null?w(s.shadowRoot):s},c=function w(u){if(u!==!1&&u!==m(document)){if(!u||!u.focus){w(h());return}u.focus({preventScroll:!!o.preventScroll}),i.mostRecentlyFocusedNode=u,Wt(u)&&u.select()}},T=function(u){var s=p("setReturnFocus",u);return s||(s===!1?!1:u)},P=function(u){var s=u.target,d=u.event,g=u.isBackward,y=g===void 0?!1:g;s=s||x(d),l();var N=null;if(i.tabbableGroups.length>0){var S=v(s,d),k=S>=0?i.containerGroups[S]:void 0;if(S<0)y?N=i.tabbableGroups[i.tabbableGroups.length-1].lastTabbableNode:N=i.tabbableGroups[0].firstTabbableNode;else if(y){var F=Oe(i.tabbableGroups,function(re){var ne=re.firstTabbableNode;return s===ne});if(F<0&&(k.container===s||se(s,o.tabbableOptions)&&!_(s,o.tabbableOptions)&&!k.nextTabbableNode(s,!1))&&(F=S),F>=0){var C=F===0?i.tabbableGroups.length-1:F-1,K=i.tabbableGroups[C];N=R(s)>=0?K.lastTabbableNode:K.lastDomTabbableNode}else U(d)||(N=k.nextTabbableNode(s,!1))}else{var O=Oe(i.tabbableGroups,function(re){var ne=re.lastTabbableNode;return s===ne});if(O<0&&(k.container===s||se(s,o.tabbableOptions)&&!_(s,o.tabbableOptions)&&!k.nextTabbableNode(s))&&(O=S),O>=0){var j=O===i.tabbableGroups.length-1?0:O+1,he=i.tabbableGroups[j];N=R(s)>=0?he.firstTabbableNode:he.firstDomTabbableNode}else U(d)||(N=k.nextTabbableNode(s))}}else N=p("fallbackFocus");return N},E=function(u){var s=x(u);if(!(v(s,u)>=0)){if(W(o.clickOutsideDeactivates,u)){f.deactivate({returnFocus:o.returnFocusOnDeactivate});return}W(o.allowOutsideClick,u)||u.preventDefault()}},D=function(u){var s=x(u),d=v(s,u)>=0;if(d||s instanceof Document)d&&(i.mostRecentlyFocusedNode=s);else{u.stopImmediatePropagation();var g,y=!0;if(i.mostRecentlyFocusedNode)if(R(i.mostRecentlyFocusedNode)>0){var N=v(i.mostRecentlyFocusedNode),S=i.containerGroups[N].tabbableNodes;if(S.length>0){var k=S.findIndex(function(F){return F===i.mostRecentlyFocusedNode});k>=0&&(o.isKeyForward(i.recentNavEvent)?k+1<S.length&&(g=S[k+1],y=!1):k-1>=0&&(g=S[k-1],y=!1))}}else i.containerGroups.some(function(F){return F.tabbableNodes.some(function(C){return R(C)>0})})||(y=!1);else y=!1;y&&(g=P({target:i.mostRecentlyFocusedNode,isBackward:o.isKeyBackward(i.recentNavEvent)})),c(g||i.mostRecentlyFocusedNode||h())}i.recentNavEvent=void 0},I=function(u){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;i.recentNavEvent=u;var d=P({event:u,isBackward:s});d&&(U(u)&&u.preventDefault(),c(d))},B=function(u){if(Ut(u)&&W(o.escapeDeactivates,u)!==!1){u.preventDefault(),f.deactivate();return}(o.isKeyForward(u)||o.isKeyBackward(u))&&I(u,o.isKeyBackward(u))},de=function(u){var s=x(u);v(s,u)>=0||W(o.clickOutsideDeactivates,u)||W(o.allowOutsideClick,u)||(u.preventDefault(),u.stopImmediatePropagation())},ve=function(){if(i.active)return De.activateTrap(a,f),i.delayInitialFocusTimer=o.delayInitialFocus?Ie(function(){c(h())}):c(h()),n.addEventListener("focusin",D,!0),n.addEventListener("mousedown",E,{capture:!0,passive:!1}),n.addEventListener("touchstart",E,{capture:!0,passive:!1}),n.addEventListener("click",de,{capture:!0,passive:!1}),n.addEventListener("keydown",B,{capture:!0,passive:!1}),f},be=function(){if(i.active)return n.removeEventListener("focusin",D,!0),n.removeEventListener("mousedown",E,!0),n.removeEventListener("touchstart",E,!0),n.removeEventListener("click",de,!0),n.removeEventListener("keydown",B,!0),f},He=function(u){var s=u.some(function(d){var g=Array.from(d.removedNodes);return g.some(function(y){return y===i.mostRecentlyFocusedNode})});s&&c(h())},te=typeof window<"u"&&"MutationObserver"in window?new MutationObserver(He):void 0,M=function(){te&&(te.disconnect(),i.active&&!i.paused&&i.containers.map(function(u){te.observe(u,{subtree:!0,childList:!0})}))};return f={get active(){return i.active},get paused(){return i.paused},activate:function(u){if(i.active)return this;var s=b(u,"onActivate"),d=b(u,"onPostActivate"),g=b(u,"checkCanFocusTrap");g||l(),i.active=!0,i.paused=!1,i.nodeFocusedBeforeActivation=n.activeElement,s==null||s();var y=function(){g&&l(),ve(),M(),d==null||d()};return g?(g(i.containers.concat()).then(y,y),this):(y(),this)},deactivate:function(u){if(!i.active)return this;var s=Pe({onDeactivate:o.onDeactivate,onPostDeactivate:o.onPostDeactivate,checkCanReturnFocus:o.checkCanReturnFocus},u);clearTimeout(i.delayInitialFocusTimer),i.delayInitialFocusTimer=void 0,be(),i.active=!1,i.paused=!1,M(),De.deactivateTrap(a,f);var d=b(s,"onDeactivate"),g=b(s,"onPostDeactivate"),y=b(s,"checkCanReturnFocus"),N=b(s,"returnFocus","returnFocusOnDeactivate");d==null||d();var S=function(){Ie(function(){N&&c(T(i.nodeFocusedBeforeActivation)),g==null||g()})};return N&&y?(y(T(i.nodeFocusedBeforeActivation)).then(S,S),this):(S(),this)},pause:function(u){if(i.paused||!i.active)return this;var s=b(u,"onPause"),d=b(u,"onPostPause");return i.paused=!0,s==null||s(),be(),M(),d==null||d(),this},unpause:function(u){if(!i.paused||!i.active)return this;var s=b(u,"onUnpause"),d=b(u,"onPostUnpause");return i.paused=!1,s==null||s(),l(),ve(),M(),d==null||d(),this},updateContainerElements:function(u){var s=[].concat(u).filter(Boolean);return i.containers=s.map(function(d){return typeof d=="string"?n.querySelector(d):d}),i.active&&l(),M(),this}},f.updateContainerElements(e),f};function fr(r={}){let e;const{immediate:t,...n}=r,a=ue(!1),o=ue(!1),i=h=>e==null?void 0:e.activate(h),f=h=>{e==null||e.deactivate(h)},b=()=>{e&&(e.pause(),o.set(!0))},v=()=>{e&&(e.unpause(),o.set(!1))};return{useFocusTrap:h=>(e=xt(h,{...n,onActivate(){var l;a.set(!0),(l=r.onActivate)==null||l.call(r)},onDeactivate(){var l;a.set(!1),(l=r.onDeactivate)==null||l.call(r)}}),t&&i(),{destroy(){f(),e=void 0}}),hasFocus:we(a),isPaused:we(o),activate:i,deactivate:f,pause:b,unpause:v}}const V=[],dr=(r,e)=>{let t=G;function n(){const o=V.indexOf(r);o>=0&&V.splice(o,1)}function a(o){t();const{open:i,onClose:f,shouldCloseOnInteractOutside:b,closeOnInteractOutside:v}=o;je(100).then(()=>{i?V.push(r):n()});function p(){return ct(V)===r}function h(){p()&&f&&(f(),n())}function l(c){const T=c.target;fe(T)&&T&&p()&&(c.preventDefault(),c.stopPropagation(),c.stopImmediatePropagation())}function m(c){b!=null&&b(c)&&p()&&(c.preventDefault(),c.stopPropagation(),c.stopImmediatePropagation(),h())}t=Vt(r,{onInteractOutsideStart:l,onInteractOutside:v?m:void 0,enabled:i}).destroy}return a(e),{update:a,destroy(){n(),t()}}},vr=(r,e="body")=>{let t;if(!Z(e)&&typeof e!="string")return{destroy:G};async function n(o){if(e=o,typeof e=="string"){if(t=document.querySelector(e),t===null&&(await Be(),t=document.querySelector(e)),t===null)throw new Error(`No element found matching css selector: "${e}"`)}else if(e instanceof HTMLElement)t=e;else throw new TypeError(`Unknown portal target type: ${e===null?"null":typeof e}. Allowed types: string (CSS selector) or HTMLElement.`);r.dataset.portal="",t.appendChild(r),r.hidden=!1}function a(){r.remove()}return n(e),{update:n,destroy:a}},Vt=(r,e)=>{let t=G,n=G,a=!1,o=!1,i=!1;function f(p){t(),n();const{onInteractOutside:h,onInteractOutsideStart:l,enabled:m}=p;if(!m)return;function c(E){h&&Ce(E,r)&&(l==null||l(E));const D=E.target;fe(D)&&Ye(r,D)&&(o=!0),a=!0}function T(E){h==null||h(E)}const P=Xt(r);if(typeof PointerEvent<"u"){const E=D=>{n();const I=B=>{b(B)&&T(B),v()};if(D.pointerType==="touch"){n=A(P,"click",I,{capture:!0,once:!0});return}I(D)};t=ye(A(P,"pointerdown",c,!0),A(P,"pointerup",E,!0))}else{const E=I=>{i?i=!1:b(I)&&T(I),v()},D=I=>{i=!0,b(I)&&T(I),v()};t=ye(A(P,"mousedown",c,!0),A(P,"mouseup",E,!0),A(P,"touchstart",c,!0),A(P,"touchend",D,!0))}}function b(p){return!!(a&&!o&&Ce(p,r))}function v(){a=!1,o=!1}return f(e),{update:f,destroy(){t(),n()}}};function Ce(r,e){if("button"in r&&r.button>0)return!1;const t=r.target;if(!fe(t))return!1;const n=t.ownerDocument;return!n||!n.documentElement.contains(t)?!1:e&&!Ye(e,t)}function Ye(r,e){return r===e||r.contains(e)}function Xt(r){return(r==null?void 0:r.ownerDocument)??document}function br(r){const e={};for(const t in r){const n=r[t];n!==void 0&&(e[t]=n)}return e}function hr(r){return function(e,t){if(t===void 0)return;const n=r[e];n&&n.set(t)}}export{tr as I,lr as a,vr as b,fr as c,br as d,hr as e,rr as f,or as g,cr as h,ie as i,nr as j,ir as o,sr as r,je as s,ur as t,dr as u,ar as w};
